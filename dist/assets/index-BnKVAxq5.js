var eg=e=>{throw TypeError(e)};var Bh=(e,t,n)=>t.has(e)||eg("Cannot "+n);var ie=(e,t,n)=>(Bh(e,t,"read from private field"),n?n.call(e):t.get(e)),dt=(e,t,n)=>t.has(e)?eg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Xe=(e,t,n,r)=>(Bh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),jn=(e,t,n)=>(Bh(e,t,"access private method"),n);var Fc=(e,t,n,r)=>({set _(o){Xe(e,t,o,n)},get _(){return ie(e,t,r)}});function qx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Xx={exports:{}},_d={},Kx={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),xE=Symbol.for("react.portal"),yE=Symbol.for("react.fragment"),vE=Symbol.for("react.strict_mode"),wE=Symbol.for("react.profiler"),bE=Symbol.for("react.provider"),CE=Symbol.for("react.context"),SE=Symbol.for("react.forward_ref"),EE=Symbol.for("react.suspense"),_E=Symbol.for("react.memo"),NE=Symbol.for("react.lazy"),tg=Symbol.iterator;function AE(e){return e===null||typeof e!="object"?null:(e=tg&&e[tg]||e["@@iterator"],typeof e=="function"?e:null)}var Qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zx=Object.assign,Jx={};function Ba(e,t,n){this.props=e,this.context=t,this.refs=Jx,this.updater=n||Qx}Ba.prototype.isReactComponent={};Ba.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ba.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ey(){}ey.prototype=Ba.prototype;function l1(e,t,n){this.props=e,this.context=t,this.refs=Jx,this.updater=n||Qx}var c1=l1.prototype=new ey;c1.constructor=l1;Zx(c1,Ba.prototype);c1.isPureReactComponent=!0;var ng=Array.isArray,ty=Object.prototype.hasOwnProperty,u1={current:null},ny={key:!0,ref:!0,__self:!0,__source:!0};function ry(e,t,n){var r,o={},a=null,h=null;if(t!=null)for(r in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(a=""+t.key),t)ty.call(t,r)&&!ny.hasOwnProperty(r)&&(o[r]=t[r]);var p=arguments.length-2;if(p===1)o.children=n;else if(1<p){for(var x=Array(p),m=0;m<p;m++)x[m]=arguments[m+2];o.children=x}if(e&&e.defaultProps)for(r in p=e.defaultProps,p)o[r]===void 0&&(o[r]=p[r]);return{$$typeof:fc,type:e,key:a,ref:h,props:o,_owner:u1.current}}function TE(e,t){return{$$typeof:fc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function d1(e){return typeof e=="object"&&e!==null&&e.$$typeof===fc}function IE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rg=/\/+/g;function Fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IE(""+e.key):t.toString(36)}function xu(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(a){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case fc:case xE:h=!0}}if(h)return h=e,o=o(h),e=r===""?"."+Fh(h,0):r,ng(o)?(n="",e!=null&&(n=e.replace(rg,"$&/")+"/"),xu(o,t,n,"",function(m){return m})):o!=null&&(d1(o)&&(o=TE(o,n+(!o.key||h&&h.key===o.key?"":(""+o.key).replace(rg,"$&/")+"/")+e)),t.push(o)),1;if(h=0,r=r===""?".":r+":",ng(e))for(var p=0;p<e.length;p++){a=e[p];var x=r+Fh(a,p);h+=xu(a,t,n,x,o)}else if(x=AE(e),typeof x=="function")for(e=x.call(e),p=0;!(a=e.next()).done;)a=a.value,x=r+Fh(a,p++),h+=xu(a,t,n,x,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Uc(e,t,n){if(e==null)return e;var r=[],o=0;return xu(e,r,"","",function(a){return t.call(n,a,o++)}),r}function jE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $n={current:null},yu={transition:null},RE={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:yu,ReactCurrentOwner:u1};function sy(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:Uc,forEach:function(e,t,n){Uc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Uc(e,function(){t++}),t},toArray:function(e){return Uc(e,function(t){return t})||[]},only:function(e){if(!d1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Component=Ba;tt.Fragment=yE;tt.Profiler=wE;tt.PureComponent=l1;tt.StrictMode=vE;tt.Suspense=EE;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RE;tt.act=sy;tt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zx({},e.props),o=e.key,a=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,h=u1.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(x in t)ty.call(t,x)&&!ny.hasOwnProperty(x)&&(r[x]=t[x]===void 0&&p!==void 0?p[x]:t[x])}var x=arguments.length-2;if(x===1)r.children=n;else if(1<x){p=Array(x);for(var m=0;m<x;m++)p[m]=arguments[m+2];r.children=p}return{$$typeof:fc,type:e.type,key:o,ref:a,props:r,_owner:h}};tt.createContext=function(e){return e={$$typeof:CE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bE,_context:e},e.Consumer=e};tt.createElement=ry;tt.createFactory=function(e){var t=ry.bind(null,e);return t.type=e,t};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:SE,render:e}};tt.isValidElement=d1;tt.lazy=function(e){return{$$typeof:NE,_payload:{_status:-1,_result:e},_init:jE}};tt.memo=function(e,t){return{$$typeof:_E,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=yu.transition;yu.transition={};try{e()}finally{yu.transition=t}};tt.unstable_act=sy;tt.useCallback=function(e,t){return $n.current.useCallback(e,t)};tt.useContext=function(e){return $n.current.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e){return $n.current.useDeferredValue(e)};tt.useEffect=function(e,t){return $n.current.useEffect(e,t)};tt.useId=function(){return $n.current.useId()};tt.useImperativeHandle=function(e,t,n){return $n.current.useImperativeHandle(e,t,n)};tt.useInsertionEffect=function(e,t){return $n.current.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return $n.current.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return $n.current.useMemo(e,t)};tt.useReducer=function(e,t,n){return $n.current.useReducer(e,t,n)};tt.useRef=function(e){return $n.current.useRef(e)};tt.useState=function(e){return $n.current.useState(e)};tt.useSyncExternalStore=function(e,t,n){return $n.current.useSyncExternalStore(e,t,n)};tt.useTransition=function(){return $n.current.useTransition()};tt.version="18.3.1";Kx.exports=tt;var E=Kx.exports;const ve=a1(E),iy=qx({__proto__:null,default:ve},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE=E,kE=Symbol.for("react.element"),ME=Symbol.for("react.fragment"),DE=Object.prototype.hasOwnProperty,PE=OE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LE={key:!0,ref:!0,__self:!0,__source:!0};function oy(e,t,n){var r,o={},a=null,h=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(h=t.ref);for(r in t)DE.call(t,r)&&!LE.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:kE,type:e,key:a,ref:h,props:o,_owner:PE.current}}_d.Fragment=ME;_d.jsx=oy;_d.jsxs=oy;Xx.exports=_d;var c=Xx.exports,ay={exports:{}},vr={},ly={exports:{}},cy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,ae){var we=K.length;K.push(ae);e:for(;0<we;){var xe=we-1>>>1,be=K[xe];if(0<o(be,ae))K[xe]=ae,K[we]=be,we=xe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ae=K[0],we=K.pop();if(we!==ae){K[0]=we;e:for(var xe=0,be=K.length,ke=be>>>1;xe<ke;){var Q=2*(xe+1)-1,Ee=K[Q],Z=Q+1,Ne=K[Z];if(0>o(Ee,we))Z<be&&0>o(Ne,Ee)?(K[xe]=Ne,K[Z]=we,xe=Z):(K[xe]=Ee,K[Q]=we,xe=Q);else if(Z<be&&0>o(Ne,we))K[xe]=Ne,K[Z]=we,xe=Z;else break e}}return ae}function o(K,ae){var we=K.sortIndex-ae.sortIndex;return we!==0?we:K.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var h=Date,p=h.now();e.unstable_now=function(){return h.now()-p}}var x=[],m=[],v=1,w=null,C=3,I=!1,j=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(K){for(var ae=n(m);ae!==null;){if(ae.callback===null)r(m);else if(ae.startTime<=K)r(m),ae.sortIndex=ae.expirationTime,t(x,ae);else break;ae=n(m)}}function P(K){if(T=!1,N(K),!j)if(n(x)!==null)j=!0,oe(O);else{var ae=n(m);ae!==null&&ce(P,ae.startTime-K)}}function O(K,ae){j=!1,T&&(T=!1,_(U),U=-1),I=!0;var we=C;try{for(N(ae),w=n(x);w!==null&&(!(w.expirationTime>ae)||K&&!se());){var xe=w.callback;if(typeof xe=="function"){w.callback=null,C=w.priorityLevel;var be=xe(w.expirationTime<=ae);ae=e.unstable_now(),typeof be=="function"?w.callback=be:w===n(x)&&r(x),N(ae)}else r(x);w=n(x)}if(w!==null)var ke=!0;else{var Q=n(m);Q!==null&&ce(P,Q.startTime-ae),ke=!1}return ke}finally{w=null,C=we,I=!1}}var F=!1,D=null,U=-1,V=5,re=-1;function se(){return!(e.unstable_now()-re<V)}function X(){if(D!==null){var K=e.unstable_now();re=K;var ae=!0;try{ae=D(!0,K)}finally{ae?de():(F=!1,D=null)}}else F=!1}var de;if(typeof S=="function")de=function(){S(X)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,$=te.port2;te.port1.onmessage=X,de=function(){$.postMessage(null)}}else de=function(){R(X,0)};function oe(K){D=K,F||(F=!0,de())}function ce(K,ae){U=R(function(){K(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){j||I||(j=!0,oe(O))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(K){switch(C){case 1:case 2:case 3:var ae=3;break;default:ae=C}var we=C;C=ae;try{return K()}finally{C=we}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var we=C;C=K;try{return ae()}finally{C=we}},e.unstable_scheduleCallback=function(K,ae,we){var xe=e.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?xe+we:xe):we=xe,K){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=we+be,K={id:v++,callback:ae,priorityLevel:K,startTime:we,expirationTime:be,sortIndex:-1},we>xe?(K.sortIndex=we,t(m,K),n(x)===null&&K===n(m)&&(T?(_(U),U=-1):T=!0,ce(P,we-xe))):(K.sortIndex=be,t(x,K),j||I||(j=!0,oe(O))),K},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(K){var ae=C;return function(){var we=C;C=ae;try{return K.apply(this,arguments)}finally{C=we}}}})(cy);ly.exports=cy;var BE=ly.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE=E,xr=BE;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uy=new Set,Bl={};function Co(e,t){Aa(e,t),Aa(e+"Capture",t)}function Aa(e,t){for(Bl[e]=t,e=0;e<t.length;e++)uy.add(t[e])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=Object.prototype.hasOwnProperty,UE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sg={},ig={};function zE(e){return Df.call(ig,e)?!0:Df.call(sg,e)?!1:UE.test(e)?ig[e]=!0:(sg[e]=!0,!1)}function VE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HE(e,t,n,r){if(t===null||typeof t>"u"||VE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gn(e,t,n,r,o,a,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=h}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){An[e]=new Gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];An[t]=new Gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){An[e]=new Gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){An[e]=new Gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){An[e]=new Gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){An[e]=new Gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){An[e]=new Gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){An[e]=new Gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){An[e]=new Gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var h1=/[\-:]([a-z])/g;function f1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(h1,f1);An[t]=new Gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(h1,f1);An[t]=new Gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(h1,f1);An[t]=new Gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){An[e]=new Gn(e,1,!1,e.toLowerCase(),null,!1,!1)});An.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){An[e]=new Gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function p1(e,t,n,r){var o=An.hasOwnProperty(t)?An[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HE(t,n,o,r)&&(n=null),r||o===null?zE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vs=FE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zc=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Qo=Symbol.for("react.fragment"),g1=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),dy=Symbol.for("react.provider"),hy=Symbol.for("react.context"),m1=Symbol.for("react.forward_ref"),Lf=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),x1=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),fy=Symbol.for("react.offscreen"),og=Symbol.iterator;function ol(e){return e===null||typeof e!="object"?null:(e=og&&e[og]||e["@@iterator"],typeof e=="function"?e:null)}var Ht=Object.assign,Uh;function xl(e){if(Uh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Uh=t&&t[1]||""}return`
`+Uh+e}var zh=!1;function Vh(e,t){if(!e||zh)return"";zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var o=m.stack.split(`
`),a=r.stack.split(`
`),h=o.length-1,p=a.length-1;1<=h&&0<=p&&o[h]!==a[p];)p--;for(;1<=h&&0<=p;h--,p--)if(o[h]!==a[p]){if(h!==1||p!==1)do if(h--,p--,0>p||o[h]!==a[p]){var x=`
`+o[h].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=h&&0<=p);break}}}finally{zh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xl(e):""}function WE(e){switch(e.tag){case 5:return xl(e.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return e=Vh(e.type,!1),e;case 11:return e=Vh(e.type.render,!1),e;case 1:return e=Vh(e.type,!0),e;default:return""}}function Ff(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qo:return"Fragment";case Ko:return"Portal";case Pf:return"Profiler";case g1:return"StrictMode";case Lf:return"Suspense";case Bf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hy:return(e.displayName||"Context")+".Consumer";case dy:return(e._context.displayName||"Context")+".Provider";case m1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x1:return t=e.displayName||null,t!==null?t:Ff(e.type)||"Memo";case ri:t=e._payload,e=e._init;try{return Ff(e(t))}catch{}}return null}function $E(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ff(t);case 8:return t===g1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function py(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GE(e){var t=py(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){r=""+h,a.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vc(e){e._valueTracker||(e._valueTracker=GE(e))}function gy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=py(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uf(e,t){var n=t.checked;return Ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ag(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ai(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function my(e,t){t=t.checked,t!=null&&p1(e,"checked",t,!1)}function zf(e,t){my(e,t);var n=Ai(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vf(e,t.type,Ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vf(e,t,n){(t!=="number"||Bu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yl=Array.isArray;function ca(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ai(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Hf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return Ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(yl(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ai(n)}}function xy(e,t){var n=Ai(t.value),r=Ai(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ug(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hc,vy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YE=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(e){YE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sl[t]=Sl[e]})});function wy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sl.hasOwnProperty(e)&&Sl[e]?(""+t).trim():t+"px"}function by(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=wy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var qE=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $f(e,t){if(t){if(qE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function Gf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=null;function y1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qf=null,ua=null,da=null;function dg(e){if(e=mc(e)){if(typeof qf!="function")throw Error(he(280));var t=e.stateNode;t&&(t=jd(t),qf(e.stateNode,e.type,t))}}function Cy(e){ua?da?da.push(e):da=[e]:ua=e}function Sy(){if(ua){var e=ua,t=da;if(da=ua=null,dg(e),t)for(e=0;e<t.length;e++)dg(t[e])}}function Ey(e,t){return e(t)}function _y(){}var Hh=!1;function Ny(e,t,n){if(Hh)return e(t,n);Hh=!0;try{return Ey(e,t,n)}finally{Hh=!1,(ua!==null||da!==null)&&(_y(),Sy())}}function Ul(e,t){var n=e.stateNode;if(n===null)return null;var r=jd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var Xf=!1;if(Ps)try{var al={};Object.defineProperty(al,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Xf=!1}function XE(e,t,n,r,o,a,h,p,x){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(v){this.onError(v)}}var El=!1,Fu=null,Uu=!1,Kf=null,KE={onError:function(e){El=!0,Fu=e}};function QE(e,t,n,r,o,a,h,p,x){El=!1,Fu=null,XE.apply(KE,arguments)}function ZE(e,t,n,r,o,a,h,p,x){if(QE.apply(this,arguments),El){if(El){var m=Fu;El=!1,Fu=null}else throw Error(he(198));Uu||(Uu=!0,Kf=m)}}function So(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ay(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hg(e){if(So(e)!==e)throw Error(he(188))}function JE(e){var t=e.alternate;if(!t){if(t=So(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return hg(o),e;if(a===r)return hg(o),t;a=a.sibling}throw Error(he(188))}if(n.return!==r.return)n=o,r=a;else{for(var h=!1,p=o.child;p;){if(p===n){h=!0,n=o,r=a;break}if(p===r){h=!0,r=o,n=a;break}p=p.sibling}if(!h){for(p=a.child;p;){if(p===n){h=!0,n=a,r=o;break}if(p===r){h=!0,r=a,n=o;break}p=p.sibling}if(!h)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function Ty(e){return e=JE(e),e!==null?Iy(e):null}function Iy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Iy(e);if(t!==null)return t;e=e.sibling}return null}var jy=xr.unstable_scheduleCallback,fg=xr.unstable_cancelCallback,e_=xr.unstable_shouldYield,t_=xr.unstable_requestPaint,Zt=xr.unstable_now,n_=xr.unstable_getCurrentPriorityLevel,v1=xr.unstable_ImmediatePriority,Ry=xr.unstable_UserBlockingPriority,zu=xr.unstable_NormalPriority,r_=xr.unstable_LowPriority,Oy=xr.unstable_IdlePriority,Nd=null,vs=null;function s_(e){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Nd,e,void 0,(e.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:a_,i_=Math.log,o_=Math.LN2;function a_(e){return e>>>=0,e===0?32:31-(i_(e)/o_|0)|0}var Wc=64,$c=4194304;function vl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,h=n&268435455;if(h!==0){var p=h&~o;p!==0?r=vl(p):(a&=h,a!==0&&(r=vl(a)))}else h=n&~o,h!==0?r=vl(h):a!==0&&(r=vl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qr(t),o=1<<n,r|=e[n],t&=~o;return r}function l_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var h=31-Qr(a),p=1<<h,x=o[h];x===-1?(!(p&n)||p&r)&&(o[h]=l_(p,t)):x<=t&&(e.expiredLanes|=p),a&=~p}}function Qf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ky(){var e=Wc;return Wc<<=1,!(Wc&4194240)&&(Wc=64),e}function Wh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qr(t),e[t]=n}function u_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Qr(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function w1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qr(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var gt=0;function My(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dy,b1,Py,Ly,By,Zf=!1,Gc=[],yi=null,vi=null,wi=null,zl=new Map,Vl=new Map,oi=[],d_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pg(e,t){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(t.pointerId)}}function ll(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=mc(t),t!==null&&b1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function h_(e,t,n,r,o){switch(t){case"focusin":return yi=ll(yi,e,t,n,r,o),!0;case"dragenter":return vi=ll(vi,e,t,n,r,o),!0;case"mouseover":return wi=ll(wi,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return zl.set(a,ll(zl.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Vl.set(a,ll(Vl.get(a)||null,e,t,n,r,o)),!0}return!1}function Fy(e){var t=no(e.target);if(t!==null){var n=So(t);if(n!==null){if(t=n.tag,t===13){if(t=Ay(n),t!==null){e.blockedOn=t,By(e.priority,function(){Py(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yf=r,n.target.dispatchEvent(r),Yf=null}else return t=mc(n),t!==null&&b1(t),e.blockedOn=n,!1;t.shift()}return!0}function gg(e,t,n){vu(e)&&n.delete(t)}function f_(){Zf=!1,yi!==null&&vu(yi)&&(yi=null),vi!==null&&vu(vi)&&(vi=null),wi!==null&&vu(wi)&&(wi=null),zl.forEach(gg),Vl.forEach(gg)}function cl(e,t){e.blockedOn===t&&(e.blockedOn=null,Zf||(Zf=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,f_)))}function Hl(e){function t(o){return cl(o,e)}if(0<Gc.length){cl(Gc[0],e);for(var n=1;n<Gc.length;n++){var r=Gc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yi!==null&&cl(yi,e),vi!==null&&cl(vi,e),wi!==null&&cl(wi,e),zl.forEach(t),Vl.forEach(t),n=0;n<oi.length;n++)r=oi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)Fy(n),n.blockedOn===null&&oi.shift()}var ha=Vs.ReactCurrentBatchConfig,Hu=!0;function p_(e,t,n,r){var o=gt,a=ha.transition;ha.transition=null;try{gt=1,C1(e,t,n,r)}finally{gt=o,ha.transition=a}}function g_(e,t,n,r){var o=gt,a=ha.transition;ha.transition=null;try{gt=4,C1(e,t,n,r)}finally{gt=o,ha.transition=a}}function C1(e,t,n,r){if(Hu){var o=Jf(e,t,n,r);if(o===null)ef(e,t,r,Wu,n),pg(e,r);else if(h_(o,e,t,n,r))r.stopPropagation();else if(pg(e,r),t&4&&-1<d_.indexOf(e)){for(;o!==null;){var a=mc(o);if(a!==null&&Dy(a),a=Jf(e,t,n,r),a===null&&ef(e,t,r,Wu,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else ef(e,t,r,null,n)}}var Wu=null;function Jf(e,t,n,r){if(Wu=null,e=y1(r),e=no(e),e!==null)if(t=So(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ay(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wu=e,null}function Uy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n_()){case v1:return 1;case Ry:return 4;case zu:case r_:return 16;case Oy:return 536870912;default:return 16}default:return 16}}var gi=null,S1=null,wu=null;function zy(){if(wu)return wu;var e,t=S1,n=t.length,r,o="value"in gi?gi.value:gi.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(r=1;r<=h&&t[n-r]===o[a-r];r++);return wu=o.slice(e,1<r?1-r:void 0)}function bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yc(){return!0}function mg(){return!1}function wr(e){function t(n,r,o,a,h){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=h,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(a):a[p]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yc:mg,this.isPropagationStopped=mg,this}return Ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),t}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E1=wr(Fa),gc=Ht({},Fa,{view:0,detail:0}),m_=wr(gc),$h,Gh,ul,Ad=Ht({},gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ul&&(ul&&e.type==="mousemove"?($h=e.screenX-ul.screenX,Gh=e.screenY-ul.screenY):Gh=$h=0,ul=e),$h)},movementY:function(e){return"movementY"in e?e.movementY:Gh}}),xg=wr(Ad),x_=Ht({},Ad,{dataTransfer:0}),y_=wr(x_),v_=Ht({},gc,{relatedTarget:0}),Yh=wr(v_),w_=Ht({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),b_=wr(w_),C_=Ht({},Fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S_=wr(C_),E_=Ht({},Fa,{data:0}),yg=wr(E_),__={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A_[e])?!!t[e]:!1}function _1(){return T_}var I_=Ht({},gc,{key:function(e){if(e.key){var t=__[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_1,charCode:function(e){return e.type==="keypress"?bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j_=wr(I_),R_=Ht({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vg=wr(R_),O_=Ht({},gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_1}),k_=wr(O_),M_=Ht({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),D_=wr(M_),P_=Ht({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L_=wr(P_),B_=[9,13,27,32],N1=Ps&&"CompositionEvent"in window,_l=null;Ps&&"documentMode"in document&&(_l=document.documentMode);var F_=Ps&&"TextEvent"in window&&!_l,Vy=Ps&&(!N1||_l&&8<_l&&11>=_l),wg=" ",bg=!1;function Hy(e,t){switch(e){case"keyup":return B_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zo=!1;function U_(e,t){switch(e){case"compositionend":return Wy(t);case"keypress":return t.which!==32?null:(bg=!0,wg);case"textInput":return e=t.data,e===wg&&bg?null:e;default:return null}}function z_(e,t){if(Zo)return e==="compositionend"||!N1&&Hy(e,t)?(e=zy(),wu=S1=gi=null,Zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vy&&t.locale!=="ko"?null:t.data;default:return null}}var V_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V_[e.type]:t==="textarea"}function $y(e,t,n,r){Cy(r),t=$u(t,"onChange"),0<t.length&&(n=new E1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nl=null,Wl=null;function H_(e){nv(e,0)}function Td(e){var t=ta(e);if(gy(t))return e}function W_(e,t){if(e==="change")return t}var Gy=!1;if(Ps){var qh;if(Ps){var Xh="oninput"in document;if(!Xh){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Xh=typeof Sg.oninput=="function"}qh=Xh}else qh=!1;Gy=qh&&(!document.documentMode||9<document.documentMode)}function Eg(){Nl&&(Nl.detachEvent("onpropertychange",Yy),Wl=Nl=null)}function Yy(e){if(e.propertyName==="value"&&Td(Wl)){var t=[];$y(t,Wl,e,y1(e)),Ny(H_,t)}}function $_(e,t,n){e==="focusin"?(Eg(),Nl=t,Wl=n,Nl.attachEvent("onpropertychange",Yy)):e==="focusout"&&Eg()}function G_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Td(Wl)}function Y_(e,t){if(e==="click")return Td(t)}function q_(e,t){if(e==="input"||e==="change")return Td(t)}function X_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jr=typeof Object.is=="function"?Object.is:X_;function $l(e,t){if(Jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Df.call(t,o)||!Jr(e[o],t[o]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ng(e,t){var n=_g(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_g(n)}}function qy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xy(){for(var e=window,t=Bu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bu(e.document)}return t}function A1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K_(e){var t=Xy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qy(n.ownerDocument.documentElement,n)){if(r!==null&&A1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=Ng(n,a);var h=Ng(n,r);o&&h&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Q_=Ps&&"documentMode"in document&&11>=document.documentMode,Jo=null,e0=null,Al=null,t0=!1;function Ag(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;t0||Jo==null||Jo!==Bu(r)||(r=Jo,"selectionStart"in r&&A1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Al&&$l(Al,r)||(Al=r,r=$u(e0,"onSelect"),0<r.length&&(t=new E1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jo)))}function qc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ea={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},Kh={},Ky={};Ps&&(Ky=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function Id(e){if(Kh[e])return Kh[e];if(!ea[e])return e;var t=ea[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ky)return Kh[e]=t[n];return e}var Qy=Id("animationend"),Zy=Id("animationiteration"),Jy=Id("animationstart"),ev=Id("transitionend"),tv=new Map,Tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){tv.set(e,t),Co(t,[e])}for(var Qh=0;Qh<Tg.length;Qh++){var Zh=Tg[Qh],Z_=Zh.toLowerCase(),J_=Zh[0].toUpperCase()+Zh.slice(1);Li(Z_,"on"+J_)}Li(Qy,"onAnimationEnd");Li(Zy,"onAnimationIteration");Li(Jy,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(ev,"onTransitionEnd");Aa("onMouseEnter",["mouseout","mouseover"]);Aa("onMouseLeave",["mouseout","mouseover"]);Aa("onPointerEnter",["pointerout","pointerover"]);Aa("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eN=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function Ig(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ZE(r,t,void 0,e),e.currentTarget=null}function nv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var h=r.length-1;0<=h;h--){var p=r[h],x=p.instance,m=p.currentTarget;if(p=p.listener,x!==a&&o.isPropagationStopped())break e;Ig(o,p,m),a=x}else for(h=0;h<r.length;h++){if(p=r[h],x=p.instance,m=p.currentTarget,p=p.listener,x!==a&&o.isPropagationStopped())break e;Ig(o,p,m),a=x}}}if(Uu)throw e=Kf,Uu=!1,Kf=null,e}function It(e,t){var n=t[o0];n===void 0&&(n=t[o0]=new Set);var r=e+"__bubble";n.has(r)||(rv(t,e,2,!1),n.add(r))}function Jh(e,t,n){var r=0;t&&(r|=4),rv(n,e,r,t)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Gl(e){if(!e[Xc]){e[Xc]=!0,uy.forEach(function(n){n!=="selectionchange"&&(eN.has(n)||Jh(n,!1,e),Jh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xc]||(t[Xc]=!0,Jh("selectionchange",!1,t))}}function rv(e,t,n,r){switch(Uy(t)){case 1:var o=p_;break;case 4:o=g_;break;default:o=C1}n=o.bind(null,t,n,e),o=void 0,!Xf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ef(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var p=r.stateNode.containerInfo;if(p===o||p.nodeType===8&&p.parentNode===o)break;if(h===4)for(h=r.return;h!==null;){var x=h.tag;if((x===3||x===4)&&(x=h.stateNode.containerInfo,x===o||x.nodeType===8&&x.parentNode===o))return;h=h.return}for(;p!==null;){if(h=no(p),h===null)return;if(x=h.tag,x===5||x===6){r=a=h;continue e}p=p.parentNode}}r=r.return}Ny(function(){var m=a,v=y1(n),w=[];e:{var C=tv.get(e);if(C!==void 0){var I=E1,j=e;switch(e){case"keypress":if(bu(n)===0)break e;case"keydown":case"keyup":I=j_;break;case"focusin":j="focus",I=Yh;break;case"focusout":j="blur",I=Yh;break;case"beforeblur":case"afterblur":I=Yh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=y_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=k_;break;case Qy:case Zy:case Jy:I=b_;break;case ev:I=D_;break;case"scroll":I=m_;break;case"wheel":I=L_;break;case"copy":case"cut":case"paste":I=S_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=vg}var T=(t&4)!==0,R=!T&&e==="scroll",_=T?C!==null?C+"Capture":null:C;T=[];for(var S=m,N;S!==null;){N=S;var P=N.stateNode;if(N.tag===5&&P!==null&&(N=P,_!==null&&(P=Ul(S,_),P!=null&&T.push(Yl(S,P,N)))),R)break;S=S.return}0<T.length&&(C=new I(C,j,null,n,v),w.push({event:C,listeners:T}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",C&&n!==Yf&&(j=n.relatedTarget||n.fromElement)&&(no(j)||j[Ls]))break e;if((I||C)&&(C=v.window===v?v:(C=v.ownerDocument)?C.defaultView||C.parentWindow:window,I?(j=n.relatedTarget||n.toElement,I=m,j=j?no(j):null,j!==null&&(R=So(j),j!==R||j.tag!==5&&j.tag!==6)&&(j=null)):(I=null,j=m),I!==j)){if(T=xg,P="onMouseLeave",_="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(T=vg,P="onPointerLeave",_="onPointerEnter",S="pointer"),R=I==null?C:ta(I),N=j==null?C:ta(j),C=new T(P,S+"leave",I,n,v),C.target=R,C.relatedTarget=N,P=null,no(v)===m&&(T=new T(_,S+"enter",j,n,v),T.target=N,T.relatedTarget=R,P=T),R=P,I&&j)t:{for(T=I,_=j,S=0,N=T;N;N=zo(N))S++;for(N=0,P=_;P;P=zo(P))N++;for(;0<S-N;)T=zo(T),S--;for(;0<N-S;)_=zo(_),N--;for(;S--;){if(T===_||_!==null&&T===_.alternate)break t;T=zo(T),_=zo(_)}T=null}else T=null;I!==null&&jg(w,C,I,T,!1),j!==null&&R!==null&&jg(w,R,j,T,!0)}}e:{if(C=m?ta(m):window,I=C.nodeName&&C.nodeName.toLowerCase(),I==="select"||I==="input"&&C.type==="file")var O=W_;else if(Cg(C))if(Gy)O=q_;else{O=G_;var F=$_}else(I=C.nodeName)&&I.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(O=Y_);if(O&&(O=O(e,m))){$y(w,O,n,v);break e}F&&F(e,C,m),e==="focusout"&&(F=C._wrapperState)&&F.controlled&&C.type==="number"&&Vf(C,"number",C.value)}switch(F=m?ta(m):window,e){case"focusin":(Cg(F)||F.contentEditable==="true")&&(Jo=F,e0=m,Al=null);break;case"focusout":Al=e0=Jo=null;break;case"mousedown":t0=!0;break;case"contextmenu":case"mouseup":case"dragend":t0=!1,Ag(w,n,v);break;case"selectionchange":if(Q_)break;case"keydown":case"keyup":Ag(w,n,v)}var D;if(N1)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Zo?Hy(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(Vy&&n.locale!=="ko"&&(Zo||U!=="onCompositionStart"?U==="onCompositionEnd"&&Zo&&(D=zy()):(gi=v,S1="value"in gi?gi.value:gi.textContent,Zo=!0)),F=$u(m,U),0<F.length&&(U=new yg(U,e,null,n,v),w.push({event:U,listeners:F}),D?U.data=D:(D=Wy(n),D!==null&&(U.data=D)))),(D=F_?U_(e,n):z_(e,n))&&(m=$u(m,"onBeforeInput"),0<m.length&&(v=new yg("onBeforeInput","beforeinput",null,n,v),w.push({event:v,listeners:m}),v.data=D))}nv(w,t)})}function Yl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $u(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Ul(e,n),a!=null&&r.unshift(Yl(e,a,o)),a=Ul(e,t),a!=null&&r.push(Yl(e,a,o))),e=e.return}return r}function zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jg(e,t,n,r,o){for(var a=t._reactName,h=[];n!==null&&n!==r;){var p=n,x=p.alternate,m=p.stateNode;if(x!==null&&x===r)break;p.tag===5&&m!==null&&(p=m,o?(x=Ul(n,a),x!=null&&h.unshift(Yl(n,x,p))):o||(x=Ul(n,a),x!=null&&h.push(Yl(n,x,p)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var tN=/\r\n?/g,nN=/\u0000|\uFFFD/g;function Rg(e){return(typeof e=="string"?e:""+e).replace(tN,`
`).replace(nN,"")}function Kc(e,t,n){if(t=Rg(t),Rg(e)!==t&&n)throw Error(he(425))}function Gu(){}var n0=null,r0=null;function s0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var i0=typeof setTimeout=="function"?setTimeout:void 0,rN=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(e){return Og.resolve(null).then(e).catch(iN)}:i0;function iN(e){setTimeout(function(){throw e})}function tf(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Hl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Hl(t)}function bi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),xs="__reactFiber$"+Ua,ql="__reactProps$"+Ua,Ls="__reactContainer$"+Ua,o0="__reactEvents$"+Ua,oN="__reactListeners$"+Ua,aN="__reactHandles$"+Ua;function no(e){var t=e[xs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ls]||n[xs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kg(e);e!==null;){if(n=e[xs])return n;e=kg(e)}return t}e=n,n=e.parentNode}return null}function mc(e){return e=e[xs]||e[Ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ta(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function jd(e){return e[ql]||null}var a0=[],na=-1;function Bi(e){return{current:e}}function kt(e){0>na||(e.current=a0[na],a0[na]=null,na--)}function _t(e,t){na++,a0[na]=e.current,e.current=t}var Ti={},Ln=Bi(Ti),nr=Bi(!1),fo=Ti;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function rr(e){return e=e.childContextTypes,e!=null}function Yu(){kt(nr),kt(Ln)}function Mg(e,t,n){if(Ln.current!==Ti)throw Error(he(168));_t(Ln,t),_t(nr,n)}function sv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(he(108,$E(e)||"Unknown",o));return Ht({},n,r)}function qu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,fo=Ln.current,_t(Ln,e),_t(nr,nr.current),!0}function Dg(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=sv(e,t,fo),r.__reactInternalMemoizedMergedChildContext=e,kt(nr),kt(Ln),_t(Ln,e)):kt(nr),_t(nr,n)}var js=null,Rd=!1,nf=!1;function iv(e){js===null?js=[e]:js.push(e)}function lN(e){Rd=!0,iv(e)}function Fi(){if(!nf&&js!==null){nf=!0;var e=0,t=gt;try{var n=js;for(gt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}js=null,Rd=!1}catch(o){throw js!==null&&(js=js.slice(e+1)),jy(v1,Fi),o}finally{gt=t,nf=!1}}return null}var ra=[],sa=0,Xu=null,Ku=0,Nr=[],Ar=0,po=null,Rs=1,Os="";function Zi(e,t){ra[sa++]=Ku,ra[sa++]=Xu,Xu=e,Ku=t}function ov(e,t,n){Nr[Ar++]=Rs,Nr[Ar++]=Os,Nr[Ar++]=po,po=e;var r=Rs;e=Os;var o=32-Qr(r)-1;r&=~(1<<o),n+=1;var a=32-Qr(t)+o;if(30<a){var h=o-o%5;a=(r&(1<<h)-1).toString(32),r>>=h,o-=h,Rs=1<<32-Qr(t)+o|n<<o|r,Os=a+e}else Rs=1<<a|n<<o|r,Os=e}function T1(e){e.return!==null&&(Zi(e,1),ov(e,1,0))}function I1(e){for(;e===Xu;)Xu=ra[--sa],ra[sa]=null,Ku=ra[--sa],ra[sa]=null;for(;e===po;)po=Nr[--Ar],Nr[Ar]=null,Os=Nr[--Ar],Nr[Ar]=null,Rs=Nr[--Ar],Nr[Ar]=null}var gr=null,pr=null,Pt=!1,Kr=null;function av(e,t){var n=Tr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gr=e,pr=bi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gr=e,pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=po!==null?{id:Rs,overflow:Os}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gr=e,pr=null,!0):!1;default:return!1}}function l0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function c0(e){if(Pt){var t=pr;if(t){var n=t;if(!Pg(e,t)){if(l0(e))throw Error(he(418));t=bi(n.nextSibling);var r=gr;t&&Pg(e,t)?av(r,n):(e.flags=e.flags&-4097|2,Pt=!1,gr=e)}}else{if(l0(e))throw Error(he(418));e.flags=e.flags&-4097|2,Pt=!1,gr=e}}}function Lg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gr=e}function Qc(e){if(e!==gr)return!1;if(!Pt)return Lg(e),Pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!s0(e.type,e.memoizedProps)),t&&(t=pr)){if(l0(e))throw lv(),Error(he(418));for(;t;)av(e,t),t=bi(t.nextSibling)}if(Lg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pr=bi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pr=null}}else pr=gr?bi(e.stateNode.nextSibling):null;return!0}function lv(){for(var e=pr;e;)e=bi(e.nextSibling)}function Ia(){pr=gr=null,Pt=!1}function j1(e){Kr===null?Kr=[e]:Kr.push(e)}var cN=Vs.ReactCurrentBatchConfig;function dl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(h){var p=o.refs;h===null?delete p[a]:p[a]=h},t._stringRef=a,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function Zc(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bg(e){var t=e._init;return t(e._payload)}function cv(e){function t(_,S){if(e){var N=_.deletions;N===null?(_.deletions=[S],_.flags|=16):N.push(S)}}function n(_,S){if(!e)return null;for(;S!==null;)t(_,S),S=S.sibling;return null}function r(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function o(_,S){return _=_i(_,S),_.index=0,_.sibling=null,_}function a(_,S,N){return _.index=N,e?(N=_.alternate,N!==null?(N=N.index,N<S?(_.flags|=2,S):N):(_.flags|=2,S)):(_.flags|=1048576,S)}function h(_){return e&&_.alternate===null&&(_.flags|=2),_}function p(_,S,N,P){return S===null||S.tag!==6?(S=uf(N,_.mode,P),S.return=_,S):(S=o(S,N),S.return=_,S)}function x(_,S,N,P){var O=N.type;return O===Qo?v(_,S,N.props.children,P,N.key):S!==null&&(S.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ri&&Bg(O)===S.type)?(P=o(S,N.props),P.ref=dl(_,S,N),P.return=_,P):(P=Tu(N.type,N.key,N.props,null,_.mode,P),P.ref=dl(_,S,N),P.return=_,P)}function m(_,S,N,P){return S===null||S.tag!==4||S.stateNode.containerInfo!==N.containerInfo||S.stateNode.implementation!==N.implementation?(S=df(N,_.mode,P),S.return=_,S):(S=o(S,N.children||[]),S.return=_,S)}function v(_,S,N,P,O){return S===null||S.tag!==7?(S=uo(N,_.mode,P,O),S.return=_,S):(S=o(S,N),S.return=_,S)}function w(_,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return S=uf(""+S,_.mode,N),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zc:return N=Tu(S.type,S.key,S.props,null,_.mode,N),N.ref=dl(_,null,S),N.return=_,N;case Ko:return S=df(S,_.mode,N),S.return=_,S;case ri:var P=S._init;return w(_,P(S._payload),N)}if(yl(S)||ol(S))return S=uo(S,_.mode,N,null),S.return=_,S;Zc(_,S)}return null}function C(_,S,N,P){var O=S!==null?S.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return O!==null?null:p(_,S,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case zc:return N.key===O?x(_,S,N,P):null;case Ko:return N.key===O?m(_,S,N,P):null;case ri:return O=N._init,C(_,S,O(N._payload),P)}if(yl(N)||ol(N))return O!==null?null:v(_,S,N,P,null);Zc(_,N)}return null}function I(_,S,N,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(N)||null,p(S,_,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case zc:return _=_.get(P.key===null?N:P.key)||null,x(S,_,P,O);case Ko:return _=_.get(P.key===null?N:P.key)||null,m(S,_,P,O);case ri:var F=P._init;return I(_,S,N,F(P._payload),O)}if(yl(P)||ol(P))return _=_.get(N)||null,v(S,_,P,O,null);Zc(S,P)}return null}function j(_,S,N,P){for(var O=null,F=null,D=S,U=S=0,V=null;D!==null&&U<N.length;U++){D.index>U?(V=D,D=null):V=D.sibling;var re=C(_,D,N[U],P);if(re===null){D===null&&(D=V);break}e&&D&&re.alternate===null&&t(_,D),S=a(re,S,U),F===null?O=re:F.sibling=re,F=re,D=V}if(U===N.length)return n(_,D),Pt&&Zi(_,U),O;if(D===null){for(;U<N.length;U++)D=w(_,N[U],P),D!==null&&(S=a(D,S,U),F===null?O=D:F.sibling=D,F=D);return Pt&&Zi(_,U),O}for(D=r(_,D);U<N.length;U++)V=I(D,_,U,N[U],P),V!==null&&(e&&V.alternate!==null&&D.delete(V.key===null?U:V.key),S=a(V,S,U),F===null?O=V:F.sibling=V,F=V);return e&&D.forEach(function(se){return t(_,se)}),Pt&&Zi(_,U),O}function T(_,S,N,P){var O=ol(N);if(typeof O!="function")throw Error(he(150));if(N=O.call(N),N==null)throw Error(he(151));for(var F=O=null,D=S,U=S=0,V=null,re=N.next();D!==null&&!re.done;U++,re=N.next()){D.index>U?(V=D,D=null):V=D.sibling;var se=C(_,D,re.value,P);if(se===null){D===null&&(D=V);break}e&&D&&se.alternate===null&&t(_,D),S=a(se,S,U),F===null?O=se:F.sibling=se,F=se,D=V}if(re.done)return n(_,D),Pt&&Zi(_,U),O;if(D===null){for(;!re.done;U++,re=N.next())re=w(_,re.value,P),re!==null&&(S=a(re,S,U),F===null?O=re:F.sibling=re,F=re);return Pt&&Zi(_,U),O}for(D=r(_,D);!re.done;U++,re=N.next())re=I(D,_,U,re.value,P),re!==null&&(e&&re.alternate!==null&&D.delete(re.key===null?U:re.key),S=a(re,S,U),F===null?O=re:F.sibling=re,F=re);return e&&D.forEach(function(X){return t(_,X)}),Pt&&Zi(_,U),O}function R(_,S,N,P){if(typeof N=="object"&&N!==null&&N.type===Qo&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case zc:e:{for(var O=N.key,F=S;F!==null;){if(F.key===O){if(O=N.type,O===Qo){if(F.tag===7){n(_,F.sibling),S=o(F,N.props.children),S.return=_,_=S;break e}}else if(F.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ri&&Bg(O)===F.type){n(_,F.sibling),S=o(F,N.props),S.ref=dl(_,F,N),S.return=_,_=S;break e}n(_,F);break}else t(_,F);F=F.sibling}N.type===Qo?(S=uo(N.props.children,_.mode,P,N.key),S.return=_,_=S):(P=Tu(N.type,N.key,N.props,null,_.mode,P),P.ref=dl(_,S,N),P.return=_,_=P)}return h(_);case Ko:e:{for(F=N.key;S!==null;){if(S.key===F)if(S.tag===4&&S.stateNode.containerInfo===N.containerInfo&&S.stateNode.implementation===N.implementation){n(_,S.sibling),S=o(S,N.children||[]),S.return=_,_=S;break e}else{n(_,S);break}else t(_,S);S=S.sibling}S=df(N,_.mode,P),S.return=_,_=S}return h(_);case ri:return F=N._init,R(_,S,F(N._payload),P)}if(yl(N))return j(_,S,N,P);if(ol(N))return T(_,S,N,P);Zc(_,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,S!==null&&S.tag===6?(n(_,S.sibling),S=o(S,N),S.return=_,_=S):(n(_,S),S=uf(N,_.mode,P),S.return=_,_=S),h(_)):n(_,S)}return R}var ja=cv(!0),uv=cv(!1),Qu=Bi(null),Zu=null,ia=null,R1=null;function O1(){R1=ia=Zu=null}function k1(e){var t=Qu.current;kt(Qu),e._currentValue=t}function u0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fa(e,t){Zu=e,R1=ia=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tr=!0),e.firstContext=null)}function Or(e){var t=e._currentValue;if(R1!==e)if(e={context:e,memoizedValue:t,next:null},ia===null){if(Zu===null)throw Error(he(308));ia=e,Zu.dependencies={lanes:0,firstContext:e}}else ia=ia.next=e;return t}var ro=null;function M1(e){ro===null?ro=[e]:ro.push(e)}function dv(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,M1(t)):(n.next=o.next,o.next=n),t.interleaved=n,Bs(e,r)}function Bs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var si=!1;function D1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ci(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Bs(e,n)}return o=r.interleaved,o===null?(t.next=t,M1(r)):(t.next=o.next,o.next=t),r.interleaved=t,Bs(e,n)}function Cu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,w1(e,n)}}function Fg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=h:a=a.next=h,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ju(e,t,n,r){var o=e.updateQueue;si=!1;var a=o.firstBaseUpdate,h=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var x=p,m=x.next;x.next=null,h===null?a=m:h.next=m,h=x;var v=e.alternate;v!==null&&(v=v.updateQueue,p=v.lastBaseUpdate,p!==h&&(p===null?v.firstBaseUpdate=m:p.next=m,v.lastBaseUpdate=x))}if(a!==null){var w=o.baseState;h=0,v=m=x=null,p=a;do{var C=p.lane,I=p.eventTime;if((r&C)===C){v!==null&&(v=v.next={eventTime:I,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var j=e,T=p;switch(C=t,I=n,T.tag){case 1:if(j=T.payload,typeof j=="function"){w=j.call(I,w,C);break e}w=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=T.payload,C=typeof j=="function"?j.call(I,w,C):j,C==null)break e;w=Ht({},w,C);break e;case 2:si=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,C=o.effects,C===null?o.effects=[p]:C.push(p))}else I={eventTime:I,lane:C,tag:p.tag,payload:p.payload,callback:p.callback,next:null},v===null?(m=v=I,x=w):v=v.next=I,h|=C;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;C=p,p=C.next,C.next=null,o.lastBaseUpdate=C,o.shared.pending=null}}while(!0);if(v===null&&(x=w),o.baseState=x,o.firstBaseUpdate=m,o.lastBaseUpdate=v,t=o.shared.interleaved,t!==null){o=t;do h|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);mo|=h,e.lanes=h,e.memoizedState=w}}function Ug(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(he(191,o));o.call(r)}}}var xc={},ws=Bi(xc),Xl=Bi(xc),Kl=Bi(xc);function so(e){if(e===xc)throw Error(he(174));return e}function P1(e,t){switch(_t(Kl,t),_t(Xl,e),_t(ws,xc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wf(t,e)}kt(ws),_t(ws,t)}function Ra(){kt(ws),kt(Xl),kt(Kl)}function fv(e){so(Kl.current);var t=so(ws.current),n=Wf(t,e.type);t!==n&&(_t(Xl,e),_t(ws,n))}function L1(e){Xl.current===e&&(kt(ws),kt(Xl))}var zt=Bi(0);function ed(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rf=[];function B1(){for(var e=0;e<rf.length;e++)rf[e]._workInProgressVersionPrimary=null;rf.length=0}var Su=Vs.ReactCurrentDispatcher,sf=Vs.ReactCurrentBatchConfig,go=0,Vt=null,ln=null,mn=null,td=!1,Tl=!1,Ql=0,uN=0;function Rn(){throw Error(he(321))}function F1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jr(e[n],t[n]))return!1;return!0}function U1(e,t,n,r,o,a){if(go=a,Vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Su.current=e===null||e.memoizedState===null?pN:gN,e=n(r,o),Tl){a=0;do{if(Tl=!1,Ql=0,25<=a)throw Error(he(301));a+=1,mn=ln=null,t.updateQueue=null,Su.current=mN,e=n(r,o)}while(Tl)}if(Su.current=nd,t=ln!==null&&ln.next!==null,go=0,mn=ln=Vt=null,td=!1,t)throw Error(he(300));return e}function z1(){var e=Ql!==0;return Ql=0,e}function hs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Vt.memoizedState=mn=e:mn=mn.next=e,mn}function kr(){if(ln===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=ln.next;var t=mn===null?Vt.memoizedState:mn.next;if(t!==null)mn=t,ln=e;else{if(e===null)throw Error(he(310));ln=e,e={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},mn===null?Vt.memoizedState=mn=e:mn=mn.next=e}return mn}function Zl(e,t){return typeof t=="function"?t(e):t}function of(e){var t=kr(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=ln,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var h=o.next;o.next=a.next,a.next=h}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var p=h=null,x=null,m=a;do{var v=m.lane;if((go&v)===v)x!==null&&(x=x.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var w={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};x===null?(p=x=w,h=r):x=x.next=w,Vt.lanes|=v,mo|=v}m=m.next}while(m!==null&&m!==a);x===null?h=r:x.next=p,Jr(r,t.memoizedState)||(tr=!0),t.memoizedState=r,t.baseState=h,t.baseQueue=x,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,Vt.lanes|=a,mo|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function af(e){var t=kr(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do a=e(a,h.action),h=h.next;while(h!==o);Jr(a,t.memoizedState)||(tr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function pv(){}function gv(e,t){var n=Vt,r=kr(),o=t(),a=!Jr(r.memoizedState,o);if(a&&(r.memoizedState=o,tr=!0),r=r.queue,V1(yv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,Jl(9,xv.bind(null,n,r,o,t),void 0,null),xn===null)throw Error(he(349));go&30||mv(n,t,o)}return o}function mv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xv(e,t,n,r){t.value=n,t.getSnapshot=r,vv(t)&&wv(e)}function yv(e,t,n){return n(function(){vv(t)&&wv(e)})}function vv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jr(e,n)}catch{return!0}}function wv(e){var t=Bs(e,1);t!==null&&Zr(t,e,1,-1)}function zg(e){var t=hs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:e},t.queue=e,e=e.dispatch=fN.bind(null,Vt,e),[t.memoizedState,e]}function Jl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bv(){return kr().memoizedState}function Eu(e,t,n,r){var o=hs();Vt.flags|=e,o.memoizedState=Jl(1|t,n,void 0,r===void 0?null:r)}function Od(e,t,n,r){var o=kr();r=r===void 0?null:r;var a=void 0;if(ln!==null){var h=ln.memoizedState;if(a=h.destroy,r!==null&&F1(r,h.deps)){o.memoizedState=Jl(t,n,a,r);return}}Vt.flags|=e,o.memoizedState=Jl(1|t,n,a,r)}function Vg(e,t){return Eu(8390656,8,e,t)}function V1(e,t){return Od(2048,8,e,t)}function Cv(e,t){return Od(4,2,e,t)}function Sv(e,t){return Od(4,4,e,t)}function Ev(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _v(e,t,n){return n=n!=null?n.concat([e]):null,Od(4,4,Ev.bind(null,t,e),n)}function H1(){}function Nv(e,t){var n=kr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&F1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Av(e,t){var n=kr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&F1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Tv(e,t,n){return go&21?(Jr(n,t)||(n=ky(),Vt.lanes|=n,mo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tr=!0),e.memoizedState=n)}function dN(e,t){var n=gt;gt=n!==0&&4>n?n:4,e(!0);var r=sf.transition;sf.transition={};try{e(!1),t()}finally{gt=n,sf.transition=r}}function Iv(){return kr().memoizedState}function hN(e,t,n){var r=Ei(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jv(e))Rv(t,n);else if(n=dv(e,t,n,r),n!==null){var o=Wn();Zr(n,e,r,o),Ov(n,t,r)}}function fN(e,t,n){var r=Ei(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jv(e))Rv(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var h=t.lastRenderedState,p=a(h,n);if(o.hasEagerState=!0,o.eagerState=p,Jr(p,h)){var x=t.interleaved;x===null?(o.next=o,M1(t)):(o.next=x.next,x.next=o),t.interleaved=o;return}}catch{}finally{}n=dv(e,t,o,r),n!==null&&(o=Wn(),Zr(n,e,r,o),Ov(n,t,r))}}function jv(e){var t=e.alternate;return e===Vt||t!==null&&t===Vt}function Rv(e,t){Tl=td=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ov(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,w1(e,n)}}var nd={readContext:Or,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},pN={readContext:Or,useCallback:function(e,t){return hs().memoizedState=[e,t===void 0?null:t],e},useContext:Or,useEffect:Vg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Eu(4194308,4,Ev.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Eu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eu(4,2,e,t)},useMemo:function(e,t){var n=hs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hN.bind(null,Vt,e),[r.memoizedState,e]},useRef:function(e){var t=hs();return e={current:e},t.memoizedState=e},useState:zg,useDebugValue:H1,useDeferredValue:function(e){return hs().memoizedState=e},useTransition:function(){var e=zg(!1),t=e[0];return e=dN.bind(null,e[1]),hs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Vt,o=hs();if(Pt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),xn===null)throw Error(he(349));go&30||mv(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Vg(yv.bind(null,r,a,e),[e]),r.flags|=2048,Jl(9,xv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=hs(),t=xn.identifierPrefix;if(Pt){var n=Os,r=Rs;n=(r&~(1<<32-Qr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ql++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gN={readContext:Or,useCallback:Nv,useContext:Or,useEffect:V1,useImperativeHandle:_v,useInsertionEffect:Cv,useLayoutEffect:Sv,useMemo:Av,useReducer:of,useRef:bv,useState:function(){return of(Zl)},useDebugValue:H1,useDeferredValue:function(e){var t=kr();return Tv(t,ln.memoizedState,e)},useTransition:function(){var e=of(Zl)[0],t=kr().memoizedState;return[e,t]},useMutableSource:pv,useSyncExternalStore:gv,useId:Iv,unstable_isNewReconciler:!1},mN={readContext:Or,useCallback:Nv,useContext:Or,useEffect:V1,useImperativeHandle:_v,useInsertionEffect:Cv,useLayoutEffect:Sv,useMemo:Av,useReducer:af,useRef:bv,useState:function(){return af(Zl)},useDebugValue:H1,useDeferredValue:function(e){var t=kr();return ln===null?t.memoizedState=e:Tv(t,ln.memoizedState,e)},useTransition:function(){var e=af(Zl)[0],t=kr().memoizedState;return[e,t]},useMutableSource:pv,useSyncExternalStore:gv,useId:Iv,unstable_isNewReconciler:!1};function Wr(e,t){if(e&&e.defaultProps){t=Ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function d0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kd={isMounted:function(e){return(e=e._reactInternals)?So(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wn(),o=Ei(e),a=Ms(r,o);a.payload=t,n!=null&&(a.callback=n),t=Ci(e,a,o),t!==null&&(Zr(t,e,o,r),Cu(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wn(),o=Ei(e),a=Ms(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ci(e,a,o),t!==null&&(Zr(t,e,o,r),Cu(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wn(),r=Ei(e),o=Ms(n,r);o.tag=2,t!=null&&(o.callback=t),t=Ci(e,o,r),t!==null&&(Zr(t,e,r,n),Cu(t,e,r))}};function Hg(e,t,n,r,o,a,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,h):t.prototype&&t.prototype.isPureReactComponent?!$l(n,r)||!$l(o,a):!0}function kv(e,t,n){var r=!1,o=Ti,a=t.contextType;return typeof a=="object"&&a!==null?a=Or(a):(o=rr(t)?fo:Ln.current,r=t.contextTypes,a=(r=r!=null)?Ta(e,o):Ti),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kd.enqueueReplaceState(t,t.state,null)}function h0(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},D1(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=Or(a):(a=rr(t)?fo:Ln.current,o.context=Ta(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(d0(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&kd.enqueueReplaceState(o,o.state,null),Ju(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Oa(e,t){try{var n="",r=t;do n+=WE(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function lf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function f0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xN=typeof WeakMap=="function"?WeakMap:Map;function Mv(e,t,n){n=Ms(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sd||(sd=!0,S0=r),f0(e,t)},n}function Dv(e,t,n){n=Ms(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){f0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){f0(e,t),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function $g(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xN;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=RN.bind(null,e,t,n),t.then(e,e))}function Gg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yg(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ms(-1,1),t.tag=2,Ci(n,t,1))),n.lanes|=1),e)}var yN=Vs.ReactCurrentOwner,tr=!1;function Vn(e,t,n,r){t.child=e===null?uv(t,null,n,r):ja(t,e.child,n,r)}function qg(e,t,n,r,o){n=n.render;var a=t.ref;return fa(t,o),r=U1(e,t,n,r,a,o),n=z1(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fs(e,t,o)):(Pt&&n&&T1(t),t.flags|=1,Vn(e,t,r,o),t.child)}function Xg(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!Q1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Pv(e,t,a,r,o)):(e=Tu(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var h=a.memoizedProps;if(n=n.compare,n=n!==null?n:$l,n(h,r)&&e.ref===t.ref)return Fs(e,t,o)}return t.flags|=1,e=_i(a,r),e.ref=t.ref,e.return=t,t.child=e}function Pv(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if($l(a,r)&&e.ref===t.ref)if(tr=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(tr=!0);else return t.lanes=e.lanes,Fs(e,t,o)}return p0(e,t,n,r,o)}function Lv(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(aa,dr),dr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_t(aa,dr),dr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,_t(aa,dr),dr|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,_t(aa,dr),dr|=r;return Vn(e,t,o,n),t.child}function Bv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function p0(e,t,n,r,o){var a=rr(n)?fo:Ln.current;return a=Ta(t,a),fa(t,o),n=U1(e,t,n,r,a,o),r=z1(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fs(e,t,o)):(Pt&&r&&T1(t),t.flags|=1,Vn(e,t,n,o),t.child)}function Kg(e,t,n,r,o){if(rr(n)){var a=!0;qu(t)}else a=!1;if(fa(t,o),t.stateNode===null)_u(e,t),kv(t,n,r),h0(t,n,r,o),r=!0;else if(e===null){var h=t.stateNode,p=t.memoizedProps;h.props=p;var x=h.context,m=n.contextType;typeof m=="object"&&m!==null?m=Or(m):(m=rr(n)?fo:Ln.current,m=Ta(t,m));var v=n.getDerivedStateFromProps,w=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function";w||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==r||x!==m)&&Wg(t,h,r,m),si=!1;var C=t.memoizedState;h.state=C,Ju(t,r,h,o),x=t.memoizedState,p!==r||C!==x||nr.current||si?(typeof v=="function"&&(d0(t,n,v,r),x=t.memoizedState),(p=si||Hg(t,n,p,r,C,x,m))?(w||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),h.props=r,h.state=x,h.context=m,r=p):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,hv(e,t),p=t.memoizedProps,m=t.type===t.elementType?p:Wr(t.type,p),h.props=m,w=t.pendingProps,C=h.context,x=n.contextType,typeof x=="object"&&x!==null?x=Or(x):(x=rr(n)?fo:Ln.current,x=Ta(t,x));var I=n.getDerivedStateFromProps;(v=typeof I=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==w||C!==x)&&Wg(t,h,r,x),si=!1,C=t.memoizedState,h.state=C,Ju(t,r,h,o);var j=t.memoizedState;p!==w||C!==j||nr.current||si?(typeof I=="function"&&(d0(t,n,I,r),j=t.memoizedState),(m=si||Hg(t,n,m,r,C,j,x)||!1)?(v||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,j,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,j,x)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),h.props=r,h.state=j,h.context=x,r=m):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),r=!1)}return g0(e,t,n,r,a,o)}function g0(e,t,n,r,o,a){Bv(e,t);var h=(t.flags&128)!==0;if(!r&&!h)return o&&Dg(t,n,!1),Fs(e,t,a);r=t.stateNode,yN.current=t;var p=h&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&h?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,p,a)):Vn(e,t,p,a),t.memoizedState=r.state,o&&Dg(t,n,!0),t.child}function Fv(e){var t=e.stateNode;t.pendingContext?Mg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mg(e,t.context,!1),P1(e,t.containerInfo)}function Qg(e,t,n,r,o){return Ia(),j1(o),t.flags|=256,Vn(e,t,n,r),t.child}var m0={dehydrated:null,treeContext:null,retryLane:0};function x0(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uv(e,t,n){var r=t.pendingProps,o=zt.current,a=!1,h=(t.flags&128)!==0,p;if((p=h)||(p=e!==null&&e.memoizedState===null?!1:(o&2)!==0),p?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),_t(zt,o&1),e===null)return c0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=r.children,e=r.fallback,a?(r=t.mode,a=t.child,h={mode:"hidden",children:h},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=h):a=Pd(h,r,0,null),e=uo(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=x0(n),t.memoizedState=m0,e):W1(t,h));if(o=e.memoizedState,o!==null&&(p=o.dehydrated,p!==null))return vN(e,t,h,r,p,o,n);if(a){a=r.fallback,h=t.mode,o=e.child,p=o.sibling;var x={mode:"hidden",children:r.children};return!(h&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=x,t.deletions=null):(r=_i(o,x),r.subtreeFlags=o.subtreeFlags&14680064),p!==null?a=_i(p,a):(a=uo(a,h,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,h=e.child.memoizedState,h=h===null?x0(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},a.memoizedState=h,a.childLanes=e.childLanes&~n,t.memoizedState=m0,r}return a=e.child,e=a.sibling,r=_i(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function W1(e,t){return t=Pd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jc(e,t,n,r){return r!==null&&j1(r),ja(t,e.child,null,n),e=W1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vN(e,t,n,r,o,a,h){if(n)return t.flags&256?(t.flags&=-257,r=lf(Error(he(422))),Jc(e,t,h,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Pd({mode:"visible",children:r.children},o,0,null),a=uo(a,o,h,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ja(t,e.child,null,h),t.child.memoizedState=x0(h),t.memoizedState=m0,a);if(!(t.mode&1))return Jc(e,t,h,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var p=r.dgst;return r=p,a=Error(he(419)),r=lf(a,r,void 0),Jc(e,t,h,r)}if(p=(h&e.childLanes)!==0,tr||p){if(r=xn,r!==null){switch(h&-h){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|h)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Bs(e,o),Zr(r,e,o,-1))}return K1(),r=lf(Error(he(421))),Jc(e,t,h,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=ON.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,pr=bi(o.nextSibling),gr=t,Pt=!0,Kr=null,e!==null&&(Nr[Ar++]=Rs,Nr[Ar++]=Os,Nr[Ar++]=po,Rs=e.id,Os=e.overflow,po=t),t=W1(t,r.children),t.flags|=4096,t)}function Zg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),u0(e.return,t,n)}function cf(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function zv(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Vn(e,t,r.children,n),r=zt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,n,t);else if(e.tag===19)Zg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_t(zt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ed(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),cf(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ed(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}cf(t,!0,n,null,a);break;case"together":cf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _u(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=_i(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_i(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wN(e,t,n){switch(t.tag){case 3:Fv(t),Ia();break;case 5:fv(t);break;case 1:rr(t.type)&&qu(t);break;case 4:P1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;_t(Qu,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_t(zt,zt.current&1),t.flags|=128,null):n&t.child.childLanes?Uv(e,t,n):(_t(zt,zt.current&1),e=Fs(e,t,n),e!==null?e.sibling:null);_t(zt,zt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zv(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),_t(zt,zt.current),r)break;return null;case 22:case 23:return t.lanes=0,Lv(e,t,n)}return Fs(e,t,n)}var Vv,y0,Hv,Wv;Vv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y0=function(){};Hv=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,so(ws.current);var a=null;switch(n){case"input":o=Uf(e,o),r=Uf(e,r),a=[];break;case"select":o=Ht({},o,{value:void 0}),r=Ht({},r,{value:void 0}),a=[];break;case"textarea":o=Hf(e,o),r=Hf(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gu)}$f(n,r);var h;n=null;for(m in o)if(!r.hasOwnProperty(m)&&o.hasOwnProperty(m)&&o[m]!=null)if(m==="style"){var p=o[m];for(h in p)p.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Bl.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in r){var x=r[m];if(p=o!=null?o[m]:void 0,r.hasOwnProperty(m)&&x!==p&&(x!=null||p!=null))if(m==="style")if(p){for(h in p)!p.hasOwnProperty(h)||x&&x.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in x)x.hasOwnProperty(h)&&p[h]!==x[h]&&(n||(n={}),n[h]=x[h])}else n||(a||(a=[]),a.push(m,n)),n=x;else m==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,p=p?p.__html:void 0,x!=null&&p!==x&&(a=a||[]).push(m,x)):m==="children"?typeof x!="string"&&typeof x!="number"||(a=a||[]).push(m,""+x):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(m)?(x!=null&&m==="onScroll"&&It("scroll",e),a||p===x||(a=[])):(a=a||[]).push(m,x))}n&&(a=a||[]).push("style",n);var m=a;(t.updateQueue=m)&&(t.flags|=4)}};Wv=function(e,t,n,r){n!==r&&(t.flags|=4)};function hl(e,t){if(!Pt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function On(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bN(e,t,n){var r=t.pendingProps;switch(I1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(t),null;case 1:return rr(t.type)&&Yu(),On(t),null;case 3:return r=t.stateNode,Ra(),kt(nr),kt(Ln),B1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kr!==null&&(N0(Kr),Kr=null))),y0(e,t),On(t),null;case 5:L1(t);var o=so(Kl.current);if(n=t.type,e!==null&&t.stateNode!=null)Hv(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return On(t),null}if(e=so(ws.current),Qc(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[xs]=t,r[ql]=a,e=(t.mode&1)!==0,n){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(o=0;o<wl.length;o++)It(wl[o],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":ag(r,a),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},It("invalid",r);break;case"textarea":cg(r,a),It("invalid",r)}$f(n,a),o=null;for(var h in a)if(a.hasOwnProperty(h)){var p=a[h];h==="children"?typeof p=="string"?r.textContent!==p&&(a.suppressHydrationWarning!==!0&&Kc(r.textContent,p,e),o=["children",p]):typeof p=="number"&&r.textContent!==""+p&&(a.suppressHydrationWarning!==!0&&Kc(r.textContent,p,e),o=["children",""+p]):Bl.hasOwnProperty(h)&&p!=null&&h==="onScroll"&&It("scroll",r)}switch(n){case"input":Vc(r),lg(r,a,!0);break;case"textarea":Vc(r),ug(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Gu)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{h=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=h.createElement(n,{is:r.is}):(e=h.createElement(n),n==="select"&&(h=e,r.multiple?h.multiple=!0:r.size&&(h.size=r.size))):e=h.createElementNS(e,n),e[xs]=t,e[ql]=r,Vv(e,t,!1,!1),t.stateNode=e;e:{switch(h=Gf(n,r),n){case"dialog":It("cancel",e),It("close",e),o=r;break;case"iframe":case"object":case"embed":It("load",e),o=r;break;case"video":case"audio":for(o=0;o<wl.length;o++)It(wl[o],e);o=r;break;case"source":It("error",e),o=r;break;case"img":case"image":case"link":It("error",e),It("load",e),o=r;break;case"details":It("toggle",e),o=r;break;case"input":ag(e,r),o=Uf(e,r),It("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ht({},r,{value:void 0}),It("invalid",e);break;case"textarea":cg(e,r),o=Hf(e,r),It("invalid",e);break;default:o=r}$f(n,o),p=o;for(a in p)if(p.hasOwnProperty(a)){var x=p[a];a==="style"?by(e,x):a==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&vy(e,x)):a==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&Fl(e,x):typeof x=="number"&&Fl(e,""+x):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bl.hasOwnProperty(a)?x!=null&&a==="onScroll"&&It("scroll",e):x!=null&&p1(e,a,x,h))}switch(n){case"input":Vc(e),lg(e,r,!1);break;case"textarea":Vc(e),ug(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ai(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ca(e,!!r.multiple,a,!1):r.defaultValue!=null&&ca(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Gu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return On(t),null;case 6:if(e&&t.stateNode!=null)Wv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=so(Kl.current),so(ws.current),Qc(t)){if(r=t.stateNode,n=t.memoizedProps,r[xs]=t,(a=r.nodeValue!==n)&&(e=gr,e!==null))switch(e.tag){case 3:Kc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kc(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xs]=t,t.stateNode=r}return On(t),null;case 13:if(kt(zt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pt&&pr!==null&&t.mode&1&&!(t.flags&128))lv(),Ia(),t.flags|=98560,a=!1;else if(a=Qc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(he(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[xs]=t}else Ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;On(t),a=!1}else Kr!==null&&(N0(Kr),Kr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||zt.current&1?un===0&&(un=3):K1())),t.updateQueue!==null&&(t.flags|=4),On(t),null);case 4:return Ra(),y0(e,t),e===null&&Gl(t.stateNode.containerInfo),On(t),null;case 10:return k1(t.type._context),On(t),null;case 17:return rr(t.type)&&Yu(),On(t),null;case 19:if(kt(zt),a=t.memoizedState,a===null)return On(t),null;if(r=(t.flags&128)!==0,h=a.rendering,h===null)if(r)hl(a,!1);else{if(un!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=ed(e),h!==null){for(t.flags|=128,hl(a,!1),r=h.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,h=a.alternate,h===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,e=h.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _t(zt,zt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Zt()>ka&&(t.flags|=128,r=!0,hl(a,!1),t.lanes=4194304)}else{if(!r)if(e=ed(h),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!Pt)return On(t),null}else 2*Zt()-a.renderingStartTime>ka&&n!==1073741824&&(t.flags|=128,r=!0,hl(a,!1),t.lanes=4194304);a.isBackwards?(h.sibling=t.child,t.child=h):(n=a.last,n!==null?n.sibling=h:t.child=h,a.last=h)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Zt(),t.sibling=null,n=zt.current,_t(zt,r?n&1|2:n&1),t):(On(t),null);case 22:case 23:return X1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dr&1073741824&&(On(t),t.subtreeFlags&6&&(t.flags|=8192)):On(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function CN(e,t){switch(I1(t),t.tag){case 1:return rr(t.type)&&Yu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ra(),kt(nr),kt(Ln),B1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return L1(t),null;case 13:if(kt(zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kt(zt),null;case 4:return Ra(),null;case 10:return k1(t.type._context),null;case 22:case 23:return X1(),null;case 24:return null;default:return null}}var eu=!1,Dn=!1,SN=typeof WeakSet=="function"?WeakSet:Set,je=null;function oa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xt(e,t,r)}else n.current=null}function v0(e,t,n){try{n()}catch(r){Xt(e,t,r)}}var Jg=!1;function EN(e,t){if(n0=Hu,e=Xy(),A1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var h=0,p=-1,x=-1,m=0,v=0,w=e,C=null;t:for(;;){for(var I;w!==n||o!==0&&w.nodeType!==3||(p=h+o),w!==a||r!==0&&w.nodeType!==3||(x=h+r),w.nodeType===3&&(h+=w.nodeValue.length),(I=w.firstChild)!==null;)C=w,w=I;for(;;){if(w===e)break t;if(C===n&&++m===o&&(p=h),C===a&&++v===r&&(x=h),(I=w.nextSibling)!==null)break;w=C,C=w.parentNode}w=I}n=p===-1||x===-1?null:{start:p,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(r0={focusedElem:e,selectionRange:n},Hu=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var T=j.memoizedProps,R=j.memoizedState,_=t.stateNode,S=_.getSnapshotBeforeUpdate(t.elementType===t.type?T:Wr(t.type,T),R);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(P){Xt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return j=Jg,Jg=!1,j}function Il(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&v0(t,n,a)}o=o.next}while(o!==r)}}function Md(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function w0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $v(e){var t=e.alternate;t!==null&&(e.alternate=null,$v(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xs],delete t[ql],delete t[o0],delete t[oN],delete t[aN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gv(e){return e.tag===5||e.tag===3||e.tag===4}function em(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function b0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gu));else if(r!==4&&(e=e.child,e!==null))for(b0(e,t,n),e=e.sibling;e!==null;)b0(e,t,n),e=e.sibling}function C0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(C0(e,t,n),e=e.sibling;e!==null;)C0(e,t,n),e=e.sibling}var bn=null,Yr=!1;function Xs(e,t,n){for(n=n.child;n!==null;)Yv(e,t,n),n=n.sibling}function Yv(e,t,n){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Nd,n)}catch{}switch(n.tag){case 5:Dn||oa(n,t);case 6:var r=bn,o=Yr;bn=null,Xs(e,t,n),bn=r,Yr=o,bn!==null&&(Yr?(e=bn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bn.removeChild(n.stateNode));break;case 18:bn!==null&&(Yr?(e=bn,n=n.stateNode,e.nodeType===8?tf(e.parentNode,n):e.nodeType===1&&tf(e,n),Hl(e)):tf(bn,n.stateNode));break;case 4:r=bn,o=Yr,bn=n.stateNode.containerInfo,Yr=!0,Xs(e,t,n),bn=r,Yr=o;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,h=a.destroy;a=a.tag,h!==void 0&&(a&2||a&4)&&v0(n,t,h),o=o.next}while(o!==r)}Xs(e,t,n);break;case 1:if(!Dn&&(oa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(p){Xt(n,t,p)}Xs(e,t,n);break;case 21:Xs(e,t,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,Xs(e,t,n),Dn=r):Xs(e,t,n);break;default:Xs(e,t,n)}}function tm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SN),t.forEach(function(r){var o=kN.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function zr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,h=t,p=h;e:for(;p!==null;){switch(p.tag){case 5:bn=p.stateNode,Yr=!1;break e;case 3:bn=p.stateNode.containerInfo,Yr=!0;break e;case 4:bn=p.stateNode.containerInfo,Yr=!0;break e}p=p.return}if(bn===null)throw Error(he(160));Yv(a,h,o),bn=null,Yr=!1;var x=o.alternate;x!==null&&(x.return=null),o.return=null}catch(m){Xt(o,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qv(t,e),t=t.sibling}function qv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zr(t,e),us(e),r&4){try{Il(3,e,e.return),Md(3,e)}catch(T){Xt(e,e.return,T)}try{Il(5,e,e.return)}catch(T){Xt(e,e.return,T)}}break;case 1:zr(t,e),us(e),r&512&&n!==null&&oa(n,n.return);break;case 5:if(zr(t,e),us(e),r&512&&n!==null&&oa(n,n.return),e.flags&32){var o=e.stateNode;try{Fl(o,"")}catch(T){Xt(e,e.return,T)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,h=n!==null?n.memoizedProps:a,p=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{p==="input"&&a.type==="radio"&&a.name!=null&&my(o,a),Gf(p,h);var m=Gf(p,a);for(h=0;h<x.length;h+=2){var v=x[h],w=x[h+1];v==="style"?by(o,w):v==="dangerouslySetInnerHTML"?vy(o,w):v==="children"?Fl(o,w):p1(o,v,w,m)}switch(p){case"input":zf(o,a);break;case"textarea":xy(o,a);break;case"select":var C=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var I=a.value;I!=null?ca(o,!!a.multiple,I,!1):C!==!!a.multiple&&(a.defaultValue!=null?ca(o,!!a.multiple,a.defaultValue,!0):ca(o,!!a.multiple,a.multiple?[]:"",!1))}o[ql]=a}catch(T){Xt(e,e.return,T)}}break;case 6:if(zr(t,e),us(e),r&4){if(e.stateNode===null)throw Error(he(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(T){Xt(e,e.return,T)}}break;case 3:if(zr(t,e),us(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hl(t.containerInfo)}catch(T){Xt(e,e.return,T)}break;case 4:zr(t,e),us(e);break;case 13:zr(t,e),us(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Y1=Zt())),r&4&&tm(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(Dn=(m=Dn)||v,zr(t,e),Dn=m):zr(t,e),us(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!v&&e.mode&1)for(je=e,v=e.child;v!==null;){for(w=je=v;je!==null;){switch(C=je,I=C.child,C.tag){case 0:case 11:case 14:case 15:Il(4,C,C.return);break;case 1:oa(C,C.return);var j=C.stateNode;if(typeof j.componentWillUnmount=="function"){r=C,n=C.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(T){Xt(r,n,T)}}break;case 5:oa(C,C.return);break;case 22:if(C.memoizedState!==null){rm(w);continue}}I!==null?(I.return=C,je=I):rm(w)}v=v.sibling}e:for(v=null,w=e;;){if(w.tag===5){if(v===null){v=w;try{o=w.stateNode,m?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(p=w.stateNode,x=w.memoizedProps.style,h=x!=null&&x.hasOwnProperty("display")?x.display:null,p.style.display=wy("display",h))}catch(T){Xt(e,e.return,T)}}}else if(w.tag===6){if(v===null)try{w.stateNode.nodeValue=m?"":w.memoizedProps}catch(T){Xt(e,e.return,T)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;v===w&&(v=null),w=w.return}v===w&&(v=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:zr(t,e),us(e),r&4&&tm(e);break;case 21:break;default:zr(t,e),us(e)}}function us(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gv(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Fl(o,""),r.flags&=-33);var a=em(e);C0(e,a,o);break;case 3:case 4:var h=r.stateNode.containerInfo,p=em(e);b0(e,p,h);break;default:throw Error(he(161))}}catch(x){Xt(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _N(e,t,n){je=e,Xv(e)}function Xv(e,t,n){for(var r=(e.mode&1)!==0;je!==null;){var o=je,a=o.child;if(o.tag===22&&r){var h=o.memoizedState!==null||eu;if(!h){var p=o.alternate,x=p!==null&&p.memoizedState!==null||Dn;p=eu;var m=Dn;if(eu=h,(Dn=x)&&!m)for(je=o;je!==null;)h=je,x=h.child,h.tag===22&&h.memoizedState!==null?sm(o):x!==null?(x.return=h,je=x):sm(o);for(;a!==null;)je=a,Xv(a),a=a.sibling;je=o,eu=p,Dn=m}nm(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,je=a):nm(e)}}function nm(e){for(;je!==null;){var t=je;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dn||Md(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Wr(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ug(t,a,r);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ug(t,h,n)}break;case 5:var p=t.stateNode;if(n===null&&t.flags&4){n=p;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var w=v.dehydrated;w!==null&&Hl(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Dn||t.flags&512&&w0(t)}catch(C){Xt(t,t.return,C)}}if(t===e){je=null;break}if(n=t.sibling,n!==null){n.return=t.return,je=n;break}je=t.return}}function rm(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var n=t.sibling;if(n!==null){n.return=t.return,je=n;break}je=t.return}}function sm(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Md(4,t)}catch(x){Xt(t,n,x)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(x){Xt(t,o,x)}}var a=t.return;try{w0(t)}catch(x){Xt(t,a,x)}break;case 5:var h=t.return;try{w0(t)}catch(x){Xt(t,h,x)}}}catch(x){Xt(t,t.return,x)}if(t===e){je=null;break}var p=t.sibling;if(p!==null){p.return=t.return,je=p;break}je=t.return}}var NN=Math.ceil,rd=Vs.ReactCurrentDispatcher,$1=Vs.ReactCurrentOwner,Rr=Vs.ReactCurrentBatchConfig,at=0,xn=null,rn=null,Nn=0,dr=0,aa=Bi(0),un=0,ec=null,mo=0,Dd=0,G1=0,jl=null,Jn=null,Y1=0,ka=1/0,Ts=null,sd=!1,S0=null,Si=null,tu=!1,mi=null,id=0,Rl=0,E0=null,Nu=-1,Au=0;function Wn(){return at&6?Zt():Nu!==-1?Nu:Nu=Zt()}function Ei(e){return e.mode&1?at&2&&Nn!==0?Nn&-Nn:cN.transition!==null?(Au===0&&(Au=ky()),Au):(e=gt,e!==0||(e=window.event,e=e===void 0?16:Uy(e.type)),e):1}function Zr(e,t,n,r){if(50<Rl)throw Rl=0,E0=null,Error(he(185));pc(e,n,r),(!(at&2)||e!==xn)&&(e===xn&&(!(at&2)&&(Dd|=n),un===4&&ai(e,Nn)),sr(e,r),n===1&&at===0&&!(t.mode&1)&&(ka=Zt()+500,Rd&&Fi()))}function sr(e,t){var n=e.callbackNode;c_(e,t);var r=Vu(e,e===xn?Nn:0);if(r===0)n!==null&&fg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fg(n),t===1)e.tag===0?lN(im.bind(null,e)):iv(im.bind(null,e)),sN(function(){!(at&6)&&Fi()}),n=null;else{switch(My(r)){case 1:n=v1;break;case 4:n=Ry;break;case 16:n=zu;break;case 536870912:n=Oy;break;default:n=zu}n=rw(n,Kv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kv(e,t){if(Nu=-1,Au=0,at&6)throw Error(he(327));var n=e.callbackNode;if(pa()&&e.callbackNode!==n)return null;var r=Vu(e,e===xn?Nn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=od(e,r);else{t=r;var o=at;at|=2;var a=Zv();(xn!==e||Nn!==t)&&(Ts=null,ka=Zt()+500,co(e,t));do try{IN();break}catch(p){Qv(e,p)}while(!0);O1(),rd.current=a,at=o,rn!==null?t=0:(xn=null,Nn=0,t=un)}if(t!==0){if(t===2&&(o=Qf(e),o!==0&&(r=o,t=_0(e,o))),t===1)throw n=ec,co(e,0),ai(e,r),sr(e,Zt()),n;if(t===6)ai(e,r);else{if(o=e.current.alternate,!(r&30)&&!AN(o)&&(t=od(e,r),t===2&&(a=Qf(e),a!==0&&(r=a,t=_0(e,a))),t===1))throw n=ec,co(e,0),ai(e,r),sr(e,Zt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:Ji(e,Jn,Ts);break;case 3:if(ai(e,r),(r&130023424)===r&&(t=Y1+500-Zt(),10<t)){if(Vu(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Wn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=i0(Ji.bind(null,e,Jn,Ts),t);break}Ji(e,Jn,Ts);break;case 4:if(ai(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var h=31-Qr(r);a=1<<h,h=t[h],h>o&&(o=h),r&=~a}if(r=o,r=Zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NN(r/1960))-r,10<r){e.timeoutHandle=i0(Ji.bind(null,e,Jn,Ts),r);break}Ji(e,Jn,Ts);break;case 5:Ji(e,Jn,Ts);break;default:throw Error(he(329))}}}return sr(e,Zt()),e.callbackNode===n?Kv.bind(null,e):null}function _0(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(co(e,t).flags|=256),e=od(e,t),e!==2&&(t=Jn,Jn=n,t!==null&&N0(t)),e}function N0(e){Jn===null?Jn=e:Jn.push.apply(Jn,e)}function AN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Jr(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ai(e,t){for(t&=~G1,t&=~Dd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qr(t),r=1<<n;e[n]=-1,t&=~r}}function im(e){if(at&6)throw Error(he(327));pa();var t=Vu(e,0);if(!(t&1))return sr(e,Zt()),null;var n=od(e,t);if(e.tag!==0&&n===2){var r=Qf(e);r!==0&&(t=r,n=_0(e,r))}if(n===1)throw n=ec,co(e,0),ai(e,t),sr(e,Zt()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ji(e,Jn,Ts),sr(e,Zt()),null}function q1(e,t){var n=at;at|=1;try{return e(t)}finally{at=n,at===0&&(ka=Zt()+500,Rd&&Fi())}}function xo(e){mi!==null&&mi.tag===0&&!(at&6)&&pa();var t=at;at|=1;var n=Rr.transition,r=gt;try{if(Rr.transition=null,gt=1,e)return e()}finally{gt=r,Rr.transition=n,at=t,!(at&6)&&Fi()}}function X1(){dr=aa.current,kt(aa)}function co(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rN(n)),rn!==null)for(n=rn.return;n!==null;){var r=n;switch(I1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yu();break;case 3:Ra(),kt(nr),kt(Ln),B1();break;case 5:L1(r);break;case 4:Ra();break;case 13:kt(zt);break;case 19:kt(zt);break;case 10:k1(r.type._context);break;case 22:case 23:X1()}n=n.return}if(xn=e,rn=e=_i(e.current,null),Nn=dr=t,un=0,ec=null,G1=Dd=mo=0,Jn=jl=null,ro!==null){for(t=0;t<ro.length;t++)if(n=ro[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var h=a.next;a.next=o,r.next=h}n.pending=r}ro=null}return e}function Qv(e,t){do{var n=rn;try{if(O1(),Su.current=nd,td){for(var r=Vt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}td=!1}if(go=0,mn=ln=Vt=null,Tl=!1,Ql=0,$1.current=null,n===null||n.return===null){un=1,ec=t,rn=null;break}e:{var a=e,h=n.return,p=n,x=t;if(t=Nn,p.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var m=x,v=p,w=v.tag;if(!(v.mode&1)&&(w===0||w===11||w===15)){var C=v.alternate;C?(v.updateQueue=C.updateQueue,v.memoizedState=C.memoizedState,v.lanes=C.lanes):(v.updateQueue=null,v.memoizedState=null)}var I=Gg(h);if(I!==null){I.flags&=-257,Yg(I,h,p,a,t),I.mode&1&&$g(a,m,t),t=I,x=m;var j=t.updateQueue;if(j===null){var T=new Set;T.add(x),t.updateQueue=T}else j.add(x);break e}else{if(!(t&1)){$g(a,m,t),K1();break e}x=Error(he(426))}}else if(Pt&&p.mode&1){var R=Gg(h);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Yg(R,h,p,a,t),j1(Oa(x,p));break e}}a=x=Oa(x,p),un!==4&&(un=2),jl===null?jl=[a]:jl.push(a),a=h;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var _=Mv(a,x,t);Fg(a,_);break e;case 1:p=x;var S=a.type,N=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Si===null||!Si.has(N)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=Dv(a,p,t);Fg(a,P);break e}}a=a.return}while(a!==null)}ew(n)}catch(O){t=O,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function Zv(){var e=rd.current;return rd.current=nd,e===null?nd:e}function K1(){(un===0||un===3||un===2)&&(un=4),xn===null||!(mo&268435455)&&!(Dd&268435455)||ai(xn,Nn)}function od(e,t){var n=at;at|=2;var r=Zv();(xn!==e||Nn!==t)&&(Ts=null,co(e,t));do try{TN();break}catch(o){Qv(e,o)}while(!0);if(O1(),at=n,rd.current=r,rn!==null)throw Error(he(261));return xn=null,Nn=0,un}function TN(){for(;rn!==null;)Jv(rn)}function IN(){for(;rn!==null&&!e_();)Jv(rn)}function Jv(e){var t=nw(e.alternate,e,dr);e.memoizedProps=e.pendingProps,t===null?ew(e):rn=t,$1.current=null}function ew(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CN(n,t),n!==null){n.flags&=32767,rn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{un=6,rn=null;return}}else if(n=bN(n,t,dr),n!==null){rn=n;return}if(t=t.sibling,t!==null){rn=t;return}rn=t=e}while(t!==null);un===0&&(un=5)}function Ji(e,t,n){var r=gt,o=Rr.transition;try{Rr.transition=null,gt=1,jN(e,t,n,r)}finally{Rr.transition=o,gt=r}return null}function jN(e,t,n,r){do pa();while(mi!==null);if(at&6)throw Error(he(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(u_(e,a),e===xn&&(rn=xn=null,Nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tu||(tu=!0,rw(zu,function(){return pa(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Rr.transition,Rr.transition=null;var h=gt;gt=1;var p=at;at|=4,$1.current=null,EN(e,n),qv(n,e),K_(r0),Hu=!!n0,r0=n0=null,e.current=n,_N(n),t_(),at=p,gt=h,Rr.transition=a}else e.current=n;if(tu&&(tu=!1,mi=e,id=o),a=e.pendingLanes,a===0&&(Si=null),s_(n.stateNode),sr(e,Zt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(sd)throw sd=!1,e=S0,S0=null,e;return id&1&&e.tag!==0&&pa(),a=e.pendingLanes,a&1?e===E0?Rl++:(Rl=0,E0=e):Rl=0,Fi(),null}function pa(){if(mi!==null){var e=My(id),t=Rr.transition,n=gt;try{if(Rr.transition=null,gt=16>e?16:e,mi===null)var r=!1;else{if(e=mi,mi=null,id=0,at&6)throw Error(he(331));var o=at;for(at|=4,je=e.current;je!==null;){var a=je,h=a.child;if(je.flags&16){var p=a.deletions;if(p!==null){for(var x=0;x<p.length;x++){var m=p[x];for(je=m;je!==null;){var v=je;switch(v.tag){case 0:case 11:case 15:Il(8,v,a)}var w=v.child;if(w!==null)w.return=v,je=w;else for(;je!==null;){v=je;var C=v.sibling,I=v.return;if($v(v),v===m){je=null;break}if(C!==null){C.return=I,je=C;break}je=I}}}var j=a.alternate;if(j!==null){var T=j.child;if(T!==null){j.child=null;do{var R=T.sibling;T.sibling=null,T=R}while(T!==null)}}je=a}}if(a.subtreeFlags&2064&&h!==null)h.return=a,je=h;else e:for(;je!==null;){if(a=je,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Il(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,je=_;break e}je=a.return}}var S=e.current;for(je=S;je!==null;){h=je;var N=h.child;if(h.subtreeFlags&2064&&N!==null)N.return=h,je=N;else e:for(h=S;je!==null;){if(p=je,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:Md(9,p)}}catch(O){Xt(p,p.return,O)}if(p===h){je=null;break e}var P=p.sibling;if(P!==null){P.return=p.return,je=P;break e}je=p.return}}if(at=o,Fi(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Nd,e)}catch{}r=!0}return r}finally{gt=n,Rr.transition=t}}return!1}function om(e,t,n){t=Oa(n,t),t=Mv(e,t,1),e=Ci(e,t,1),t=Wn(),e!==null&&(pc(e,1,t),sr(e,t))}function Xt(e,t,n){if(e.tag===3)om(e,e,n);else for(;t!==null;){if(t.tag===3){om(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){e=Oa(n,e),e=Dv(t,e,1),t=Ci(t,e,1),e=Wn(),t!==null&&(pc(t,1,e),sr(t,e));break}}t=t.return}}function RN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wn(),e.pingedLanes|=e.suspendedLanes&n,xn===e&&(Nn&n)===n&&(un===4||un===3&&(Nn&130023424)===Nn&&500>Zt()-Y1?co(e,0):G1|=n),sr(e,t)}function tw(e,t){t===0&&(e.mode&1?(t=$c,$c<<=1,!($c&130023424)&&($c=4194304)):t=1);var n=Wn();e=Bs(e,t),e!==null&&(pc(e,t,n),sr(e,n))}function ON(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tw(e,n)}function kN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),tw(e,n)}var nw;nw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nr.current)tr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tr=!1,wN(e,t,n);tr=!!(e.flags&131072)}else tr=!1,Pt&&t.flags&1048576&&ov(t,Ku,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_u(e,t),e=t.pendingProps;var o=Ta(t,Ln.current);fa(t,n),o=U1(null,t,r,e,o,n);var a=z1();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rr(r)?(a=!0,qu(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,D1(t),o.updater=kd,t.stateNode=o,o._reactInternals=t,h0(t,r,e,n),t=g0(null,t,r,!0,a,n)):(t.tag=0,Pt&&a&&T1(t),Vn(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_u(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=DN(r),e=Wr(r,e),o){case 0:t=p0(null,t,r,e,n);break e;case 1:t=Kg(null,t,r,e,n);break e;case 11:t=qg(null,t,r,e,n);break e;case 14:t=Xg(null,t,r,Wr(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wr(r,o),p0(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wr(r,o),Kg(e,t,r,o,n);case 3:e:{if(Fv(t),e===null)throw Error(he(387));r=t.pendingProps,a=t.memoizedState,o=a.element,hv(e,t),Ju(t,r,null,n);var h=t.memoizedState;if(r=h.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Oa(Error(he(423)),t),t=Qg(e,t,r,n,o);break e}else if(r!==o){o=Oa(Error(he(424)),t),t=Qg(e,t,r,n,o);break e}else for(pr=bi(t.stateNode.containerInfo.firstChild),gr=t,Pt=!0,Kr=null,n=uv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ia(),r===o){t=Fs(e,t,n);break e}Vn(e,t,r,n)}t=t.child}return t;case 5:return fv(t),e===null&&c0(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,h=o.children,s0(r,o)?h=null:a!==null&&s0(r,a)&&(t.flags|=32),Bv(e,t),Vn(e,t,h,n),t.child;case 6:return e===null&&c0(t),null;case 13:return Uv(e,t,n);case 4:return P1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ja(t,null,r,n):Vn(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wr(r,o),qg(e,t,r,o,n);case 7:return Vn(e,t,t.pendingProps,n),t.child;case 8:return Vn(e,t,t.pendingProps.children,n),t.child;case 12:return Vn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,h=o.value,_t(Qu,r._currentValue),r._currentValue=h,a!==null)if(Jr(a.value,h)){if(a.children===o.children&&!nr.current){t=Fs(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var p=a.dependencies;if(p!==null){h=a.child;for(var x=p.firstContext;x!==null;){if(x.context===r){if(a.tag===1){x=Ms(-1,n&-n),x.tag=2;var m=a.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?x.next=x:(x.next=v.next,v.next=x),m.pending=x}}a.lanes|=n,x=a.alternate,x!==null&&(x.lanes|=n),u0(a.return,n,t),p.lanes|=n;break}x=x.next}}else if(a.tag===10)h=a.type===t.type?null:a.child;else if(a.tag===18){if(h=a.return,h===null)throw Error(he(341));h.lanes|=n,p=h.alternate,p!==null&&(p.lanes|=n),u0(h,n,t),h=a.sibling}else h=a.child;if(h!==null)h.return=a;else for(h=a;h!==null;){if(h===t){h=null;break}if(a=h.sibling,a!==null){a.return=h.return,h=a;break}h=h.return}a=h}Vn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,fa(t,n),o=Or(o),r=r(o),t.flags|=1,Vn(e,t,r,n),t.child;case 14:return r=t.type,o=Wr(r,t.pendingProps),o=Wr(r.type,o),Xg(e,t,r,o,n);case 15:return Pv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wr(r,o),_u(e,t),t.tag=1,rr(r)?(e=!0,qu(t)):e=!1,fa(t,n),kv(t,r,o),h0(t,r,o,n),g0(null,t,r,!0,e,n);case 19:return zv(e,t,n);case 22:return Lv(e,t,n)}throw Error(he(156,t.tag))};function rw(e,t){return jy(e,t)}function MN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(e,t,n,r){return new MN(e,t,n,r)}function Q1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function DN(e){if(typeof e=="function")return Q1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===m1)return 11;if(e===x1)return 14}return 2}function _i(e,t){var n=e.alternate;return n===null?(n=Tr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tu(e,t,n,r,o,a){var h=2;if(r=e,typeof e=="function")Q1(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Qo:return uo(n.children,o,a,t);case g1:h=8,o|=8;break;case Pf:return e=Tr(12,n,t,o|2),e.elementType=Pf,e.lanes=a,e;case Lf:return e=Tr(13,n,t,o),e.elementType=Lf,e.lanes=a,e;case Bf:return e=Tr(19,n,t,o),e.elementType=Bf,e.lanes=a,e;case fy:return Pd(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dy:h=10;break e;case hy:h=9;break e;case m1:h=11;break e;case x1:h=14;break e;case ri:h=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=Tr(h,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function uo(e,t,n,r){return e=Tr(7,e,r,t),e.lanes=n,e}function Pd(e,t,n,r){return e=Tr(22,e,r,t),e.elementType=fy,e.lanes=n,e.stateNode={isHidden:!1},e}function uf(e,t,n){return e=Tr(6,e,null,t),e.lanes=n,e}function df(e,t,n){return t=Tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PN(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Z1(e,t,n,r,o,a,h,p,x){return e=new PN(e,t,n,p,x),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Tr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D1(a),e}function LN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sw(e){if(!e)return Ti;e=e._reactInternals;e:{if(So(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(rr(n))return sv(e,n,t)}return t}function iw(e,t,n,r,o,a,h,p,x){return e=Z1(n,r,!0,e,o,a,h,p,x),e.context=sw(null),n=e.current,r=Wn(),o=Ei(n),a=Ms(r,o),a.callback=t??null,Ci(n,a,o),e.current.lanes=o,pc(e,o,r),sr(e,r),e}function Ld(e,t,n,r){var o=t.current,a=Wn(),h=Ei(o);return n=sw(n),t.context===null?t.context=n:t.pendingContext=n,t=Ms(a,h),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ci(o,t,h),e!==null&&(Zr(e,o,h,a),Cu(e,o,h)),h}function ad(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function am(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function J1(e,t){am(e,t),(e=e.alternate)&&am(e,t)}function BN(){return null}var ow=typeof reportError=="function"?reportError:function(e){console.error(e)};function ep(e){this._internalRoot=e}Bd.prototype.render=ep.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));Ld(e,t,null,null)};Bd.prototype.unmount=ep.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xo(function(){Ld(null,e,null,null)}),t[Ls]=null}};function Bd(e){this._internalRoot=e}Bd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ly();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oi.length&&t!==0&&t<oi[n].priority;n++);oi.splice(n,0,e),n===0&&Fy(e)}};function tp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lm(){}function FN(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var m=ad(h);a.call(m)}}var h=iw(t,r,e,0,null,!1,!1,"",lm);return e._reactRootContainer=h,e[Ls]=h.current,Gl(e.nodeType===8?e.parentNode:e),xo(),h}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var p=r;r=function(){var m=ad(x);p.call(m)}}var x=Z1(e,0,!1,null,null,!1,!1,"",lm);return e._reactRootContainer=x,e[Ls]=x.current,Gl(e.nodeType===8?e.parentNode:e),xo(function(){Ld(t,x,n,r)}),x}function Ud(e,t,n,r,o){var a=n._reactRootContainer;if(a){var h=a;if(typeof o=="function"){var p=o;o=function(){var x=ad(h);p.call(x)}}Ld(t,h,e,o)}else h=FN(n,t,e,o,r);return ad(h)}Dy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vl(t.pendingLanes);n!==0&&(w1(t,n|1),sr(t,Zt()),!(at&6)&&(ka=Zt()+500,Fi()))}break;case 13:xo(function(){var r=Bs(e,1);if(r!==null){var o=Wn();Zr(r,e,1,o)}}),J1(e,1)}};b1=function(e){if(e.tag===13){var t=Bs(e,134217728);if(t!==null){var n=Wn();Zr(t,e,134217728,n)}J1(e,134217728)}};Py=function(e){if(e.tag===13){var t=Ei(e),n=Bs(e,t);if(n!==null){var r=Wn();Zr(n,e,t,r)}J1(e,t)}};Ly=function(){return gt};By=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}};qf=function(e,t,n){switch(t){case"input":if(zf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=jd(r);if(!o)throw Error(he(90));gy(r),zf(r,o)}}}break;case"textarea":xy(e,n);break;case"select":t=n.value,t!=null&&ca(e,!!n.multiple,t,!1)}};Ey=q1;_y=xo;var UN={usingClientEntryPoint:!1,Events:[mc,ta,jd,Cy,Sy,q1]},fl={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zN={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ty(e),e===null?null:e.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||BN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Nd=nu.inject(zN),vs=nu}catch{}}vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UN;vr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tp(t))throw Error(he(200));return LN(e,t,null,n)};vr.createRoot=function(e,t){if(!tp(e))throw Error(he(299));var n=!1,r="",o=ow;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Z1(e,1,!1,null,null,n,!1,r,o),e[Ls]=t.current,Gl(e.nodeType===8?e.parentNode:e),new ep(t)};vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=Ty(t),e=e===null?null:e.stateNode,e};vr.flushSync=function(e){return xo(e)};vr.hydrate=function(e,t,n){if(!Fd(t))throw Error(he(200));return Ud(null,e,t,!0,n)};vr.hydrateRoot=function(e,t,n){if(!tp(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",h=ow;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=iw(t,null,e,1,n??null,o,!1,a,h),e[Ls]=t.current,Gl(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Bd(t)};vr.render=function(e,t,n){if(!Fd(t))throw Error(he(200));return Ud(null,e,t,!1,n)};vr.unmountComponentAtNode=function(e){if(!Fd(e))throw Error(he(40));return e._reactRootContainer?(xo(function(){Ud(null,null,e,!1,function(){e._reactRootContainer=null,e[Ls]=null})}),!0):!1};vr.unstable_batchedUpdates=q1;vr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fd(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Ud(e,t,n,!1,r)};vr.version="18.3.1-next-f1338f8080-20240426";function aw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aw)}catch(e){console.error(e)}}aw(),ay.exports=vr;var Eo=ay.exports;const lw=a1(Eo);var cw,cm=Eo;cw=cm.createRoot,cm.hydrateRoot;const VN=1,HN=1e6;let hf=0;function WN(){return hf=(hf+1)%Number.MAX_SAFE_INTEGER,hf.toString()}const ff=new Map,um=e=>{if(ff.has(e))return;const t=setTimeout(()=>{ff.delete(e),Ol({type:"REMOVE_TOAST",toastId:e})},HN);ff.set(e,t)},$N=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,VN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?um(n):e.toasts.forEach(r=>{um(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Iu=[];let ju={toasts:[]};function Ol(e){ju=$N(ju,e),Iu.forEach(t=>{t(ju)})}function GN({...e}){const t=WN(),n=o=>Ol({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Ol({type:"DISMISS_TOAST",toastId:t});return Ol({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Dr(){const[e,t]=E.useState(ju);return E.useEffect(()=>(Iu.push(t),()=>{const n=Iu.indexOf(t);n>-1&&Iu.splice(n,1)}),[e]),{...e,toast:GN,dismiss:n=>Ol({type:"DISMISS_TOAST",toastId:n})}}function Ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function YN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function uw(...e){return t=>e.forEach(n=>YN(n,t))}function wt(...e){return E.useCallback(uw(...e),e)}function qN(e,t=[]){let n=[];function r(a,h){const p=E.createContext(h),x=n.length;n=[...n,h];function m(w){const{scope:C,children:I,...j}=w,T=(C==null?void 0:C[e][x])||p,R=E.useMemo(()=>j,Object.values(j));return c.jsx(T.Provider,{value:R,children:I})}function v(w,C){const I=(C==null?void 0:C[e][x])||p,j=E.useContext(I);if(j)return j;if(h!==void 0)return h;throw new Error(`\`${w}\` must be used within \`${a}\``)}return m.displayName=a+"Provider",[m,v]}const o=()=>{const a=n.map(h=>E.createContext(h));return function(p){const x=(p==null?void 0:p[e])||a;return E.useMemo(()=>({[`__scope${e}`]:{...p,[e]:x}}),[p,x])}};return o.scopeName=e,[r,XN(o,...t)]}function XN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const h=r.reduce((p,{useScope:x,scopeName:m})=>{const w=x(a)[`__scope${m}`];return{...p,...w}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var Mr=E.forwardRef((e,t)=>{const{children:n,...r}=e,o=E.Children.toArray(n),a=o.find(KN);if(a){const h=a.props.children,p=o.map(x=>x===a?E.Children.count(h)>1?E.Children.only(null):E.isValidElement(h)?h.props.children:null:x);return c.jsx(A0,{...r,ref:t,children:E.isValidElement(h)?E.cloneElement(h,void 0,p):null})}return c.jsx(A0,{...r,ref:t,children:n})});Mr.displayName="Slot";var A0=E.forwardRef((e,t)=>{const{children:n,...r}=e;if(E.isValidElement(n)){const o=ZN(n);return E.cloneElement(n,{...QN(r,n.props),ref:t?uw(t,o):o})}return E.Children.count(n)>1?E.Children.only(null):null});A0.displayName="SlotClone";var dw=({children:e})=>c.jsx(c.Fragment,{children:e});function KN(e){return E.isValidElement(e)&&e.type===dw}function QN(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...p)=>{a(...p),o(...p)}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function ZN(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function np(e){const t=e+"CollectionProvider",[n,r]=qN(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),h=I=>{const{scope:j,children:T}=I,R=ve.useRef(null),_=ve.useRef(new Map).current;return c.jsx(o,{scope:j,itemMap:_,collectionRef:R,children:T})};h.displayName=t;const p=e+"CollectionSlot",x=ve.forwardRef((I,j)=>{const{scope:T,children:R}=I,_=a(p,T),S=wt(j,_.collectionRef);return c.jsx(Mr,{ref:S,children:R})});x.displayName=p;const m=e+"CollectionItemSlot",v="data-radix-collection-item",w=ve.forwardRef((I,j)=>{const{scope:T,children:R,..._}=I,S=ve.useRef(null),N=wt(j,S),P=a(m,T);return ve.useEffect(()=>(P.itemMap.set(S,{ref:S,..._}),()=>void P.itemMap.delete(S))),c.jsx(Mr,{[v]:"",ref:N,children:R})});w.displayName=m;function C(I){const j=a(e+"CollectionConsumer",I);return ve.useCallback(()=>{const R=j.collectionRef.current;if(!R)return[];const _=Array.from(R.querySelectorAll(`[${v}]`));return Array.from(j.itemMap.values()).sort((P,O)=>_.indexOf(P.ref.current)-_.indexOf(O.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:h,Slot:x,ItemSlot:w},C,r]}function JN(e,t){const n=E.createContext(t),r=a=>{const{children:h,...p}=a,x=E.useMemo(()=>p,Object.values(p));return c.jsx(n.Provider,{value:x,children:h})};r.displayName=e+"Provider";function o(a){const h=E.useContext(n);if(h)return h;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,o]}function za(e,t=[]){let n=[];function r(a,h){const p=E.createContext(h),x=n.length;n=[...n,h];const m=w=>{var _;const{scope:C,children:I,...j}=w,T=((_=C==null?void 0:C[e])==null?void 0:_[x])||p,R=E.useMemo(()=>j,Object.values(j));return c.jsx(T.Provider,{value:R,children:I})};m.displayName=a+"Provider";function v(w,C){var T;const I=((T=C==null?void 0:C[e])==null?void 0:T[x])||p,j=E.useContext(I);if(j)return j;if(h!==void 0)return h;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[m,v]}const o=()=>{const a=n.map(h=>E.createContext(h));return function(p){const x=(p==null?void 0:p[e])||a;return E.useMemo(()=>({[`__scope${e}`]:{...p,[e]:x}}),[p,x])}};return o.scopeName=e,[r,eA(o,...t)]}function eA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const h=r.reduce((p,{useScope:x,scopeName:m})=>{const w=x(a)[`__scope${m}`];return{...p,...w}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var tA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],He=tA.reduce((e,t)=>{const n=E.forwardRef((r,o)=>{const{asChild:a,...h}=r,p=a?Mr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(p,{...h,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function hw(e,t){e&&Eo.flushSync(()=>e.dispatchEvent(t))}function ir(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function nA(e,t=globalThis==null?void 0:globalThis.document){const n=ir(e);E.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var rA="DismissableLayer",T0="dismissableLayer.update",sA="dismissableLayer.pointerDownOutside",iA="dismissableLayer.focusOutside",dm,fw=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yc=E.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:h,onDismiss:p,...x}=e,m=E.useContext(fw),[v,w]=E.useState(null),C=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,I]=E.useState({}),j=wt(t,D=>w(D)),T=Array.from(m.layers),[R]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),_=T.indexOf(R),S=v?T.indexOf(v):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,P=S>=_,O=aA(D=>{const U=D.target,V=[...m.branches].some(re=>re.contains(U));!P||V||(o==null||o(D),h==null||h(D),D.defaultPrevented||p==null||p())},C),F=lA(D=>{const U=D.target;[...m.branches].some(re=>re.contains(U))||(a==null||a(D),h==null||h(D),D.defaultPrevented||p==null||p())},C);return nA(D=>{S===m.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&p&&(D.preventDefault(),p()))},C),E.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(dm=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),hm(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=dm)}},[v,C,n,m]),E.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),hm())},[v,m]),E.useEffect(()=>{const D=()=>I({});return document.addEventListener(T0,D),()=>document.removeEventListener(T0,D)},[]),c.jsx(He.div,{...x,ref:j,style:{pointerEvents:N?P?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,F.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,O.onPointerDownCapture)})});yc.displayName=rA;var oA="DismissableLayerBranch",pw=E.forwardRef((e,t)=>{const n=E.useContext(fw),r=E.useRef(null),o=wt(t,r);return E.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),c.jsx(He.div,{...e,ref:o})});pw.displayName=oA;function aA(e,t=globalThis==null?void 0:globalThis.document){const n=ir(e),r=E.useRef(!1),o=E.useRef(()=>{});return E.useEffect(()=>{const a=p=>{if(p.target&&!r.current){let x=function(){gw(sA,n,m,{discrete:!0})};const m={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=x,t.addEventListener("click",o.current,{once:!0})):x()}else t.removeEventListener("click",o.current);r.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function lA(e,t=globalThis==null?void 0:globalThis.document){const n=ir(e),r=E.useRef(!1);return E.useEffect(()=>{const o=a=>{a.target&&!r.current&&gw(iA,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hm(){const e=new CustomEvent(T0);document.dispatchEvent(e)}function gw(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?hw(o,a):o.dispatchEvent(a)}var cA=yc,uA=pw,Bn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},dA="Portal",zd=E.forwardRef((e,t)=>{var p;const{container:n,...r}=e,[o,a]=E.useState(!1);Bn(()=>a(!0),[]);const h=n||o&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return h?lw.createPortal(c.jsx(He.div,{...r,ref:t}),h):null});zd.displayName=dA;function hA(e,t){return E.useReducer((n,r)=>t[n][r]??n,e)}var _o=e=>{const{present:t,children:n}=e,r=fA(t),o=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),a=wt(r.ref,pA(o));return typeof n=="function"||r.isPresent?E.cloneElement(o,{ref:a}):null};_o.displayName="Presence";function fA(e){const[t,n]=E.useState(),r=E.useRef({}),o=E.useRef(e),a=E.useRef("none"),h=e?"mounted":"unmounted",[p,x]=hA(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const m=ru(r.current);a.current=p==="mounted"?m:"none"},[p]),Bn(()=>{const m=r.current,v=o.current;if(v!==e){const C=a.current,I=ru(m);e?x("MOUNT"):I==="none"||(m==null?void 0:m.display)==="none"?x("UNMOUNT"):x(v&&C!==I?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,x]),Bn(()=>{if(t){let m;const v=t.ownerDocument.defaultView??window,w=I=>{const T=ru(r.current).includes(I.animationName);if(I.target===t&&T&&(x("ANIMATION_END"),!o.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",m=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},C=I=>{I.target===t&&(a.current=ru(r.current))};return t.addEventListener("animationstart",C),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{v.clearTimeout(m),t.removeEventListener("animationstart",C),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else x("ANIMATION_END")},[t,x]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:E.useCallback(m=>{m&&(r.current=getComputedStyle(m)),n(m)},[])}}function ru(e){return(e==null?void 0:e.animationName)||"none"}function pA(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ii({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=gA({defaultProp:t,onChange:n}),a=e!==void 0,h=a?e:r,p=ir(n),x=E.useCallback(m=>{if(a){const w=typeof m=="function"?m(e):m;w!==e&&p(w)}else o(m)},[a,e,o,p]);return[h,x]}function gA({defaultProp:e,onChange:t}){const n=E.useState(e),[r]=n,o=E.useRef(r),a=ir(t);return E.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}var mA="VisuallyHidden",vc=E.forwardRef((e,t)=>c.jsx(He.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));vc.displayName=mA;var xA=vc,rp="ToastProvider",[sp,yA,vA]=np("Toast"),[mw,fM]=za("Toast",[vA]),[wA,Vd]=mw(rp),xw=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:h}=e,[p,x]=E.useState(null),[m,v]=E.useState(0),w=E.useRef(!1),C=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rp}\`. Expected non-empty \`string\`.`),c.jsx(sp.Provider,{scope:t,children:c.jsx(wA,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:a,toastCount:m,viewport:p,onViewportChange:x,onToastAdd:E.useCallback(()=>v(I=>I+1),[]),onToastRemove:E.useCallback(()=>v(I=>I-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:C,children:h})})};xw.displayName=rp;var yw="ToastViewport",bA=["F8"],I0="toast.viewportPause",j0="toast.viewportResume",vw=E.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=bA,label:o="Notifications ({hotkey})",...a}=e,h=Vd(yw,n),p=yA(n),x=E.useRef(null),m=E.useRef(null),v=E.useRef(null),w=E.useRef(null),C=wt(t,w,h.onViewportChange),I=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=h.toastCount>0;E.useEffect(()=>{const R=_=>{var N;r.length!==0&&r.every(P=>_[P]||_.code===P)&&((N=w.current)==null||N.focus())};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[r]),E.useEffect(()=>{const R=x.current,_=w.current;if(j&&R&&_){const S=()=>{if(!h.isClosePausedRef.current){const F=new CustomEvent(I0);_.dispatchEvent(F),h.isClosePausedRef.current=!0}},N=()=>{if(h.isClosePausedRef.current){const F=new CustomEvent(j0);_.dispatchEvent(F),h.isClosePausedRef.current=!1}},P=F=>{!R.contains(F.relatedTarget)&&N()},O=()=>{R.contains(document.activeElement)||N()};return R.addEventListener("focusin",S),R.addEventListener("focusout",P),R.addEventListener("pointermove",S),R.addEventListener("pointerleave",O),window.addEventListener("blur",S),window.addEventListener("focus",N),()=>{R.removeEventListener("focusin",S),R.removeEventListener("focusout",P),R.removeEventListener("pointermove",S),R.removeEventListener("pointerleave",O),window.removeEventListener("blur",S),window.removeEventListener("focus",N)}}},[j,h.isClosePausedRef]);const T=E.useCallback(({tabbingDirection:R})=>{const S=p().map(N=>{const P=N.ref.current,O=[P,...MA(P)];return R==="forwards"?O:O.reverse()});return(R==="forwards"?S.reverse():S).flat()},[p]);return E.useEffect(()=>{const R=w.current;if(R){const _=S=>{var O,F,D;const N=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!N){const U=document.activeElement,V=S.shiftKey;if(S.target===R&&V){(O=m.current)==null||O.focus();return}const X=T({tabbingDirection:V?"backwards":"forwards"}),de=X.findIndex(te=>te===U);pf(X.slice(de+1))?S.preventDefault():V?(F=m.current)==null||F.focus():(D=v.current)==null||D.focus()}};return R.addEventListener("keydown",_),()=>R.removeEventListener("keydown",_)}},[p,T]),c.jsxs(uA,{ref:x,role:"region","aria-label":o.replace("{hotkey}",I),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&c.jsx(R0,{ref:m,onFocusFromOutsideViewport:()=>{const R=T({tabbingDirection:"forwards"});pf(R)}}),c.jsx(sp.Slot,{scope:n,children:c.jsx(He.ol,{tabIndex:-1,...a,ref:C})}),j&&c.jsx(R0,{ref:v,onFocusFromOutsideViewport:()=>{const R=T({tabbingDirection:"backwards"});pf(R)}})]})});vw.displayName=yw;var ww="ToastFocusProxy",R0=E.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,a=Vd(ww,n);return c.jsx(vc,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:h=>{var m;const p=h.relatedTarget;!((m=a.viewport)!=null&&m.contains(p))&&r()}})});R0.displayName=ww;var Hd="Toast",CA="toast.swipeStart",SA="toast.swipeMove",EA="toast.swipeCancel",_A="toast.swipeEnd",bw=E.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:a,...h}=e,[p=!0,x]=Ii({prop:r,defaultProp:o,onChange:a});return c.jsx(_o,{present:n||p,children:c.jsx(TA,{open:p,...h,ref:t,onClose:()=>x(!1),onPause:ir(e.onPause),onResume:ir(e.onResume),onSwipeStart:Ue(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,m=>{const{x:v,y:w}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,m=>{const{x:v,y:w}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),x(!1)})})})});bw.displayName=Hd;var[NA,AA]=mw(Hd,{onClose(){}}),TA=E.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:a,onClose:h,onEscapeKeyDown:p,onPause:x,onResume:m,onSwipeStart:v,onSwipeMove:w,onSwipeCancel:C,onSwipeEnd:I,...j}=e,T=Vd(Hd,n),[R,_]=E.useState(null),S=wt(t,te=>_(te)),N=E.useRef(null),P=E.useRef(null),O=o||T.duration,F=E.useRef(0),D=E.useRef(O),U=E.useRef(0),{onToastAdd:V,onToastRemove:re}=T,se=ir(()=>{var $;(R==null?void 0:R.contains(document.activeElement))&&(($=T.viewport)==null||$.focus()),h()}),X=E.useCallback(te=>{!te||te===1/0||(window.clearTimeout(U.current),F.current=new Date().getTime(),U.current=window.setTimeout(se,te))},[se]);E.useEffect(()=>{const te=T.viewport;if(te){const $=()=>{X(D.current),m==null||m()},oe=()=>{const ce=new Date().getTime()-F.current;D.current=D.current-ce,window.clearTimeout(U.current),x==null||x()};return te.addEventListener(I0,oe),te.addEventListener(j0,$),()=>{te.removeEventListener(I0,oe),te.removeEventListener(j0,$)}}},[T.viewport,O,x,m,X]),E.useEffect(()=>{a&&!T.isClosePausedRef.current&&X(O)},[a,O,T.isClosePausedRef,X]),E.useEffect(()=>(V(),()=>re()),[V,re]);const de=E.useMemo(()=>R?Tw(R):null,[R]);return T.viewport?c.jsxs(c.Fragment,{children:[de&&c.jsx(IA,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:de}),c.jsx(NA,{scope:n,onClose:se,children:Eo.createPortal(c.jsx(sp.ItemSlot,{scope:n,children:c.jsx(cA,{asChild:!0,onEscapeKeyDown:Ue(p,()=>{T.isFocusedToastEscapeKeyDownRef.current||se(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":T.swipeDirection,...j,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,te=>{te.key==="Escape"&&(p==null||p(te.nativeEvent),te.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,se()))}),onPointerDown:Ue(e.onPointerDown,te=>{te.button===0&&(N.current={x:te.clientX,y:te.clientY})}),onPointerMove:Ue(e.onPointerMove,te=>{if(!N.current)return;const $=te.clientX-N.current.x,oe=te.clientY-N.current.y,ce=!!P.current,K=["left","right"].includes(T.swipeDirection),ae=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,we=K?ae(0,$):0,xe=K?0:ae(0,oe),be=te.pointerType==="touch"?10:2,ke={x:we,y:xe},Q={originalEvent:te,delta:ke};ce?(P.current=ke,su(SA,w,Q,{discrete:!1})):fm(ke,T.swipeDirection,be)?(P.current=ke,su(CA,v,Q,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs($)>be||Math.abs(oe)>be)&&(N.current=null)}),onPointerUp:Ue(e.onPointerUp,te=>{const $=P.current,oe=te.target;if(oe.hasPointerCapture(te.pointerId)&&oe.releasePointerCapture(te.pointerId),P.current=null,N.current=null,$){const ce=te.currentTarget,K={originalEvent:te,delta:$};fm($,T.swipeDirection,T.swipeThreshold)?su(_A,I,K,{discrete:!0}):su(EA,C,K,{discrete:!0}),ce.addEventListener("click",ae=>ae.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),IA=e=>{const{__scopeToast:t,children:n,...r}=e,o=Vd(Hd,t),[a,h]=E.useState(!1),[p,x]=E.useState(!1);return OA(()=>h(!0)),E.useEffect(()=>{const m=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(m)},[]),p?null:c.jsx(zd,{asChild:!0,children:c.jsx(vc,{...r,children:a&&c.jsxs(c.Fragment,{children:[o.label," ",n]})})})},jA="ToastTitle",Cw=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(He.div,{...r,ref:t})});Cw.displayName=jA;var RA="ToastDescription",Sw=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(He.div,{...r,ref:t})});Sw.displayName=RA;var Ew="ToastAction",_w=E.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?c.jsx(Aw,{altText:n,asChild:!0,children:c.jsx(ip,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ew}\`. Expected non-empty \`string\`.`),null)});_w.displayName=Ew;var Nw="ToastClose",ip=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=AA(Nw,n);return c.jsx(Aw,{asChild:!0,children:c.jsx(He.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,o.onClose)})})});ip.displayName=Nw;var Aw=E.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return c.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Tw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),kA(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const h=r.dataset.radixToastAnnounceAlt;h&&t.push(h)}else t.push(...Tw(r))}}),t}function su(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?hw(o,a):o.dispatchEvent(a)}var fm=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),a=r>o;return t==="left"||t==="right"?a&&r>n:!a&&o>n};function OA(e=()=>{}){const t=ir(e);Bn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function kA(e){return e.nodeType===e.ELEMENT_NODE}function MA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function pf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var DA=xw,Iw=vw,jw=bw,Rw=Cw,Ow=Sw,kw=_w,Mw=ip;function Dw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Dw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pw(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Dw(e))&&(r&&(r+=" "),r+=t);return r}const pm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gm=Pw,Va=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return gm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,h=Object.keys(o).map(m=>{const v=n==null?void 0:n[m],w=a==null?void 0:a[m];if(v===null)return null;const C=pm(v)||pm(w);return o[m][C]}),p=n&&Object.entries(n).reduce((m,v)=>{let[w,C]=v;return C===void 0||(m[w]=C),m},{}),x=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,v)=>{let{class:w,className:C,...I}=v;return Object.entries(I).every(j=>{let[T,R]=j;return Array.isArray(R)?R.includes({...a,...p}[T]):{...a,...p}[T]===R})?[...m,w,C]:m},[]);return gm(e,h,x,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:h,...p},x)=>E.createElement("svg",{ref:x,...LA,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Lw("lucide",o),...p},[...h.map(([m,v])=>E.createElement(m,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(e,t)=>{const n=E.forwardRef(({className:r,...o},a)=>E.createElement(BA,{ref:a,iconNode:t,className:Lw(`lucide-${PA(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=Je("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=Je("ArrowBigLeft",[["path",{d:"M18 15h-6v4l-7-7 7-7v4h6v6z",key:"lbrdak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=Je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=Je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=Je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=Je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=Je("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=Je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=Je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=Je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Je("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Je("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Je("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=Je("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=Je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Je("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=Je("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Je("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Je("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Je("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=Je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Je("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lp="-",YA=e=>{const t=XA(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:h=>{const p=h.split(lp);return p[0]===""&&p.length!==1&&p.shift(),Gw(p,t)||qA(h)},getConflictingClassGroupIds:(h,p)=>{const x=n[h]||[];return p&&r[h]?[...x,...r[h]]:x}}},Gw=(e,t)=>{var h;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Gw(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(lp);return(h=t.validators.find(({validator:p})=>p(a)))==null?void 0:h.classGroupId},wm=/^\[(.+)\]$/,qA=e=>{if(wm.test(e)){const t=wm.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},XA=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return QA(Object.entries(e.classGroups),n).forEach(([a,h])=>{O0(h,r,a,t)}),r},O0=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:bm(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(KA(o)){O0(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,h])=>{O0(h,bm(t,a),n,r)})})},bm=(e,t)=>{let n=e;return t.split(lp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},KA=e=>e.isThemeGetter,QA=(e,t)=>t?e.map(([n,r])=>{const o=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([h,p])=>[t+h,p])):a);return[n,o]}):e,ZA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,h)=>{n.set(a,h),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let h=n.get(a);if(h!==void 0)return h;if((h=r.get(a))!==void 0)return o(a,h),h},set(a,h){n.has(a)?n.set(a,h):o(a,h)}}},Yw="!",JA=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],a=t.length,h=p=>{const x=[];let m=0,v=0,w;for(let R=0;R<p.length;R++){let _=p[R];if(m===0){if(_===o&&(r||p.slice(R,R+a)===t)){x.push(p.slice(v,R)),v=R+a;continue}if(_==="/"){w=R;continue}}_==="["?m++:_==="]"&&m--}const C=x.length===0?p:p.substring(v),I=C.startsWith(Yw),j=I?C.substring(1):C,T=w&&w>v?w-v:void 0;return{modifiers:x,hasImportantModifier:I,baseClassName:j,maybePostfixModifierPosition:T}};return n?p=>n({className:p,parseClassName:h}):h},e3=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},t3=e=>({cache:ZA(e.cacheSize),parseClassName:JA(e),...YA(e)}),n3=/\s+/,r3=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,a=[],h=e.trim().split(n3);let p="";for(let x=h.length-1;x>=0;x-=1){const m=h[x],{modifiers:v,hasImportantModifier:w,baseClassName:C,maybePostfixModifierPosition:I}=n(m);let j=!!I,T=r(j?C.substring(0,I):C);if(!T){if(!j){p=m+(p.length>0?" "+p:p);continue}if(T=r(C),!T){p=m+(p.length>0?" "+p:p);continue}j=!1}const R=e3(v).join(":"),_=w?R+Yw:R,S=_+T;if(a.includes(S))continue;a.push(S);const N=o(T,j);for(let P=0;P<N.length;++P){const O=N[P];a.push(_+O)}p=m+(p.length>0?" "+p:p)}return p};function s3(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=qw(t))&&(r&&(r+=" "),r+=n);return r}const qw=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=qw(e[r]))&&(n&&(n+=" "),n+=t);return n};function i3(e,...t){let n,r,o,a=h;function h(x){const m=t.reduce((v,w)=>w(v),e());return n=t3(m),r=n.cache.get,o=n.cache.set,a=p,p(x)}function p(x){const m=r(x);if(m)return m;const v=r3(x,n);return o(x,v),v}return function(){return a(s3.apply(null,arguments))}}const Tt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Xw=/^\[(?:([a-z-]+):)?(.+)\]$/i,o3=/^\d+\/\d+$/,a3=new Set(["px","full","screen"]),l3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,c3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_s=e=>ga(e)||a3.has(e)||o3.test(e),Qs=e=>Wa(e,"length",w3),ga=e=>!!e&&!Number.isNaN(Number(e)),gf=e=>Wa(e,"number",ga),pl=e=>!!e&&Number.isInteger(Number(e)),f3=e=>e.endsWith("%")&&ga(e.slice(0,-1)),Ye=e=>Xw.test(e),Zs=e=>l3.test(e),p3=new Set(["length","size","percentage"]),g3=e=>Wa(e,p3,Kw),m3=e=>Wa(e,"position",Kw),x3=new Set(["image","url"]),y3=e=>Wa(e,x3,C3),v3=e=>Wa(e,"",b3),gl=()=>!0,Wa=(e,t,n)=>{const r=Xw.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},w3=e=>c3.test(e)&&!u3.test(e),Kw=()=>!1,b3=e=>d3.test(e),C3=e=>h3.test(e),S3=()=>{const e=Tt("colors"),t=Tt("spacing"),n=Tt("blur"),r=Tt("brightness"),o=Tt("borderColor"),a=Tt("borderRadius"),h=Tt("borderSpacing"),p=Tt("borderWidth"),x=Tt("contrast"),m=Tt("grayscale"),v=Tt("hueRotate"),w=Tt("invert"),C=Tt("gap"),I=Tt("gradientColorStops"),j=Tt("gradientColorStopPositions"),T=Tt("inset"),R=Tt("margin"),_=Tt("opacity"),S=Tt("padding"),N=Tt("saturate"),P=Tt("scale"),O=Tt("sepia"),F=Tt("skew"),D=Tt("space"),U=Tt("translate"),V=()=>["auto","contain","none"],re=()=>["auto","hidden","clip","visible","scroll"],se=()=>["auto",Ye,t],X=()=>[Ye,t],de=()=>["",_s,Qs],te=()=>["auto",ga,Ye],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],oe=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Ye],we=()=>["auto","avoid","all","avoid-page","page","left","right","column"],xe=()=>[ga,Ye];return{cacheSize:500,separator:":",theme:{colors:[gl],spacing:[_s,Qs],blur:["none","",Zs,Ye],brightness:xe(),borderColor:[e],borderRadius:["none","","full",Zs,Ye],borderSpacing:X(),borderWidth:de(),contrast:xe(),grayscale:ae(),hueRotate:xe(),invert:ae(),gap:X(),gradientColorStops:[e],gradientColorStopPositions:[f3,Qs],inset:se(),margin:se(),opacity:xe(),padding:X(),saturate:xe(),scale:xe(),sepia:ae(),skew:xe(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[Zs]}],"break-after":[{"break-after":we()}],"break-before":[{"break-before":we()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Ye]}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pl,Ye]}],basis:[{basis:se()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",pl,Ye]}],"grid-cols":[{"grid-cols":[gl]}],"col-start-end":[{col:["auto",{span:["full",pl,Ye]},Ye]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[gl]}],"row-start-end":[{row:["auto",{span:[pl,Ye]},Ye]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,t]}],"min-w":[{"min-w":[Ye,t,"min","max","fit"]}],"max-w":[{"max-w":[Ye,t,"none","full","min","max","fit","prose",{screen:[Zs]},Zs]}],h:[{h:[Ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Zs,Qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gf]}],"font-family":[{font:[gl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",ga,gf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_s,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_s,Qs]}],"underline-offset":[{"underline-offset":["auto",_s,Ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),m3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",g3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[I]}],"gradient-via":[{via:[I]}],"gradient-to":[{to:[I]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...oe(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:oe()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...oe()]}],"outline-offset":[{"outline-offset":[_s,Ye]}],"outline-w":[{outline:[_s,Qs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[_s,Qs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Zs,v3]}],"shadow-color":[{shadow:[gl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",Zs,Ye]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[w]}],saturate:[{saturate:[N]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:xe()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:xe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[pl,Ye]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[_s,Qs,gf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E3=i3(S3);function Ae(...e){return E3(Pw(e))}const _3=DA,Qw=E.forwardRef(({className:e,...t},n)=>c.jsx(Iw,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Qw.displayName=Iw.displayName;const N3=Va("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Zw=E.forwardRef(({className:e,variant:t,...n},r)=>c.jsx(jw,{ref:r,className:Ae(N3({variant:t}),e),...n}));Zw.displayName=jw.displayName;const A3=E.forwardRef(({className:e,...t},n)=>c.jsx(kw,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));A3.displayName=kw.displayName;const Jw=E.forwardRef(({className:e,...t},n)=>c.jsx(Mw,{ref:n,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(ho,{className:"h-4 w-4"})}));Jw.displayName=Mw.displayName;const e2=E.forwardRef(({className:e,...t},n)=>c.jsx(Rw,{ref:n,className:Ae("text-sm font-semibold",e),...t}));e2.displayName=Rw.displayName;const t2=E.forwardRef(({className:e,...t},n)=>c.jsx(Ow,{ref:n,className:Ae("text-sm opacity-90",e),...t}));t2.displayName=Ow.displayName;function T3(){const{toasts:e}=Dr();return c.jsxs(_3,{children:[e.map(function({id:t,title:n,description:r,action:o,...a}){return c.jsxs(Zw,{...a,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(e2,{children:n}),r&&c.jsx(t2,{children:r})]}),o,c.jsx(Jw,{})]},t)}),c.jsx(Qw,{})]})}var Cm=["light","dark"],I3="(prefers-color-scheme: dark)",j3=E.createContext(void 0),R3={setTheme:e=>{},themes:[]},O3=()=>{var e;return(e=E.useContext(j3))!=null?e:R3};E.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:h,attrs:p,nonce:x})=>{let m=a==="system",v=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${p.map(j=>`'${j}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,w=o?Cm.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",C=(j,T=!1,R=!0)=>{let _=h?h[j]:j,S=T?j+"|| ''":`'${_}'`,N="";return o&&R&&!T&&Cm.includes(j)&&(N+=`d.style.colorScheme = '${j}';`),n==="class"?T||_?N+=`c.add(${S})`:N+="null":_&&(N+=`d[s](n,${S})`),N},I=e?`!function(){${v}${C(e)}}()`:r?`!function(){try{${v}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${m})){var t='${I3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${C("dark")}}else{${C("light")}}}else if(e){${h?`var x=${JSON.stringify(h)};`:""}${C(h?"x[e]":"e",!0)}}${m?"":"else{"+C(a,!1,!1)+"}"}${w}}catch(e){}}()`:`!function(){try{${v}var e=localStorage.getItem('${t}');if(e){${h?`var x=${JSON.stringify(h)};`:""}${C(h?"x[e]":"e",!0)}}else{${C(a,!1,!1)};}${w}}catch(t){}}();`;return E.createElement("script",{nonce:x,dangerouslySetInnerHTML:{__html:I}})});var k3=e=>{switch(e){case"success":return P3;case"info":return B3;case"warning":return L3;case"error":return F3;default:return null}},M3=Array(12).fill(0),D3=({visible:e})=>ve.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},ve.createElement("div",{className:"sonner-spinner"},M3.map((t,n)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),P3=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),L3=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),B3=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),F3=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),U3=()=>{let[e,t]=ve.useState(document.hidden);return ve.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},k0=1,z3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:k0++,a=this.toasts.find(p=>p.id===o),h=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(p=>p.id===o?(this.publish({...p,...e,id:o,title:n}),{...p,...e,id:o,dismissible:h,title:n}):p):this.addToast({title:n,...r,dismissible:h,id:o}),o},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),o=n!==void 0;return r.then(async a=>{if(H3(a)&&!a.ok){o=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:n,type:"error",message:h,description:p})}else if(t.success!==void 0){o=!1;let h=typeof t.success=="function"?await t.success(a):t.success,p=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"success",message:h,description:p})}}).catch(async a=>{if(t.error!==void 0){o=!1;let h=typeof t.error=="function"?await t.error(a):t.error,p=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"error",message:h,description:p})}}).finally(()=>{var a;o&&(this.dismiss(n),n=void 0),(a=t.finally)==null||a.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||k0++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},ur=new z3,V3=(e,t)=>{let n=(t==null?void 0:t.id)||k0++;return ur.addToast({title:e,...t,id:n}),n},H3=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",W3=V3,$3=()=>ur.toasts;Object.assign(W3,{success:ur.success,info:ur.info,warning:ur.warning,error:ur.error,custom:ur.custom,message:ur.message,promise:ur.promise,dismiss:ur.dismiss,loading:ur.loading},{getHistory:$3});function G3(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}G3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function iu(e){return e.label!==void 0}var Y3=3,q3="32px",X3=4e3,K3=356,Q3=14,Z3=20,J3=200;function e4(...e){return e.filter(Boolean).join(" ")}var t4=e=>{var t,n,r,o,a,h,p,x,m,v;let{invert:w,toast:C,unstyled:I,interacting:j,setHeights:T,visibleToasts:R,heights:_,index:S,toasts:N,expanded:P,removeToast:O,defaultRichColors:F,closeButton:D,style:U,cancelButtonStyle:V,actionButtonStyle:re,className:se="",descriptionClassName:X="",duration:de,position:te,gap:$,loadingIcon:oe,expandByDefault:ce,classNames:K,icons:ae,closeButtonAriaLabel:we="Close toast",pauseWhenPageIsHidden:xe,cn:be}=e,[ke,Q]=ve.useState(!1),[Ee,Z]=ve.useState(!1),[Ne,Re]=ve.useState(!1),[st,G]=ve.useState(!1),[Se,Ce]=ve.useState(0),[De,Lt]=ve.useState(0),sn=ve.useRef(null),dn=ve.useRef(null),Nt=S===0,ct=S+1<=R,Be=C.type,Pr=C.dismissible!==!1,Oe=C.className||"",Io=C.descriptionClassName||"",Wi=ve.useMemo(()=>_.findIndex(Ve=>Ve.toastId===C.id)||0,[_,C.id]),Lr=ve.useMemo(()=>{var Ve;return(Ve=C.closeButton)!=null?Ve:D},[C.closeButton,D]),jo=ve.useMemo(()=>C.duration||de||X3,[C.duration,de]),Fn=ve.useRef(0),Es=ve.useRef(0),Br=ve.useRef(0),Wt=ve.useRef(null),[Qa,Ro]=te.split("-"),Tc=ve.useMemo(()=>_.reduce((Ve,ht,ft)=>ft>=Wi?Ve:Ve+ht.height,0),[_,Wi]),Bt=U3(),ye=C.invert||w,Ft=Be==="loading";Es.current=ve.useMemo(()=>Wi*$+Tc,[Wi,Tc]),ve.useEffect(()=>{Q(!0)},[]),ve.useLayoutEffect(()=>{if(!ke)return;let Ve=dn.current,ht=Ve.style.height;Ve.style.height="auto";let ft=Ve.getBoundingClientRect().height;Ve.style.height=ht,Lt(ft),T(We=>We.find(hn=>hn.toastId===C.id)?We.map(hn=>hn.toastId===C.id?{...hn,height:ft}:hn):[{toastId:C.id,height:ft,position:C.position},...We])},[ke,C.title,C.description,T,C.id]);let nt=ve.useCallback(()=>{Z(!0),Ce(Es.current),T(Ve=>Ve.filter(ht=>ht.toastId!==C.id)),setTimeout(()=>{O(C)},J3)},[C,O,T,Es]);ve.useEffect(()=>{if(C.promise&&Be==="loading"||C.duration===1/0||C.type==="loading")return;let Ve,ht=jo;return P||j||xe&&Bt?(()=>{if(Br.current<Fn.current){let ft=new Date().getTime()-Fn.current;ht=ht-ft}Br.current=new Date().getTime()})():ht!==1/0&&(Fn.current=new Date().getTime(),Ve=setTimeout(()=>{var ft;(ft=C.onAutoClose)==null||ft.call(C,C),nt()},ht)),()=>clearTimeout(Ve)},[P,j,ce,C,jo,nt,C.promise,Be,xe,Bt]),ve.useEffect(()=>{let Ve=dn.current;if(Ve){let ht=Ve.getBoundingClientRect().height;return Lt(ht),T(ft=>[{toastId:C.id,height:ht,position:C.position},...ft]),()=>T(ft=>ft.filter(We=>We.toastId!==C.id))}},[T,C.id]),ve.useEffect(()=>{C.delete&&nt()},[nt,C.delete]);function Mt(){return ae!=null&&ae.loading?ve.createElement("div",{className:"sonner-loader","data-visible":Be==="loading"},ae.loading):oe?ve.createElement("div",{className:"sonner-loader","data-visible":Be==="loading"},oe):ve.createElement(D3,{visible:Be==="loading"})}return ve.createElement("li",{"aria-live":C.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:dn,className:be(se,Oe,K==null?void 0:K.toast,(t=C==null?void 0:C.classNames)==null?void 0:t.toast,K==null?void 0:K.default,K==null?void 0:K[Be],(n=C==null?void 0:C.classNames)==null?void 0:n[Be]),"data-sonner-toast":"","data-rich-colors":(r=C.richColors)!=null?r:F,"data-styled":!(C.jsx||C.unstyled||I),"data-mounted":ke,"data-promise":!!C.promise,"data-removed":Ee,"data-visible":ct,"data-y-position":Qa,"data-x-position":Ro,"data-index":S,"data-front":Nt,"data-swiping":Ne,"data-dismissible":Pr,"data-type":Be,"data-invert":ye,"data-swipe-out":st,"data-expanded":!!(P||ce&&ke),style:{"--index":S,"--toasts-before":S,"--z-index":N.length-S,"--offset":`${Ee?Se:Es.current}px`,"--initial-height":ce?"auto":`${De}px`,...U,...C.style},onPointerDown:Ve=>{Ft||!Pr||(sn.current=new Date,Ce(Es.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(Re(!0),Wt.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,ht,ft,We;if(st||!Pr)return;Wt.current=null;let hn=Number(((Ve=dn.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount").replace("px",""))||0),$i=new Date().getTime()-((ht=sn.current)==null?void 0:ht.getTime()),Ic=Math.abs(hn)/$i;if(Math.abs(hn)>=Z3||Ic>.11){Ce(Es.current),(ft=C.onDismiss)==null||ft.call(C,C),nt(),G(!0);return}(We=dn.current)==null||We.style.setProperty("--swipe-amount","0px"),Re(!1)},onPointerMove:Ve=>{var ht;if(!Wt.current||!Pr)return;let ft=Ve.clientY-Wt.current.y,We=Ve.clientX-Wt.current.x,hn=(Qa==="top"?Math.min:Math.max)(0,ft),$i=Ve.pointerType==="touch"?10:2;Math.abs(hn)>$i?(ht=dn.current)==null||ht.style.setProperty("--swipe-amount",`${ft}px`):Math.abs(We)>$i&&(Wt.current=null)}},Lr&&!C.jsx?ve.createElement("button",{"aria-label":we,"data-disabled":Ft,"data-close-button":!0,onClick:Ft||!Pr?()=>{}:()=>{var Ve;nt(),(Ve=C.onDismiss)==null||Ve.call(C,C)},className:be(K==null?void 0:K.closeButton,(o=C==null?void 0:C.classNames)==null?void 0:o.closeButton)},ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,C.jsx||ve.isValidElement(C.title)?C.jsx||C.title:ve.createElement(ve.Fragment,null,Be||C.icon||C.promise?ve.createElement("div",{"data-icon":"",className:be(K==null?void 0:K.icon,(a=C==null?void 0:C.classNames)==null?void 0:a.icon)},C.promise||C.type==="loading"&&!C.icon?C.icon||Mt():null,C.type!=="loading"?C.icon||(ae==null?void 0:ae[Be])||k3(Be):null):null,ve.createElement("div",{"data-content":"",className:be(K==null?void 0:K.content,(h=C==null?void 0:C.classNames)==null?void 0:h.content)},ve.createElement("div",{"data-title":"",className:be(K==null?void 0:K.title,(p=C==null?void 0:C.classNames)==null?void 0:p.title)},C.title),C.description?ve.createElement("div",{"data-description":"",className:be(X,Io,K==null?void 0:K.description,(x=C==null?void 0:C.classNames)==null?void 0:x.description)},C.description):null),ve.isValidElement(C.cancel)?C.cancel:C.cancel&&iu(C.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:C.cancelButtonStyle||V,onClick:Ve=>{var ht,ft;iu(C.cancel)&&Pr&&((ft=(ht=C.cancel).onClick)==null||ft.call(ht,Ve),nt())},className:be(K==null?void 0:K.cancelButton,(m=C==null?void 0:C.classNames)==null?void 0:m.cancelButton)},C.cancel.label):null,ve.isValidElement(C.action)?C.action:C.action&&iu(C.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:C.actionButtonStyle||re,onClick:Ve=>{var ht,ft;iu(C.action)&&(Ve.defaultPrevented||((ft=(ht=C.action).onClick)==null||ft.call(ht,Ve),nt()))},className:be(K==null?void 0:K.actionButton,(v=C==null?void 0:C.classNames)==null?void 0:v.actionButton)},C.action.label):null))};function Sm(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var n4=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:o,closeButton:a,className:h,offset:p,theme:x="light",richColors:m,duration:v,style:w,visibleToasts:C=Y3,toastOptions:I,dir:j=Sm(),gap:T=Q3,loadingIcon:R,icons:_,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:N,cn:P=e4}=e,[O,F]=ve.useState([]),D=ve.useMemo(()=>Array.from(new Set([n].concat(O.filter(xe=>xe.position).map(xe=>xe.position)))),[O,n]),[U,V]=ve.useState([]),[re,se]=ve.useState(!1),[X,de]=ve.useState(!1),[te,$]=ve.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=ve.useRef(null),ce=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=ve.useRef(null),ae=ve.useRef(!1),we=ve.useCallback(xe=>{var be;(be=O.find(ke=>ke.id===xe.id))!=null&&be.delete||ur.dismiss(xe.id),F(ke=>ke.filter(({id:Q})=>Q!==xe.id))},[O]);return ve.useEffect(()=>ur.subscribe(xe=>{if(xe.dismiss){F(be=>be.map(ke=>ke.id===xe.id?{...ke,delete:!0}:ke));return}setTimeout(()=>{lw.flushSync(()=>{F(be=>{let ke=be.findIndex(Q=>Q.id===xe.id);return ke!==-1?[...be.slice(0,ke),{...be[ke],...xe},...be.slice(ke+1)]:[xe,...be]})})})}),[]),ve.useEffect(()=>{if(x!=="system"){$(x);return}x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:xe})=>{$(xe?"dark":"light")})},[x]),ve.useEffect(()=>{O.length<=1&&se(!1)},[O]),ve.useEffect(()=>{let xe=be=>{var ke,Q;r.every(Ee=>be[Ee]||be.code===Ee)&&(se(!0),(ke=oe.current)==null||ke.focus()),be.code==="Escape"&&(document.activeElement===oe.current||(Q=oe.current)!=null&&Q.contains(document.activeElement))&&se(!1)};return document.addEventListener("keydown",xe),()=>document.removeEventListener("keydown",xe)},[r]),ve.useEffect(()=>{if(oe.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,ae.current=!1)}},[oe.current]),O.length?ve.createElement("section",{"aria-label":`${S} ${ce}`,tabIndex:-1},D.map((xe,be)=>{var ke;let[Q,Ee]=xe.split("-");return ve.createElement("ol",{key:xe,dir:j==="auto"?Sm():j,tabIndex:-1,ref:oe,className:h,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":Q,"data-x-position":Ee,style:{"--front-toast-height":`${((ke=U[0])==null?void 0:ke.height)||0}px`,"--offset":typeof p=="number"?`${p}px`:p||q3,"--width":`${K3}px`,"--gap":`${T}px`,...w},onBlur:Z=>{ae.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(ae.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,K.current=Z.relatedTarget)},onMouseEnter:()=>se(!0),onMouseMove:()=>se(!0),onMouseLeave:()=>{X||se(!1)},onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||de(!0)},onPointerUp:()=>de(!1)},O.filter(Z=>!Z.position&&be===0||Z.position===xe).map((Z,Ne)=>{var Re,st;return ve.createElement(t4,{key:Z.id,icons:_,index:Ne,toast:Z,defaultRichColors:m,duration:(Re=I==null?void 0:I.duration)!=null?Re:v,className:I==null?void 0:I.className,descriptionClassName:I==null?void 0:I.descriptionClassName,invert:t,visibleToasts:C,closeButton:(st=I==null?void 0:I.closeButton)!=null?st:a,interacting:X,position:xe,style:I==null?void 0:I.style,unstyled:I==null?void 0:I.unstyled,classNames:I==null?void 0:I.classNames,cancelButtonStyle:I==null?void 0:I.cancelButtonStyle,actionButtonStyle:I==null?void 0:I.actionButtonStyle,removeToast:we,toasts:O.filter(G=>G.position==Z.position),heights:U.filter(G=>G.position==Z.position),setHeights:V,expandByDefault:o,gap:T,loadingIcon:R,expanded:re,pauseWhenPageIsHidden:N,cn:P})}))})):null};const r4=({...e})=>{const{theme:t="system"}=O3();return c.jsx(n4,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var s4=iy.useId||(()=>{}),i4=0;function Ds(e){const[t,n]=E.useState(s4());return Bn(()=>{n(r=>r??String(i4++))},[e]),t?`radix-${t}`:""}const o4=["top","right","bottom","left"],Oi=Math.min,hr=Math.max,cd=Math.round,ou=Math.floor,ki=e=>({x:e,y:e}),a4={left:"right",right:"left",bottom:"top",top:"bottom"},l4={start:"end",end:"start"};function M0(e,t,n){return hr(e,Oi(t,n))}function Us(e,t){return typeof e=="function"?e(t):e}function zs(e){return e.split("-")[0]}function $a(e){return e.split("-")[1]}function cp(e){return e==="x"?"y":"x"}function up(e){return e==="y"?"height":"width"}function Mi(e){return["top","bottom"].includes(zs(e))?"y":"x"}function dp(e){return cp(Mi(e))}function c4(e,t,n){n===void 0&&(n=!1);const r=$a(e),o=dp(e),a=up(o);let h=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(h=ud(h)),[h,ud(h)]}function u4(e){const t=ud(e);return[D0(e),t,D0(t)]}function D0(e){return e.replace(/start|end/g,t=>l4[t])}function d4(e,t,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],h=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?a:h;default:return[]}}function h4(e,t,n,r){const o=$a(e);let a=d4(zs(e),n==="start",r);return o&&(a=a.map(h=>h+"-"+o),t&&(a=a.concat(a.map(D0)))),a}function ud(e){return e.replace(/left|right|bottom|top/g,t=>a4[t])}function f4(e){return{top:0,right:0,bottom:0,left:0,...e}}function n2(e){return typeof e!="number"?f4(e):{top:e,right:e,bottom:e,left:e}}function dd(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Em(e,t,n){let{reference:r,floating:o}=e;const a=Mi(t),h=dp(t),p=up(h),x=zs(t),m=a==="y",v=r.x+r.width/2-o.width/2,w=r.y+r.height/2-o.height/2,C=r[p]/2-o[p]/2;let I;switch(x){case"top":I={x:v,y:r.y-o.height};break;case"bottom":I={x:v,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y:w};break;case"left":I={x:r.x-o.width,y:w};break;default:I={x:r.x,y:r.y}}switch($a(t)){case"start":I[h]-=C*(n&&m?-1:1);break;case"end":I[h]+=C*(n&&m?-1:1);break}return I}const p4=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:h}=n,p=a.filter(Boolean),x=await(h.isRTL==null?void 0:h.isRTL(t));let m=await h.getElementRects({reference:e,floating:t,strategy:o}),{x:v,y:w}=Em(m,r,x),C=r,I={},j=0;for(let T=0;T<p.length;T++){const{name:R,fn:_}=p[T],{x:S,y:N,data:P,reset:O}=await _({x:v,y:w,initialPlacement:r,placement:C,strategy:o,middlewareData:I,rects:m,platform:h,elements:{reference:e,floating:t}});v=S??v,w=N??w,I={...I,[R]:{...I[R],...P}},O&&j<=50&&(j++,typeof O=="object"&&(O.placement&&(C=O.placement),O.rects&&(m=O.rects===!0?await h.getElementRects({reference:e,floating:t,strategy:o}):O.rects),{x:v,y:w}=Em(m,C,x)),T=-1)}return{x:v,y:w,placement:C,strategy:o,middlewareData:I}};async function rc(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:h,elements:p,strategy:x}=e,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:w="floating",altBoundary:C=!1,padding:I=0}=Us(t,e),j=n2(I),R=p[C?w==="floating"?"reference":"floating":w],_=dd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(R)))==null||n?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(p.floating)),boundary:m,rootBoundary:v,strategy:x})),S=w==="floating"?{x:r,y:o,width:h.floating.width,height:h.floating.height}:h.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(p.floating)),P=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},O=dd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:S,offsetParent:N,strategy:x}):S);return{top:(_.top-O.top+j.top)/P.y,bottom:(O.bottom-_.bottom+j.bottom)/P.y,left:(_.left-O.left+j.left)/P.x,right:(O.right-_.right+j.right)/P.x}}const g4=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:h,elements:p,middlewareData:x}=t,{element:m,padding:v=0}=Us(e,t)||{};if(m==null)return{};const w=n2(v),C={x:n,y:r},I=dp(o),j=up(I),T=await h.getDimensions(m),R=I==="y",_=R?"top":"left",S=R?"bottom":"right",N=R?"clientHeight":"clientWidth",P=a.reference[j]+a.reference[I]-C[I]-a.floating[j],O=C[I]-a.reference[I],F=await(h.getOffsetParent==null?void 0:h.getOffsetParent(m));let D=F?F[N]:0;(!D||!await(h.isElement==null?void 0:h.isElement(F)))&&(D=p.floating[N]||a.floating[j]);const U=P/2-O/2,V=D/2-T[j]/2-1,re=Oi(w[_],V),se=Oi(w[S],V),X=re,de=D-T[j]-se,te=D/2-T[j]/2+U,$=M0(X,te,de),oe=!x.arrow&&$a(o)!=null&&te!==$&&a.reference[j]/2-(te<X?re:se)-T[j]/2<0,ce=oe?te<X?te-X:te-de:0;return{[I]:C[I]+ce,data:{[I]:$,centerOffset:te-$-ce,...oe&&{alignmentOffset:ce}},reset:oe}}}),m4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:h,initialPlacement:p,platform:x,elements:m}=t,{mainAxis:v=!0,crossAxis:w=!0,fallbackPlacements:C,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:T=!0,...R}=Us(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const _=zs(o),S=Mi(p),N=zs(p)===p,P=await(x.isRTL==null?void 0:x.isRTL(m.floating)),O=C||(N||!T?[ud(p)]:u4(p)),F=j!=="none";!C&&F&&O.push(...h4(p,T,j,P));const D=[p,...O],U=await rc(t,R),V=[];let re=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&V.push(U[_]),w){const te=c4(o,h,P);V.push(U[te[0]],U[te[1]])}if(re=[...re,{placement:o,overflows:V}],!V.every(te=>te<=0)){var se,X;const te=(((se=a.flip)==null?void 0:se.index)||0)+1,$=D[te];if($)return{data:{index:te,overflows:re},reset:{placement:$}};let oe=(X=re.filter(ce=>ce.overflows[0]<=0).sort((ce,K)=>ce.overflows[1]-K.overflows[1])[0])==null?void 0:X.placement;if(!oe)switch(I){case"bestFit":{var de;const ce=(de=re.filter(K=>{if(F){const ae=Mi(K.placement);return ae===S||ae==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ae=>ae>0).reduce((ae,we)=>ae+we,0)]).sort((K,ae)=>K[1]-ae[1])[0])==null?void 0:de[0];ce&&(oe=ce);break}case"initialPlacement":oe=p;break}if(o!==oe)return{reset:{placement:oe}}}return{}}}};function _m(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nm(e){return o4.some(t=>e[t]>=0)}const x4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Us(e,t);switch(r){case"referenceHidden":{const a=await rc(t,{...o,elementContext:"reference"}),h=_m(a,n.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Nm(h)}}}case"escaped":{const a=await rc(t,{...o,altBoundary:!0}),h=_m(a,n.floating);return{data:{escapedOffsets:h,escaped:Nm(h)}}}default:return{}}}}};async function y4(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),h=zs(n),p=$a(n),x=Mi(n)==="y",m=["left","top"].includes(h)?-1:1,v=a&&x?-1:1,w=Us(t,e);let{mainAxis:C,crossAxis:I,alignmentAxis:j}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return p&&typeof j=="number"&&(I=p==="end"?j*-1:j),x?{x:I*v,y:C*m}:{x:C*m,y:I*v}}const v4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:h,middlewareData:p}=t,x=await y4(t,e);return h===((n=p.offset)==null?void 0:n.placement)&&(r=p.arrow)!=null&&r.alignmentOffset?{}:{x:o+x.x,y:a+x.y,data:{...x,placement:h}}}}},w4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:h=!1,limiter:p={fn:R=>{let{x:_,y:S}=R;return{x:_,y:S}}},...x}=Us(e,t),m={x:n,y:r},v=await rc(t,x),w=Mi(zs(o)),C=cp(w);let I=m[C],j=m[w];if(a){const R=C==="y"?"top":"left",_=C==="y"?"bottom":"right",S=I+v[R],N=I-v[_];I=M0(S,I,N)}if(h){const R=w==="y"?"top":"left",_=w==="y"?"bottom":"right",S=j+v[R],N=j-v[_];j=M0(S,j,N)}const T=p.fn({...t,[C]:I,[w]:j});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[C]:a,[w]:h}}}}}},b4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:h}=t,{offset:p=0,mainAxis:x=!0,crossAxis:m=!0}=Us(e,t),v={x:n,y:r},w=Mi(o),C=cp(w);let I=v[C],j=v[w];const T=Us(p,t),R=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(x){const N=C==="y"?"height":"width",P=a.reference[C]-a.floating[N]+R.mainAxis,O=a.reference[C]+a.reference[N]-R.mainAxis;I<P?I=P:I>O&&(I=O)}if(m){var _,S;const N=C==="y"?"width":"height",P=["top","left"].includes(zs(o)),O=a.reference[w]-a.floating[N]+(P&&((_=h.offset)==null?void 0:_[w])||0)+(P?0:R.crossAxis),F=a.reference[w]+a.reference[N]+(P?0:((S=h.offset)==null?void 0:S[w])||0)-(P?R.crossAxis:0);j<O?j=O:j>F&&(j=F)}return{[C]:I,[w]:j}}}},C4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:h,elements:p}=t,{apply:x=()=>{},...m}=Us(e,t),v=await rc(t,m),w=zs(o),C=$a(o),I=Mi(o)==="y",{width:j,height:T}=a.floating;let R,_;w==="top"||w==="bottom"?(R=w,_=C===(await(h.isRTL==null?void 0:h.isRTL(p.floating))?"start":"end")?"left":"right"):(_=w,R=C==="end"?"top":"bottom");const S=T-v.top-v.bottom,N=j-v.left-v.right,P=Oi(T-v[R],S),O=Oi(j-v[_],N),F=!t.middlewareData.shift;let D=P,U=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(U=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(D=S),F&&!C){const re=hr(v.left,0),se=hr(v.right,0),X=hr(v.top,0),de=hr(v.bottom,0);I?U=j-2*(re!==0||se!==0?re+se:hr(v.left,v.right)):D=T-2*(X!==0||de!==0?X+de:hr(v.top,v.bottom))}await x({...t,availableWidth:U,availableHeight:D});const V=await h.getDimensions(p.floating);return j!==V.width||T!==V.height?{reset:{rects:!0}}:{}}}};function Wd(){return typeof window<"u"}function Ga(e){return r2(e)?(e.nodeName||"").toLowerCase():"#document"}function mr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ss(e){var t;return(t=(r2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function r2(e){return Wd()?e instanceof Node||e instanceof mr(e).Node:!1}function ts(e){return Wd()?e instanceof Element||e instanceof mr(e).Element:!1}function Cs(e){return Wd()?e instanceof HTMLElement||e instanceof mr(e).HTMLElement:!1}function Am(e){return!Wd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mr(e).ShadowRoot}function wc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ns(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function S4(e){return["table","td","th"].includes(Ga(e))}function $d(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function hp(e){const t=fp(),n=ts(e)?ns(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function E4(e){let t=Di(e);for(;Cs(t)&&!Ma(t);){if(hp(t))return t;if($d(t))return null;t=Di(t)}return null}function fp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ma(e){return["html","body","#document"].includes(Ga(e))}function ns(e){return mr(e).getComputedStyle(e)}function Gd(e){return ts(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Di(e){if(Ga(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Am(e)&&e.host||Ss(e);return Am(t)?t.host:t}function s2(e){const t=Di(e);return Ma(t)?e.ownerDocument?e.ownerDocument.body:e.body:Cs(t)&&wc(t)?t:s2(t)}function sc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=s2(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),h=mr(o);if(a){const p=P0(h);return t.concat(h,h.visualViewport||[],wc(o)?o:[],p&&n?sc(p):[])}return t.concat(o,sc(o,[],n))}function P0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function i2(e){const t=ns(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Cs(e),a=o?e.offsetWidth:n,h=o?e.offsetHeight:r,p=cd(n)!==a||cd(r)!==h;return p&&(n=a,r=h),{width:n,height:r,$:p}}function pp(e){return ts(e)?e:e.contextElement}function ma(e){const t=pp(e);if(!Cs(t))return ki(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=i2(t);let h=(a?cd(n.width):n.width)/r,p=(a?cd(n.height):n.height)/o;return(!h||!Number.isFinite(h))&&(h=1),(!p||!Number.isFinite(p))&&(p=1),{x:h,y:p}}const _4=ki(0);function o2(e){const t=mr(e);return!fp()||!t.visualViewport?_4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function N4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==mr(e)?!1:t}function vo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=pp(e);let h=ki(1);t&&(r?ts(r)&&(h=ma(r)):h=ma(e));const p=N4(a,n,r)?o2(a):ki(0);let x=(o.left+p.x)/h.x,m=(o.top+p.y)/h.y,v=o.width/h.x,w=o.height/h.y;if(a){const C=mr(a),I=r&&ts(r)?mr(r):r;let j=C,T=P0(j);for(;T&&r&&I!==j;){const R=ma(T),_=T.getBoundingClientRect(),S=ns(T),N=_.left+(T.clientLeft+parseFloat(S.paddingLeft))*R.x,P=_.top+(T.clientTop+parseFloat(S.paddingTop))*R.y;x*=R.x,m*=R.y,v*=R.x,w*=R.y,x+=N,m+=P,j=mr(T),T=P0(j)}}return dd({width:v,height:w,x,y:m})}function A4(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",h=Ss(r),p=t?$d(t.floating):!1;if(r===h||p&&a)return n;let x={scrollLeft:0,scrollTop:0},m=ki(1);const v=ki(0),w=Cs(r);if((w||!w&&!a)&&((Ga(r)!=="body"||wc(h))&&(x=Gd(r)),Cs(r))){const C=vo(r);m=ma(r),v.x=C.x+r.clientLeft,v.y=C.y+r.clientTop}return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-x.scrollLeft*m.x+v.x,y:n.y*m.y-x.scrollTop*m.y+v.y}}function T4(e){return Array.from(e.getClientRects())}function L0(e,t){const n=Gd(e).scrollLeft;return t?t.left+n:vo(Ss(e)).left+n}function I4(e){const t=Ss(e),n=Gd(e),r=e.ownerDocument.body,o=hr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=hr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let h=-n.scrollLeft+L0(e);const p=-n.scrollTop;return ns(r).direction==="rtl"&&(h+=hr(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:h,y:p}}function j4(e,t){const n=mr(e),r=Ss(e),o=n.visualViewport;let a=r.clientWidth,h=r.clientHeight,p=0,x=0;if(o){a=o.width,h=o.height;const m=fp();(!m||m&&t==="fixed")&&(p=o.offsetLeft,x=o.offsetTop)}return{width:a,height:h,x:p,y:x}}function R4(e,t){const n=vo(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=Cs(e)?ma(e):ki(1),h=e.clientWidth*a.x,p=e.clientHeight*a.y,x=o*a.x,m=r*a.y;return{width:h,height:p,x,y:m}}function Tm(e,t,n){let r;if(t==="viewport")r=j4(e,n);else if(t==="document")r=I4(Ss(e));else if(ts(t))r=R4(t,n);else{const o=o2(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return dd(r)}function a2(e,t){const n=Di(e);return n===t||!ts(n)||Ma(n)?!1:ns(n).position==="fixed"||a2(n,t)}function O4(e,t){const n=t.get(e);if(n)return n;let r=sc(e,[],!1).filter(p=>ts(p)&&Ga(p)!=="body"),o=null;const a=ns(e).position==="fixed";let h=a?Di(e):e;for(;ts(h)&&!Ma(h);){const p=ns(h),x=hp(h);!x&&p.position==="fixed"&&(o=null),(a?!x&&!o:!x&&p.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||wc(h)&&!x&&a2(e,h))?r=r.filter(v=>v!==h):o=p,h=Di(h)}return t.set(e,r),r}function k4(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const h=[...n==="clippingAncestors"?$d(t)?[]:O4(t,this._c):[].concat(n),r],p=h[0],x=h.reduce((m,v)=>{const w=Tm(t,v,o);return m.top=hr(w.top,m.top),m.right=Oi(w.right,m.right),m.bottom=Oi(w.bottom,m.bottom),m.left=hr(w.left,m.left),m},Tm(t,p,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function M4(e){const{width:t,height:n}=i2(e);return{width:t,height:n}}function D4(e,t,n){const r=Cs(t),o=Ss(t),a=n==="fixed",h=vo(e,!0,a,t);let p={scrollLeft:0,scrollTop:0};const x=ki(0);if(r||!r&&!a)if((Ga(t)!=="body"||wc(o))&&(p=Gd(t)),r){const I=vo(t,!0,a,t);x.x=I.x+t.clientLeft,x.y=I.y+t.clientTop}else o&&(x.x=L0(o));let m=0,v=0;if(o&&!r&&!a){const I=o.getBoundingClientRect();v=I.top+p.scrollTop,m=I.left+p.scrollLeft-L0(o,I)}const w=h.left+p.scrollLeft-x.x-m,C=h.top+p.scrollTop-x.y-v;return{x:w,y:C,width:h.width,height:h.height}}function mf(e){return ns(e).position==="static"}function Im(e,t){if(!Cs(e)||ns(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ss(e)===n&&(n=n.ownerDocument.body),n}function l2(e,t){const n=mr(e);if($d(e))return n;if(!Cs(e)){let o=Di(e);for(;o&&!Ma(o);){if(ts(o)&&!mf(o))return o;o=Di(o)}return n}let r=Im(e,t);for(;r&&S4(r)&&mf(r);)r=Im(r,t);return r&&Ma(r)&&mf(r)&&!hp(r)?n:r||E4(e)||n}const P4=async function(e){const t=this.getOffsetParent||l2,n=this.getDimensions,r=await n(e.floating);return{reference:D4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function L4(e){return ns(e).direction==="rtl"}const B4={convertOffsetParentRelativeRectToViewportRelativeRect:A4,getDocumentElement:Ss,getClippingRect:k4,getOffsetParent:l2,getElementRects:P4,getClientRects:T4,getDimensions:M4,getScale:ma,isElement:ts,isRTL:L4};function F4(e,t){let n=null,r;const o=Ss(e);function a(){var p;clearTimeout(r),(p=n)==null||p.disconnect(),n=null}function h(p,x){p===void 0&&(p=!1),x===void 0&&(x=1),a();const{left:m,top:v,width:w,height:C}=e.getBoundingClientRect();if(p||t(),!w||!C)return;const I=ou(v),j=ou(o.clientWidth-(m+w)),T=ou(o.clientHeight-(v+C)),R=ou(m),S={rootMargin:-I+"px "+-j+"px "+-T+"px "+-R+"px",threshold:hr(0,Oi(1,x))||1};let N=!0;function P(O){const F=O[0].intersectionRatio;if(F!==x){if(!N)return h();F?h(!1,F):r=setTimeout(()=>{h(!1,1e-7)},1e3)}N=!1}try{n=new IntersectionObserver(P,{...S,root:o.ownerDocument})}catch{n=new IntersectionObserver(P,S)}n.observe(e)}return h(!0),a}function U4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:x=!1}=r,m=pp(e),v=o||a?[...m?sc(m):[],...sc(t)]:[];v.forEach(_=>{o&&_.addEventListener("scroll",n,{passive:!0}),a&&_.addEventListener("resize",n)});const w=m&&p?F4(m,n):null;let C=-1,I=null;h&&(I=new ResizeObserver(_=>{let[S]=_;S&&S.target===m&&I&&(I.unobserve(t),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var N;(N=I)==null||N.observe(t)})),n()}),m&&!x&&I.observe(m),I.observe(t));let j,T=x?vo(e):null;x&&R();function R(){const _=vo(e);T&&(_.x!==T.x||_.y!==T.y||_.width!==T.width||_.height!==T.height)&&n(),T=_,j=requestAnimationFrame(R)}return n(),()=>{var _;v.forEach(S=>{o&&S.removeEventListener("scroll",n),a&&S.removeEventListener("resize",n)}),w==null||w(),(_=I)==null||_.disconnect(),I=null,x&&cancelAnimationFrame(j)}}const z4=v4,V4=w4,H4=m4,W4=C4,$4=x4,jm=g4,G4=b4,Y4=(e,t,n)=>{const r=new Map,o={platform:B4,...n},a={...o.platform,_c:r};return p4(e,t,{...o,platform:a})};var Du=typeof document<"u"?E.useLayoutEffect:E.useEffect;function hd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!hd(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!hd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function c2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rm(e,t){const n=c2(e);return Math.round(t*n)/n}function xf(e){const t=E.useRef(e);return Du(()=>{t.current=e}),t}function q4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:h}={},transform:p=!0,whileElementsMounted:x,open:m}=e,[v,w]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[C,I]=E.useState(r);hd(C,r)||I(r);const[j,T]=E.useState(null),[R,_]=E.useState(null),S=E.useCallback(K=>{K!==F.current&&(F.current=K,T(K))},[]),N=E.useCallback(K=>{K!==D.current&&(D.current=K,_(K))},[]),P=a||j,O=h||R,F=E.useRef(null),D=E.useRef(null),U=E.useRef(v),V=x!=null,re=xf(x),se=xf(o),X=xf(m),de=E.useCallback(()=>{if(!F.current||!D.current)return;const K={placement:t,strategy:n,middleware:C};se.current&&(K.platform=se.current),Y4(F.current,D.current,K).then(ae=>{const we={...ae,isPositioned:X.current!==!1};te.current&&!hd(U.current,we)&&(U.current=we,Eo.flushSync(()=>{w(we)}))})},[C,t,n,se,X]);Du(()=>{m===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,w(K=>({...K,isPositioned:!1})))},[m]);const te=E.useRef(!1);Du(()=>(te.current=!0,()=>{te.current=!1}),[]),Du(()=>{if(P&&(F.current=P),O&&(D.current=O),P&&O){if(re.current)return re.current(P,O,de);de()}},[P,O,de,re,V]);const $=E.useMemo(()=>({reference:F,floating:D,setReference:S,setFloating:N}),[S,N]),oe=E.useMemo(()=>({reference:P,floating:O}),[P,O]),ce=E.useMemo(()=>{const K={position:n,left:0,top:0};if(!oe.floating)return K;const ae=Rm(oe.floating,v.x),we=Rm(oe.floating,v.y);return p?{...K,transform:"translate("+ae+"px, "+we+"px)",...c2(oe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ae,top:we}},[n,p,oe.floating,v.x,v.y]);return E.useMemo(()=>({...v,update:de,refs:$,elements:oe,floatingStyles:ce}),[v,de,$,oe,ce])}const X4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?jm({element:r.current,padding:o}).fn(n):{}:r?jm({element:r,padding:o}).fn(n):{}}}},K4=(e,t)=>({...z4(e),options:[e,t]}),Q4=(e,t)=>({...V4(e),options:[e,t]}),Z4=(e,t)=>({...G4(e),options:[e,t]}),J4=(e,t)=>({...H4(e),options:[e,t]}),eT=(e,t)=>({...W4(e),options:[e,t]}),tT=(e,t)=>({...$4(e),options:[e,t]}),nT=(e,t)=>({...X4(e),options:[e,t]});var rT="Arrow",u2=E.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return c.jsx(He.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});u2.displayName=rT;var sT=u2;function iT(e,t=[]){let n=[];function r(a,h){const p=E.createContext(h),x=n.length;n=[...n,h];function m(w){const{scope:C,children:I,...j}=w,T=(C==null?void 0:C[e][x])||p,R=E.useMemo(()=>j,Object.values(j));return c.jsx(T.Provider,{value:R,children:I})}function v(w,C){const I=(C==null?void 0:C[e][x])||p,j=E.useContext(I);if(j)return j;if(h!==void 0)return h;throw new Error(`\`${w}\` must be used within \`${a}\``)}return m.displayName=a+"Provider",[m,v]}const o=()=>{const a=n.map(h=>E.createContext(h));return function(p){const x=(p==null?void 0:p[e])||a;return E.useMemo(()=>({[`__scope${e}`]:{...p,[e]:x}}),[p,x])}};return o.scopeName=e,[r,oT(o,...t)]}function oT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const h=r.reduce((p,{useScope:x,scopeName:m})=>{const w=x(a)[`__scope${m}`];return{...p,...w}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}function d2(e){const[t,n]=E.useState(void 0);return Bn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let h,p;if("borderBoxSize"in a){const x=a.borderBoxSize,m=Array.isArray(x)?x[0]:x;h=m.inlineSize,p=m.blockSize}else h=e.offsetWidth,p=e.offsetHeight;n({width:h,height:p})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var gp="Popper",[h2,Yd]=iT(gp),[aT,f2]=h2(gp),p2=e=>{const{__scopePopper:t,children:n}=e,[r,o]=E.useState(null);return c.jsx(aT,{scope:t,anchor:r,onAnchorChange:o,children:n})};p2.displayName=gp;var g2="PopperAnchor",m2=E.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=f2(g2,n),h=E.useRef(null),p=wt(t,h);return E.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||h.current)}),r?null:c.jsx(He.div,{...o,ref:p})});m2.displayName=g2;var mp="PopperContent",[lT,cT]=h2(mp),x2=E.forwardRef((e,t)=>{var Ne,Re,st,G,Se,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:h=0,arrowPadding:p=0,avoidCollisions:x=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:w="partial",hideWhenDetached:C=!1,updatePositionStrategy:I="optimized",onPlaced:j,...T}=e,R=f2(mp,n),[_,S]=E.useState(null),N=wt(t,De=>S(De)),[P,O]=E.useState(null),F=d2(P),D=(F==null?void 0:F.width)??0,U=(F==null?void 0:F.height)??0,V=r+(a!=="center"?"-"+a:""),re=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},se=Array.isArray(m)?m:[m],X=se.length>0,de={padding:re,boundary:se.filter(dT),altBoundary:X},{refs:te,floatingStyles:$,placement:oe,isPositioned:ce,middlewareData:K}=q4({strategy:"fixed",placement:V,whileElementsMounted:(...De)=>U4(...De,{animationFrame:I==="always"}),elements:{reference:R.anchor},middleware:[K4({mainAxis:o+U,alignmentAxis:h}),x&&Q4({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?Z4():void 0,...de}),x&&J4({...de}),eT({...de,apply:({elements:De,rects:Lt,availableWidth:sn,availableHeight:dn})=>{const{width:Nt,height:ct}=Lt.reference,Be=De.floating.style;Be.setProperty("--radix-popper-available-width",`${sn}px`),Be.setProperty("--radix-popper-available-height",`${dn}px`),Be.setProperty("--radix-popper-anchor-width",`${Nt}px`),Be.setProperty("--radix-popper-anchor-height",`${ct}px`)}}),P&&nT({element:P,padding:p}),hT({arrowWidth:D,arrowHeight:U}),C&&tT({strategy:"referenceHidden",...de})]}),[ae,we]=w2(oe),xe=ir(j);Bn(()=>{ce&&(xe==null||xe())},[ce,xe]);const be=(Ne=K.arrow)==null?void 0:Ne.x,ke=(Re=K.arrow)==null?void 0:Re.y,Q=((st=K.arrow)==null?void 0:st.centerOffset)!==0,[Ee,Z]=E.useState();return Bn(()=>{_&&Z(window.getComputedStyle(_).zIndex)},[_]),c.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:ce?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(G=K.transformOrigin)==null?void 0:G.x,(Se=K.transformOrigin)==null?void 0:Se.y].join(" "),...((Ce=K.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(lT,{scope:n,placedSide:ae,onArrowChange:O,arrowX:be,arrowY:ke,shouldHideArrow:Q,children:c.jsx(He.div,{"data-side":ae,"data-align":we,...T,ref:N,style:{...T.style,animation:ce?void 0:"none"}})})})});x2.displayName=mp;var y2="PopperArrow",uT={top:"bottom",right:"left",bottom:"top",left:"right"},v2=E.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=cT(y2,r),h=uT[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(sT,{...o,ref:n,style:{...o.style,display:"block"}})})});v2.displayName=y2;function dT(e){return e!==null}var hT=e=>({name:"transformOrigin",options:e,fn(t){var R,_,S;const{placement:n,rects:r,middlewareData:o}=t,h=((R=o.arrow)==null?void 0:R.centerOffset)!==0,p=h?0:e.arrowWidth,x=h?0:e.arrowHeight,[m,v]=w2(n),w={start:"0%",center:"50%",end:"100%"}[v],C=(((_=o.arrow)==null?void 0:_.x)??0)+p/2,I=(((S=o.arrow)==null?void 0:S.y)??0)+x/2;let j="",T="";return m==="bottom"?(j=h?w:`${C}px`,T=`${-x}px`):m==="top"?(j=h?w:`${C}px`,T=`${r.floating.height+x}px`):m==="right"?(j=`${-x}px`,T=h?w:`${I}px`):m==="left"&&(j=`${r.floating.width+x}px`,T=h?w:`${I}px`),{data:{x:j,y:T}}}});function w2(e){const[t,n="center"]=e.split("-");return[t,n]}var b2=p2,C2=m2,S2=x2,E2=v2,[qd,pM]=za("Tooltip",[Yd]),Xd=Yd(),_2="TooltipProvider",fT=700,B0="tooltip.open",[pT,xp]=qd(_2),N2=e=>{const{__scopeTooltip:t,delayDuration:n=fT,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:a}=e,[h,p]=E.useState(!0),x=E.useRef(!1),m=E.useRef(0);return E.useEffect(()=>{const v=m.current;return()=>window.clearTimeout(v)},[]),c.jsx(pT,{scope:t,isOpenDelayed:h,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(m.current),p(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>p(!0),r)},[r]),isPointerInTransitRef:x,onPointerInTransitChange:E.useCallback(v=>{x.current=v},[]),disableHoverableContent:o,children:a})};N2.displayName=_2;var Kd="Tooltip",[gT,Qd]=qd(Kd),A2=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:a,disableHoverableContent:h,delayDuration:p}=e,x=xp(Kd,e.__scopeTooltip),m=Xd(t),[v,w]=E.useState(null),C=Ds(),I=E.useRef(0),j=h??x.disableHoverableContent,T=p??x.delayDuration,R=E.useRef(!1),[_=!1,S]=Ii({prop:r,defaultProp:o,onChange:D=>{D?(x.onOpen(),document.dispatchEvent(new CustomEvent(B0))):x.onClose(),a==null||a(D)}}),N=E.useMemo(()=>_?R.current?"delayed-open":"instant-open":"closed",[_]),P=E.useCallback(()=>{window.clearTimeout(I.current),I.current=0,R.current=!1,S(!0)},[S]),O=E.useCallback(()=>{window.clearTimeout(I.current),I.current=0,S(!1)},[S]),F=E.useCallback(()=>{window.clearTimeout(I.current),I.current=window.setTimeout(()=>{R.current=!0,S(!0),I.current=0},T)},[T,S]);return E.useEffect(()=>()=>{I.current&&(window.clearTimeout(I.current),I.current=0)},[]),c.jsx(b2,{...m,children:c.jsx(gT,{scope:t,contentId:C,open:_,stateAttribute:N,trigger:v,onTriggerChange:w,onTriggerEnter:E.useCallback(()=>{x.isOpenDelayed?F():P()},[x.isOpenDelayed,F,P]),onTriggerLeave:E.useCallback(()=>{j?O():(window.clearTimeout(I.current),I.current=0)},[O,j]),onOpen:P,onClose:O,disableHoverableContent:j,children:n})})};A2.displayName=Kd;var F0="TooltipTrigger",T2=E.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Qd(F0,n),a=xp(F0,n),h=Xd(n),p=E.useRef(null),x=wt(t,p,o.onTriggerChange),m=E.useRef(!1),v=E.useRef(!1),w=E.useCallback(()=>m.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),c.jsx(C2,{asChild:!0,...h,children:c.jsx(He.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:x,onPointerMove:Ue(e.onPointerMove,C=>{C.pointerType!=="touch"&&!v.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),v.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{o.onTriggerLeave(),v.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{m.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Ue(e.onFocus,()=>{m.current||o.onOpen()}),onBlur:Ue(e.onBlur,o.onClose),onClick:Ue(e.onClick,o.onClose)})})});T2.displayName=F0;var mT="TooltipPortal",[gM,xT]=qd(mT,{forceMount:void 0}),Da="TooltipContent",I2=E.forwardRef((e,t)=>{const n=xT(Da,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...a}=e,h=Qd(Da,e.__scopeTooltip);return c.jsx(_o,{present:r||h.open,children:h.disableHoverableContent?c.jsx(j2,{side:o,...a,ref:t}):c.jsx(yT,{side:o,...a,ref:t})})}),yT=E.forwardRef((e,t)=>{const n=Qd(Da,e.__scopeTooltip),r=xp(Da,e.__scopeTooltip),o=E.useRef(null),a=wt(t,o),[h,p]=E.useState(null),{trigger:x,onClose:m}=n,v=o.current,{onPointerInTransitChange:w}=r,C=E.useCallback(()=>{p(null),w(!1)},[w]),I=E.useCallback((j,T)=>{const R=j.currentTarget,_={x:j.clientX,y:j.clientY},S=CT(_,R.getBoundingClientRect()),N=ST(_,S),P=ET(T.getBoundingClientRect()),O=NT([...N,...P]);p(O),w(!0)},[w]);return E.useEffect(()=>()=>C(),[C]),E.useEffect(()=>{if(x&&v){const j=R=>I(R,v),T=R=>I(R,x);return x.addEventListener("pointerleave",j),v.addEventListener("pointerleave",T),()=>{x.removeEventListener("pointerleave",j),v.removeEventListener("pointerleave",T)}}},[x,v,I,C]),E.useEffect(()=>{if(h){const j=T=>{const R=T.target,_={x:T.clientX,y:T.clientY},S=(x==null?void 0:x.contains(R))||(v==null?void 0:v.contains(R)),N=!_T(_,h);S?C():N&&(C(),m())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[x,v,h,m,C]),c.jsx(j2,{...e,ref:a})}),[vT,wT]=qd(Kd,{isInside:!1}),j2=E.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:h,...p}=e,x=Qd(Da,n),m=Xd(n),{onClose:v}=x;return E.useEffect(()=>(document.addEventListener(B0,v),()=>document.removeEventListener(B0,v)),[v]),E.useEffect(()=>{if(x.trigger){const w=C=>{const I=C.target;I!=null&&I.contains(x.trigger)&&v()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[x.trigger,v]),c.jsx(yc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:h,onFocusOutside:w=>w.preventDefault(),onDismiss:v,children:c.jsxs(S2,{"data-state":x.stateAttribute,...m,...p,ref:t,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(dw,{children:r}),c.jsx(vT,{scope:n,isInside:!0,children:c.jsx(xA,{id:x.contentId,role:"tooltip",children:o||r})})]})})});I2.displayName=Da;var R2="TooltipArrow",bT=E.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Xd(n);return wT(R2,n).isInside?null:c.jsx(E2,{...o,...r,ref:t})});bT.displayName=R2;function CT(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,o,a)){case a:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ST(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function ET(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function _T(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,h=t.length-1;a<t.length;h=a++){const p=t[a].x,x=t[a].y,m=t[h].x,v=t[h].y;x>r!=v>r&&n<(m-p)*(r-x)/(v-x)+p&&(o=!o)}return o}function NT(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),AT(t)}function AT(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const a=t[t.length-1],h=t[t.length-2];if((a.x-h.x)*(o.y-h.y)>=(a.y-h.y)*(o.x-h.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const a=n[n.length-1],h=n[n.length-2];if((a.x-h.x)*(o.y-h.y)>=(a.y-h.y)*(o.x-h.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var TT=N2,IT=A2,jT=T2,O2=I2;const k2=TT,RT=IT,OT=jT,M2=E.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(O2,{ref:r,sideOffset:t,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));M2.displayName=O2.displayName;var Zd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jd=typeof window>"u"||"Deno"in globalThis;function $r(){}function kT(e,t){return typeof e=="function"?e(t):e}function MT(e){return typeof e=="number"&&e>=0&&e!==1/0}function DT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Om(e,t){return typeof e=="function"?e(t):e}function PT(e,t){return typeof e=="function"?e(t):e}function km(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:a,queryKey:h,stale:p}=e;if(h){if(r){if(t.queryHash!==yp(h,t.options))return!1}else if(!oc(t.queryKey,h))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||o&&o!==t.state.fetchStatus||a&&!a(t))}function Mm(e,t){const{exact:n,status:r,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(ic(t.options.mutationKey)!==ic(a))return!1}else if(!oc(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function yp(e,t){return((t==null?void 0:t.queryKeyHashFn)||ic)(e)}function ic(e){return JSON.stringify(e,(t,n)=>U0(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function oc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!oc(e[n],t[n])):!1}function D2(e,t){if(e===t)return e;const n=Dm(e)&&Dm(t);if(n||U0(e)&&U0(t)){const r=n?e:Object.keys(e),o=r.length,a=n?t:Object.keys(t),h=a.length,p=n?[]:{};let x=0;for(let m=0;m<h;m++){const v=n?m:a[m];(!n&&r.includes(v)||n)&&e[v]===void 0&&t[v]===void 0?(p[v]=void 0,x++):(p[v]=D2(e[v],t[v]),p[v]===e[v]&&e[v]!==void 0&&x++)}return o===h&&x===o?e:p}return t}function Dm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function U0(e){if(!Pm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Pm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Pm(e){return Object.prototype.toString.call(e)==="[object Object]"}function LT(e){return new Promise(t=>{setTimeout(t,e)})}function BT(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?D2(e,t):t}function FT(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function UT(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var vp=Symbol();function P2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===vp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var io,ui,ya,Ux,zT=(Ux=class extends Zd{constructor(){super();dt(this,io);dt(this,ui);dt(this,ya);Xe(this,ya,t=>{if(!Jd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ie(this,ui)||this.setEventListener(ie(this,ya))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,ui))==null||t.call(this),Xe(this,ui,void 0))}setEventListener(t){var n;Xe(this,ya,t),(n=ie(this,ui))==null||n.call(this),Xe(this,ui,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ie(this,io)!==t&&(Xe(this,io,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ie(this,io)=="boolean"?ie(this,io):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},io=new WeakMap,ui=new WeakMap,ya=new WeakMap,Ux),L2=new zT,va,di,wa,zx,VT=(zx=class extends Zd{constructor(){super();dt(this,va,!0);dt(this,di);dt(this,wa);Xe(this,wa,t=>{if(!Jd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ie(this,di)||this.setEventListener(ie(this,wa))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,di))==null||t.call(this),Xe(this,di,void 0))}setEventListener(t){var n;Xe(this,wa,t),(n=ie(this,di))==null||n.call(this),Xe(this,di,t(this.setOnline.bind(this)))}setOnline(t){ie(this,va)!==t&&(Xe(this,va,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ie(this,va)}},va=new WeakMap,di=new WeakMap,wa=new WeakMap,zx),fd=new VT;function HT(){let e,t;const n=new Promise((o,a)=>{e=o,t=a});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function WT(e){return Math.min(1e3*2**e,3e4)}function B2(e){return(e??"online")==="online"?fd.isOnline():!0}var F2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function yf(e){return e instanceof F2}function U2(e){let t=!1,n=0,r=!1,o;const a=HT(),h=T=>{var R;r||(C(new F2(T)),(R=e.abort)==null||R.call(e))},p=()=>{t=!0},x=()=>{t=!1},m=()=>L2.isFocused()&&(e.networkMode==="always"||fd.isOnline())&&e.canRun(),v=()=>B2(e.networkMode)&&e.canRun(),w=T=>{var R;r||(r=!0,(R=e.onSuccess)==null||R.call(e,T),o==null||o(),a.resolve(T))},C=T=>{var R;r||(r=!0,(R=e.onError)==null||R.call(e,T),o==null||o(),a.reject(T))},I=()=>new Promise(T=>{var R;o=_=>{(r||m())&&T(_)},(R=e.onPause)==null||R.call(e)}).then(()=>{var T;o=void 0,r||(T=e.onContinue)==null||T.call(e)}),j=()=>{if(r)return;let T;const R=n===0?e.initialPromise:void 0;try{T=R??e.fn()}catch(_){T=Promise.reject(_)}Promise.resolve(T).then(w).catch(_=>{var F;if(r)return;const S=e.retry??(Jd?0:3),N=e.retryDelay??WT,P=typeof N=="function"?N(n,_):N,O=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,_);if(t||!O){C(_);return}n++,(F=e.onFail)==null||F.call(e,n,_),LT(P).then(()=>m()?void 0:I()).then(()=>{t?C(_):j()})})};return{promise:a,cancel:h,continue:()=>(o==null||o(),a),cancelRetry:p,continueRetry:x,canStart:v,start:()=>(v()?j():I().then(j),a)}}function $T(){let e=[],t=0,n=p=>{p()},r=p=>{p()},o=p=>setTimeout(p,0);const a=p=>{t?e.push(p):o(()=>{n(p)})},h=()=>{const p=e;e=[],p.length&&o(()=>{r(()=>{p.forEach(x=>{n(x)})})})};return{batch:p=>{let x;t++;try{x=p()}finally{t--,t||h()}return x},batchCalls:p=>(...x)=>{a(()=>{p(...x)})},schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:p=>{o=p}}}var Hn=$T(),oo,Vx,z2=(Vx=class{constructor(){dt(this,oo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MT(this.gcTime)&&Xe(this,oo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jd?1/0:5*60*1e3))}clearGcTimeout(){ie(this,oo)&&(clearTimeout(ie(this,oo)),Xe(this,oo,void 0))}},oo=new WeakMap,Vx),ba,Ca,_r,Mn,dc,ao,Gr,Ns,Hx,GT=(Hx=class extends z2{constructor(t){super();dt(this,Gr);dt(this,ba);dt(this,Ca);dt(this,_r);dt(this,Mn);dt(this,dc);dt(this,ao);Xe(this,ao,!1),Xe(this,dc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Xe(this,_r,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Xe(this,ba,qT(this.options)),this.state=t.state??ie(this,ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ie(this,Mn))==null?void 0:t.promise}setOptions(t){this.options={...ie(this,dc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,_r).remove(this)}setData(t,n){const r=BT(this.state.data,t,this.options);return jn(this,Gr,Ns).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){jn(this,Gr,Ns).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=ie(this,Mn))==null?void 0:r.promise;return(o=ie(this,Mn))==null||o.cancel(t),n?n.then($r).catch($r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,ba))}isActive(){return this.observers.some(t=>PT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!DT(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ie(this,Mn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ie(this,Mn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ie(this,_r).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ie(this,Mn)&&(ie(this,ao)?ie(this,Mn).cancel({revert:!0}):ie(this,Mn).cancelRetry()),this.scheduleGc()),ie(this,_r).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||jn(this,Gr,Ns).call(this,{type:"invalidate"})}fetch(t,n){var x,m,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ie(this,Mn))return ie(this,Mn).continueRetry(),ie(this,Mn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(C=>C.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,o=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Xe(this,ao,!0),r.signal)})},a=()=>{const w=P2(this.options,n),C={queryKey:this.queryKey,meta:this.meta};return o(C),Xe(this,ao,!1),this.options.persister?this.options.persister(w,C,this):w(C)},h={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};o(h),(x=this.options.behavior)==null||x.onFetch(h,this),Xe(this,Ca,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=h.fetchOptions)==null?void 0:m.meta))&&jn(this,Gr,Ns).call(this,{type:"fetch",meta:(v=h.fetchOptions)==null?void 0:v.meta});const p=w=>{var C,I,j,T;yf(w)&&w.silent||jn(this,Gr,Ns).call(this,{type:"error",error:w}),yf(w)||((I=(C=ie(this,_r).config).onError)==null||I.call(C,w,this),(T=(j=ie(this,_r).config).onSettled)==null||T.call(j,this.state.data,w,this)),this.scheduleGc()};return Xe(this,Mn,U2({initialPromise:n==null?void 0:n.initialPromise,fn:h.fetchFn,abort:r.abort.bind(r),onSuccess:w=>{var C,I,j,T;if(w===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(R){p(R);return}(I=(C=ie(this,_r).config).onSuccess)==null||I.call(C,w,this),(T=(j=ie(this,_r).config).onSettled)==null||T.call(j,w,this.state.error,this),this.scheduleGc()},onError:p,onFail:(w,C)=>{jn(this,Gr,Ns).call(this,{type:"failed",failureCount:w,error:C})},onPause:()=>{jn(this,Gr,Ns).call(this,{type:"pause"})},onContinue:()=>{jn(this,Gr,Ns).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),ie(this,Mn).start()}},ba=new WeakMap,Ca=new WeakMap,_r=new WeakMap,Mn=new WeakMap,dc=new WeakMap,ao=new WeakMap,Gr=new WeakSet,Ns=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...YT(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return yf(o)&&o.revert&&ie(this,Ca)?{...ie(this,Ca),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Hn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ie(this,_r).notify({query:this,type:"updated",action:t})})},Hx);function YT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:B2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ps,Wx,XT=(Wx=class extends Zd{constructor(t={}){super();dt(this,ps);this.config=t,Xe(this,ps,new Map)}build(t,n,r){const o=n.queryKey,a=n.queryHash??yp(o,n);let h=this.get(a);return h||(h=new GT({cache:this,queryKey:o,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(h)),h}add(t){ie(this,ps).has(t.queryHash)||(ie(this,ps).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ie(this,ps).get(t.queryHash);n&&(t.destroy(),n===t&&ie(this,ps).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Hn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ie(this,ps).get(t)}getAll(){return[...ie(this,ps).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>km(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>km(t,r)):n}notify(t){Hn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Hn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Hn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ps=new WeakMap,Wx),gs,zn,lo,ms,ei,$x,KT=($x=class extends z2{constructor(t){super();dt(this,ms);dt(this,gs);dt(this,zn);dt(this,lo);this.mutationId=t.mutationId,Xe(this,zn,t.mutationCache),Xe(this,gs,[]),this.state=t.state||QT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ie(this,gs).includes(t)||(ie(this,gs).push(t),this.clearGcTimeout(),ie(this,zn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Xe(this,gs,ie(this,gs).filter(n=>n!==t)),this.scheduleGc(),ie(this,zn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ie(this,gs).length||(this.state.status==="pending"?this.scheduleGc():ie(this,zn).remove(this))}continue(){var t;return((t=ie(this,lo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,h,p,x,m,v,w,C,I,j,T,R,_,S,N,P,O,F,D;Xe(this,lo,U2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(U,V)=>{jn(this,ms,ei).call(this,{type:"failed",failureCount:U,error:V})},onPause:()=>{jn(this,ms,ei).call(this,{type:"pause"})},onContinue:()=>{jn(this,ms,ei).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,zn).canRun(this)}));const n=this.state.status==="pending",r=!ie(this,lo).canStart();try{if(!n){jn(this,ms,ei).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(o=ie(this,zn).config).onMutate)==null?void 0:a.call(o,t,this));const V=await((p=(h=this.options).onMutate)==null?void 0:p.call(h,t));V!==this.state.context&&jn(this,ms,ei).call(this,{type:"pending",context:V,variables:t,isPaused:r})}const U=await ie(this,lo).start();return await((m=(x=ie(this,zn).config).onSuccess)==null?void 0:m.call(x,U,t,this.state.context,this)),await((w=(v=this.options).onSuccess)==null?void 0:w.call(v,U,t,this.state.context)),await((I=(C=ie(this,zn).config).onSettled)==null?void 0:I.call(C,U,null,this.state.variables,this.state.context,this)),await((T=(j=this.options).onSettled)==null?void 0:T.call(j,U,null,t,this.state.context)),jn(this,ms,ei).call(this,{type:"success",data:U}),U}catch(U){try{throw await((_=(R=ie(this,zn).config).onError)==null?void 0:_.call(R,U,t,this.state.context,this)),await((N=(S=this.options).onError)==null?void 0:N.call(S,U,t,this.state.context)),await((O=(P=ie(this,zn).config).onSettled)==null?void 0:O.call(P,void 0,U,this.state.variables,this.state.context,this)),await((D=(F=this.options).onSettled)==null?void 0:D.call(F,void 0,U,t,this.state.context)),U}finally{jn(this,ms,ei).call(this,{type:"error",error:U})}}finally{ie(this,zn).runNext(this)}}},gs=new WeakMap,zn=new WeakMap,lo=new WeakMap,ms=new WeakSet,ei=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Hn.batch(()=>{ie(this,gs).forEach(r=>{r.onMutationUpdate(t)}),ie(this,zn).notify({mutation:this,type:"updated",action:t})})},$x);function QT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cr,hc,Gx,ZT=(Gx=class extends Zd{constructor(t={}){super();dt(this,cr);dt(this,hc);this.config=t,Xe(this,cr,new Map),Xe(this,hc,Date.now())}build(t,n,r){const o=new KT({mutationCache:this,mutationId:++Fc(this,hc)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=au(t),r=ie(this,cr).get(n)??[];r.push(t),ie(this,cr).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=au(t);if(ie(this,cr).has(n)){const o=(r=ie(this,cr).get(n))==null?void 0:r.filter(a=>a!==t);o&&(o.length===0?ie(this,cr).delete(n):ie(this,cr).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=ie(this,cr).get(au(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=ie(this,cr).get(au(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Hn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ie(this,cr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Mm(n,r))}findAll(t={}){return this.getAll().filter(n=>Mm(t,n))}notify(t){Hn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Hn.batch(()=>Promise.all(t.map(n=>n.continue().catch($r))))}},cr=new WeakMap,hc=new WeakMap,Gx);function au(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Lm(e){return{onFetch:(t,n)=>{var v,w,C,I,j;const r=t.options,o=(C=(w=(v=t.fetchOptions)==null?void 0:v.meta)==null?void 0:w.fetchMore)==null?void 0:C.direction,a=((I=t.state.data)==null?void 0:I.pages)||[],h=((j=t.state.data)==null?void 0:j.pageParams)||[];let p={pages:[],pageParams:[]},x=0;const m=async()=>{let T=!1;const R=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?T=!0:t.signal.addEventListener("abort",()=>{T=!0}),t.signal)})},_=P2(t.options,t.fetchOptions),S=async(N,P,O)=>{if(T)return Promise.reject();if(P==null&&N.pages.length)return Promise.resolve(N);const F={queryKey:t.queryKey,pageParam:P,direction:O?"backward":"forward",meta:t.options.meta};R(F);const D=await _(F),{maxPages:U}=t.options,V=O?UT:FT;return{pages:V(N.pages,D,U),pageParams:V(N.pageParams,P,U)}};if(o&&a.length){const N=o==="backward",P=N?JT:Bm,O={pages:a,pageParams:h},F=P(r,O);p=await S(O,F,N)}else{const N=e??a.length;do{const P=x===0?h[0]??r.initialPageParam:Bm(r,p);if(x>0&&P==null)break;p=await S(p,P),x++}while(x<N)}return p};t.options.persister?t.fetchFn=()=>{var T,R;return(R=(T=t.options).persister)==null?void 0:R.call(T,m,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function Bm(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function JT(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Yt,hi,fi,Sa,Ea,pi,_a,Na,Yx,eI=(Yx=class{constructor(e={}){dt(this,Yt);dt(this,hi);dt(this,fi);dt(this,Sa);dt(this,Ea);dt(this,pi);dt(this,_a);dt(this,Na);Xe(this,Yt,e.queryCache||new XT),Xe(this,hi,e.mutationCache||new ZT),Xe(this,fi,e.defaultOptions||{}),Xe(this,Sa,new Map),Xe(this,Ea,new Map),Xe(this,pi,0)}mount(){Fc(this,pi)._++,ie(this,pi)===1&&(Xe(this,_a,L2.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,Yt).onFocus())})),Xe(this,Na,fd.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,Yt).onOnline())})))}unmount(){var e,t;Fc(this,pi)._--,ie(this,pi)===0&&((e=ie(this,_a))==null||e.call(this),Xe(this,_a,void 0),(t=ie(this,Na))==null||t.call(this),Xe(this,Na,void 0))}isFetching(e){return ie(this,Yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ie(this,hi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ie(this,Yt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=ie(this,Yt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Om(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return ie(this,Yt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=ie(this,Yt).get(r.queryHash),a=o==null?void 0:o.state.data,h=kT(t,a);if(h!==void 0)return ie(this,Yt).build(this,r).setData(h,{...n,manual:!0})}setQueriesData(e,t,n){return Hn.batch(()=>ie(this,Yt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ie(this,Yt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ie(this,Yt);Hn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ie(this,Yt),r={type:"active",...e};return Hn.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Hn.batch(()=>ie(this,Yt).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then($r).catch($r)}invalidateQueries(e={},t={}){return Hn.batch(()=>{if(ie(this,Yt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Hn.batch(()=>ie(this,Yt).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,n);return n.throwOnError||(a=a.catch($r)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then($r)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ie(this,Yt).build(this,t);return n.isStaleByTime(Om(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($r).catch($r)}fetchInfiniteQuery(e){return e.behavior=Lm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($r).catch($r)}ensureInfiniteQueryData(e){return e.behavior=Lm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fd.isOnline()?ie(this,hi).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,Yt)}getMutationCache(){return ie(this,hi)}getDefaultOptions(){return ie(this,fi)}setDefaultOptions(e){Xe(this,fi,e)}setQueryDefaults(e,t){ie(this,Sa).set(ic(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ie(this,Sa).values()];let n={};return t.forEach(r=>{oc(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){ie(this,Ea).set(ic(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ie(this,Ea).values()];let n={};return t.forEach(r=>{oc(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ie(this,fi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===vp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ie(this,fi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ie(this,Yt).clear(),ie(this,hi).clear()}},Yt=new WeakMap,hi=new WeakMap,fi=new WeakMap,Sa=new WeakMap,Ea=new WeakMap,pi=new WeakMap,_a=new WeakMap,Na=new WeakMap,Yx),tI=E.createContext(void 0),nI=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(tI.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ac.apply(this,arguments)}var xi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xi||(xi={}));const Fm="popstate";function rI(e){e===void 0&&(e={});function t(r,o){let{pathname:a,search:h,hash:p}=r.location;return z0("",{pathname:a,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:pd(o)}return iI(t,n,null,e)}function Kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function V2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sI(){return Math.random().toString(36).substr(2,8)}function Um(e,t){return{usr:e.state,key:e.key,idx:t}}function z0(e,t,n,r){return n===void 0&&(n=null),ac({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ya(t):t,{state:n,key:t&&t.key||r||sI()})}function pd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ya(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function iI(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,h=o.history,p=xi.Pop,x=null,m=v();m==null&&(m=0,h.replaceState(ac({},h.state,{idx:m}),""));function v(){return(h.state||{idx:null}).idx}function w(){p=xi.Pop;let R=v(),_=R==null?null:R-m;m=R,x&&x({action:p,location:T.location,delta:_})}function C(R,_){p=xi.Push;let S=z0(T.location,R,_);m=v()+1;let N=Um(S,m),P=T.createHref(S);try{h.pushState(N,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(P)}a&&x&&x({action:p,location:T.location,delta:1})}function I(R,_){p=xi.Replace;let S=z0(T.location,R,_);m=v();let N=Um(S,m),P=T.createHref(S);h.replaceState(N,"",P),a&&x&&x({action:p,location:T.location,delta:0})}function j(R){let _=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof R=="string"?R:pd(R);return S=S.replace(/ $/,"%20"),Kt(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let T={get action(){return p},get location(){return e(o,h)},listen(R){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(Fm,w),x=R,()=>{o.removeEventListener(Fm,w),x=null}},createHref(R){return t(o,R)},createURL:j,encodeLocation(R){let _=j(R);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:C,replace:I,go(R){return h.go(R)}};return T}var zm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zm||(zm={}));function oI(e,t,n){return n===void 0&&(n="/"),aI(e,t,n,!1)}function aI(e,t,n,r){let o=typeof t=="string"?Ya(t):t,a=Pa(o.pathname||"/",n);if(a==null)return null;let h=H2(e);lI(h);let p=null;for(let x=0;p==null&&x<h.length;++x){let m=vI(a);p=xI(h[x],m,r)}return p}function H2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(a,h,p)=>{let x={relativePath:p===void 0?a.path||"":p,caseSensitive:a.caseSensitive===!0,childrenIndex:h,route:a};x.relativePath.startsWith("/")&&(Kt(x.relativePath.startsWith(r),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(r.length));let m=Ni([r,x.relativePath]),v=n.concat(x);a.children&&a.children.length>0&&(Kt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),H2(a.children,t,v,m)),!(a.path==null&&!a.index)&&t.push({path:m,score:gI(m,a.index),routesMeta:v})};return e.forEach((a,h)=>{var p;if(a.path===""||!((p=a.path)!=null&&p.includes("?")))o(a,h);else for(let x of W2(a.path))o(a,h,x)}),t}function W2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let h=W2(r.join("/")),p=[];return p.push(...h.map(x=>x===""?a:[a,x].join("/"))),o&&p.push(...h),p.map(x=>e.startsWith("/")&&x===""?"/":x)}function lI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cI=/^:[\w-]+$/,uI=3,dI=2,hI=1,fI=10,pI=-2,Vm=e=>e==="*";function gI(e,t){let n=e.split("/"),r=n.length;return n.some(Vm)&&(r+=pI),t&&(r+=dI),n.filter(o=>!Vm(o)).reduce((o,a)=>o+(cI.test(a)?uI:a===""?hI:fI),r)}function mI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function xI(e,t,n){let{routesMeta:r}=e,o={},a="/",h=[];for(let p=0;p<r.length;++p){let x=r[p],m=p===r.length-1,v=a==="/"?t:t.slice(a.length)||"/",w=gd({path:x.relativePath,caseSensitive:x.caseSensitive,end:m},v),C=x.route;if(!w&&m&&n&&!r[r.length-1].route.index&&(w=gd({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:Ni([a,w.pathname]),pathnameBase:SI(Ni([a,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(a=Ni([a,w.pathnameBase]))}return h}function gd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yI(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],h=a.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,v,w)=>{let{paramName:C,isOptional:I}=v;if(C==="*"){let T=p[w]||"";h=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const j=p[w];return I&&!j?m[C]=void 0:m[C]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:h,pattern:e}}function yI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),V2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,x)=>(r.push({paramName:p,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function vI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return V2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Pa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function wI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Ya(e):e;return{pathname:n?n.startsWith("/")?n:bI(n,t):t,search:EI(r),hash:_I(o)}}function bI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $2(e,t){let n=CI(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function G2(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Ya(e):(o=ac({},e),Kt(!o.pathname||!o.pathname.includes("?"),vf("?","pathname","search",o)),Kt(!o.pathname||!o.pathname.includes("#"),vf("#","pathname","hash",o)),Kt(!o.search||!o.search.includes("#"),vf("#","search","hash",o)));let a=e===""||o.pathname==="",h=a?"/":o.pathname,p;if(h==null)p=n;else{let w=t.length-1;if(!r&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),w-=1;o.pathname=C.join("/")}p=w>=0?t[w]:"/"}let x=wI(o,p),m=h&&h!=="/"&&h.endsWith("/"),v=(a||h===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(m||v)&&(x.pathname+="/"),x}const Ni=e=>e.join("/").replace(/\/\/+/g,"/"),SI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_I=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Y2=["post","put","patch","delete"];new Set(Y2);const AI=["get",...Y2];new Set(AI);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lc.apply(this,arguments)}const eh=E.createContext(null),q2=E.createContext(null),Ui=E.createContext(null),th=E.createContext(null),No=E.createContext({outlet:null,matches:[],isDataRoute:!1}),X2=E.createContext(null);function TI(e,t){let{relative:n}=t===void 0?{}:t;bc()||Kt(!1);let{basename:r,navigator:o}=E.useContext(Ui),{hash:a,pathname:h,search:p}=nh(e,{relative:n}),x=h;return r!=="/"&&(x=h==="/"?r:Ni([r,h])),o.createHref({pathname:x,search:p,hash:a})}function bc(){return E.useContext(th)!=null}function Ao(){return bc()||Kt(!1),E.useContext(th).location}function K2(e){E.useContext(Ui).static||E.useLayoutEffect(e)}function II(){let{isDataRoute:e}=E.useContext(No);return e?VI():jI()}function jI(){bc()||Kt(!1);let e=E.useContext(eh),{basename:t,future:n,navigator:r}=E.useContext(Ui),{matches:o}=E.useContext(No),{pathname:a}=Ao(),h=JSON.stringify($2(o,n.v7_relativeSplatPath)),p=E.useRef(!1);return K2(()=>{p.current=!0}),E.useCallback(function(m,v){if(v===void 0&&(v={}),!p.current)return;if(typeof m=="number"){r.go(m);return}let w=G2(m,JSON.parse(h),a,v.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Ni([t,w.pathname])),(v.replace?r.replace:r.push)(w,v.state,v)},[t,r,h,a,e])}function nh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(Ui),{matches:o}=E.useContext(No),{pathname:a}=Ao(),h=JSON.stringify($2(o,r.v7_relativeSplatPath));return E.useMemo(()=>G2(e,JSON.parse(h),a,n==="path"),[e,h,a,n])}function RI(e,t){return OI(e,t)}function OI(e,t,n,r){bc()||Kt(!1);let{navigator:o}=E.useContext(Ui),{matches:a}=E.useContext(No),h=a[a.length-1],p=h?h.params:{};h&&h.pathname;let x=h?h.pathnameBase:"/";h&&h.route;let m=Ao(),v;if(t){var w;let R=typeof t=="string"?Ya(t):t;x==="/"||(w=R.pathname)!=null&&w.startsWith(x)||Kt(!1),v=R}else v=m;let C=v.pathname||"/",I=C;if(x!=="/"){let R=x.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(R.length).join("/")}let j=oI(e,{pathname:I}),T=LI(j&&j.map(R=>Object.assign({},R,{params:Object.assign({},p,R.params),pathname:Ni([x,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?x:Ni([x,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,n,r);return t&&T?E.createElement(th.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:xi.Pop}},T):T}function kI(){let e=zI(),t=NI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:o},n):null,null)}const MI=E.createElement(kI,null);class DI extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(No.Provider,{value:this.props.routeContext},E.createElement(X2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PI(e){let{routeContext:t,match:n,children:r}=e,o=E.useContext(eh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(No.Provider,{value:t},r)}function LI(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let h=e,p=(o=n)==null?void 0:o.errors;if(p!=null){let v=h.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id])!==void 0);v>=0||Kt(!1),h=h.slice(0,Math.min(h.length,v+1))}let x=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let v=0;v<h.length;v++){let w=h[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:C,errors:I}=n,j=w.route.loader&&C[w.route.id]===void 0&&(!I||I[w.route.id]===void 0);if(w.route.lazy||j){x=!0,m>=0?h=h.slice(0,m+1):h=[h[0]];break}}}return h.reduceRight((v,w,C)=>{let I,j=!1,T=null,R=null;n&&(I=p&&w.route.id?p[w.route.id]:void 0,T=w.route.errorElement||MI,x&&(m<0&&C===0?(j=!0,R=null):m===C&&(j=!0,R=w.route.hydrateFallbackElement||null)));let _=t.concat(h.slice(0,C+1)),S=()=>{let N;return I?N=T:j?N=R:w.route.Component?N=E.createElement(w.route.Component,null):w.route.element?N=w.route.element:N=v,E.createElement(PI,{match:w,routeContext:{outlet:v,matches:_,isDataRoute:n!=null},children:N})};return n&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?E.createElement(DI,{location:n.location,revalidation:n.revalidation,component:T,error:I,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}var Q2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Q2||{}),md=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(md||{});function BI(e){let t=E.useContext(eh);return t||Kt(!1),t}function FI(e){let t=E.useContext(q2);return t||Kt(!1),t}function UI(e){let t=E.useContext(No);return t||Kt(!1),t}function Z2(e){let t=UI(),n=t.matches[t.matches.length-1];return n.route.id||Kt(!1),n.route.id}function zI(){var e;let t=E.useContext(X2),n=FI(md.UseRouteError),r=Z2(md.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function VI(){let{router:e}=BI(Q2.UseNavigateStable),t=Z2(md.UseNavigateStable),n=E.useRef(!1);return K2(()=>{n.current=!0}),E.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,lc({fromRouteId:t},a)))},[e,t])}function ds(e){Kt(!1)}function HI(e){let{basename:t="/",children:n=null,location:r,navigationType:o=xi.Pop,navigator:a,static:h=!1,future:p}=e;bc()&&Kt(!1);let x=t.replace(/^\/*/,"/"),m=E.useMemo(()=>({basename:x,navigator:a,static:h,future:lc({v7_relativeSplatPath:!1},p)}),[x,p,a,h]);typeof r=="string"&&(r=Ya(r));let{pathname:v="/",search:w="",hash:C="",state:I=null,key:j="default"}=r,T=E.useMemo(()=>{let R=Pa(v,x);return R==null?null:{location:{pathname:R,search:w,hash:C,state:I,key:j},navigationType:o}},[x,v,w,C,I,j,o]);return T==null?null:E.createElement(Ui.Provider,{value:m},E.createElement(th.Provider,{children:n,value:T}))}function WI(e){let{children:t,location:n}=e;return RI(V0(t),n)}new Promise(()=>{});function V0(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,o)=>{if(!E.isValidElement(r))return;let a=[...t,o];if(r.type===E.Fragment){n.push.apply(n,V0(r.props.children,a));return}r.type!==ds&&Kt(!1),!r.props.index||!r.props.children||Kt(!1);let h={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=V0(r.props.children,a)),n.push(h)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xd.apply(this,arguments)}function J2(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function $I(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GI(e,t){return e.button===0&&(!t||t==="_self")&&!$I(e)}const YI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],XI="6";try{window.__reactRouterVersion=XI}catch{}const KI=E.createContext({isTransitioning:!1}),QI="startTransition",Hm=iy[QI];function ZI(e){let{basename:t,children:n,future:r,window:o}=e,a=E.useRef();a.current==null&&(a.current=rI({window:o,v5Compat:!0}));let h=a.current,[p,x]=E.useState({action:h.action,location:h.location}),{v7_startTransition:m}=r||{},v=E.useCallback(w=>{m&&Hm?Hm(()=>x(w)):x(w)},[x,m]);return E.useLayoutEffect(()=>h.listen(v),[h,v]),E.createElement(HI,{basename:t,children:n,location:p.location,navigationType:p.action,navigator:h,future:r})}const JI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t8=E.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:a,replace:h,state:p,target:x,to:m,preventScrollReset:v,viewTransition:w}=t,C=J2(t,YI),{basename:I}=E.useContext(Ui),j,T=!1;if(typeof m=="string"&&e8.test(m)&&(j=m,JI))try{let N=new URL(window.location.href),P=m.startsWith("//")?new URL(N.protocol+m):new URL(m),O=Pa(P.pathname,I);P.origin===N.origin&&O!=null?m=O+P.search+P.hash:T=!0}catch{}let R=TI(m,{relative:o}),_=s8(m,{replace:h,state:p,target:x,preventScrollReset:v,relative:o,viewTransition:w});function S(N){r&&r(N),N.defaultPrevented||_(N)}return E.createElement("a",xd({},C,{href:j||R,onClick:T||a?r:S,ref:n,target:x}))}),n8=E.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:a="",end:h=!1,style:p,to:x,viewTransition:m,children:v}=t,w=J2(t,qI),C=nh(x,{relative:w.relative}),I=Ao(),j=E.useContext(q2),{navigator:T,basename:R}=E.useContext(Ui),_=j!=null&&i8(C)&&m===!0,S=T.encodeLocation?T.encodeLocation(C).pathname:C.pathname,N=I.pathname,P=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;o||(N=N.toLowerCase(),P=P?P.toLowerCase():null,S=S.toLowerCase()),P&&R&&(P=Pa(P,R)||P);const O=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let F=N===S||!h&&N.startsWith(S)&&N.charAt(O)==="/",D=P!=null&&(P===S||!h&&P.startsWith(S)&&P.charAt(S.length)==="/"),U={isActive:F,isPending:D,isTransitioning:_},V=F?r:void 0,re;typeof a=="function"?re=a(U):re=[a,F?"active":null,D?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let se=typeof p=="function"?p(U):p;return E.createElement(t8,xd({},w,{"aria-current":V,className:re,ref:n,style:se,to:x,viewTransition:m}),typeof v=="function"?v(U):v)});var H0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(H0||(H0={}));var Wm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wm||(Wm={}));function r8(e){let t=E.useContext(eh);return t||Kt(!1),t}function s8(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:h,viewTransition:p}=t===void 0?{}:t,x=II(),m=Ao(),v=nh(e,{relative:h});return E.useCallback(w=>{if(GI(w,n)){w.preventDefault();let C=r!==void 0?r:pd(m)===pd(v);x(e,{replace:C,state:o,preventScrollReset:a,relative:h,viewTransition:p})}},[m,x,v,r,o,n,e,a,h,p])}function i8(e,t){t===void 0&&(t={});let n=E.useContext(KI);n==null&&Kt(!1);let{basename:r}=r8(H0.useViewTransitionState),o=nh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Pa(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=Pa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gd(o.pathname,h)!=null||gd(o.pathname,a)!=null}const wf=768;function o8(){const[e,t]=E.useState(void 0);return E.useEffect(()=>{const n=window.matchMedia(`(max-width: ${wf-1}px)`),r=()=>{t(window.innerWidth<wf)};return n.addEventListener("change",r),t(window.innerWidth<wf),()=>n.removeEventListener("change",r)},[]),!!e}const a8=Va("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),me=E.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},a)=>{const h=r?Mr:"button";return c.jsx(h,{className:Ae(a8({variant:t,size:n,className:e})),ref:a,...o})});me.displayName="Button";const ge=E.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ge.displayName="Input";var l8="Separator",$m="horizontal",c8=["horizontal","vertical"],eb=E.forwardRef((e,t)=>{const{decorative:n,orientation:r=$m,...o}=e,a=u8(r)?r:$m,p=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return c.jsx(He.div,{"data-orientation":a,...p,...o,ref:t})});eb.displayName=l8;function u8(e){return c8.includes(e)}var tb=eb;const nb=E.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>c.jsx(tb,{ref:o,decorative:n,orientation:t,className:Ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));nb.displayName=tb.displayName;var bf="focusScope.autoFocusOnMount",Cf="focusScope.autoFocusOnUnmount",Gm={bubbles:!1,cancelable:!0},d8="FocusScope",wp=E.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...h}=e,[p,x]=E.useState(null),m=ir(o),v=ir(a),w=E.useRef(null),C=wt(t,T=>x(T)),I=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let T=function(N){if(I.paused||!p)return;const P=N.target;p.contains(P)?w.current=P:ti(w.current,{select:!0})},R=function(N){if(I.paused||!p)return;const P=N.relatedTarget;P!==null&&(p.contains(P)||ti(w.current,{select:!0}))},_=function(N){if(document.activeElement===document.body)for(const O of N)O.removedNodes.length>0&&ti(p)};document.addEventListener("focusin",T),document.addEventListener("focusout",R);const S=new MutationObserver(_);return p&&S.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",R),S.disconnect()}}},[r,p,I.paused]),E.useEffect(()=>{if(p){qm.add(I);const T=document.activeElement;if(!p.contains(T)){const _=new CustomEvent(bf,Gm);p.addEventListener(bf,m),p.dispatchEvent(_),_.defaultPrevented||(h8(x8(rb(p)),{select:!0}),document.activeElement===T&&ti(p))}return()=>{p.removeEventListener(bf,m),setTimeout(()=>{const _=new CustomEvent(Cf,Gm);p.addEventListener(Cf,v),p.dispatchEvent(_),_.defaultPrevented||ti(T??document.body,{select:!0}),p.removeEventListener(Cf,v),qm.remove(I)},0)}}},[p,m,v,I]);const j=E.useCallback(T=>{if(!n&&!r||I.paused)return;const R=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,_=document.activeElement;if(R&&_){const S=T.currentTarget,[N,P]=f8(S);N&&P?!T.shiftKey&&_===P?(T.preventDefault(),n&&ti(N,{select:!0})):T.shiftKey&&_===N&&(T.preventDefault(),n&&ti(P,{select:!0})):_===S&&T.preventDefault()}},[n,r,I.paused]);return c.jsx(He.div,{tabIndex:-1,...h,ref:C,onKeyDown:j})});wp.displayName=d8;function h8(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ti(r,{select:t}),document.activeElement!==n)return}function f8(e){const t=rb(e),n=Ym(t,e),r=Ym(t.reverse(),e);return[n,r]}function rb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ym(e,t){for(const n of e)if(!p8(n,{upTo:t}))return n}function p8(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function g8(e){return e instanceof HTMLInputElement&&"select"in e}function ti(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&g8(e)&&t&&e.select()}}var qm=m8();function m8(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Xm(e,t),e.unshift(t)},remove(t){var n;e=Xm(e,t),(n=e[0])==null||n.resume()}}}function Xm(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function x8(e){return e.filter(t=>t.tagName!=="A")}var Sf=0;function sb(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Km()),document.body.insertAdjacentElement("beforeend",e[1]??Km()),Sf++,()=>{Sf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sf--}},[])}function Km(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ys=function(){return ys=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ys.apply(this,arguments)};function ib(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function y8(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Pu="right-scroll-bar-position",Lu="width-before-scroll-bar",v8="with-scroll-bars-hidden",w8="--removed-body-scroll-bar-size";function Ef(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function b8(e,t){var n=E.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var C8=typeof window<"u"?E.useLayoutEffect:E.useEffect,Qm=new WeakMap;function S8(e,t){var n=b8(null,function(r){return e.forEach(function(o){return Ef(o,r)})});return C8(function(){var r=Qm.get(n);if(r){var o=new Set(r),a=new Set(e),h=n.current;o.forEach(function(p){a.has(p)||Ef(p,null)}),a.forEach(function(p){o.has(p)||Ef(p,h)})}Qm.set(n,e)},[e]),n}function E8(e){return e}function _8(e,t){t===void 0&&(t=E8);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var h=t(a,r);return n.push(h),function(){n=n.filter(function(p){return p!==h})}},assignSyncMedium:function(a){for(r=!0;n.length;){var h=n;n=[],h.forEach(a)}n={push:function(p){return a(p)},filter:function(){return n}}},assignMedium:function(a){r=!0;var h=[];if(n.length){var p=n;n=[],p.forEach(a),h=n}var x=function(){var v=h;h=[],v.forEach(a)},m=function(){return Promise.resolve().then(x)};m(),n={push:function(v){h.push(v),m()},filter:function(v){return h=h.filter(v),n}}}};return o}function N8(e){e===void 0&&(e={});var t=_8(null);return t.options=ys({async:!0,ssr:!1},e),t}var ob=function(e){var t=e.sideCar,n=ib(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,ys({},n))};ob.isSideCarExport=!0;function A8(e,t){return e.useMedium(t),ob}var ab=N8(),_f=function(){},rh=E.forwardRef(function(e,t){var n=E.useRef(null),r=E.useState({onScrollCapture:_f,onWheelCapture:_f,onTouchMoveCapture:_f}),o=r[0],a=r[1],h=e.forwardProps,p=e.children,x=e.className,m=e.removeScrollBar,v=e.enabled,w=e.shards,C=e.sideCar,I=e.noIsolation,j=e.inert,T=e.allowPinchZoom,R=e.as,_=R===void 0?"div":R,S=e.gapMode,N=ib(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=C,O=S8([n,t]),F=ys(ys({},N),o);return E.createElement(E.Fragment,null,v&&E.createElement(P,{sideCar:ab,removeScrollBar:m,shards:w,noIsolation:I,inert:j,setCallbacks:a,allowPinchZoom:!!T,lockRef:n,gapMode:S}),h?E.cloneElement(E.Children.only(p),ys(ys({},F),{ref:O})):E.createElement(_,ys({},F,{className:x,ref:O}),p))});rh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rh.classNames={fullWidth:Lu,zeroRight:Pu};var T8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I8(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=T8();return t&&e.setAttribute("nonce",t),e}function j8(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function R8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var O8=function(){var e=0,t=null;return{add:function(n){e==0&&(t=I8())&&(j8(t,n),R8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},k8=function(){var e=O8();return function(t,n){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},lb=function(){var e=k8(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},M8={left:0,top:0,right:0,gap:0},Nf=function(e){return parseInt(e||"",10)||0},D8=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Nf(n),Nf(r),Nf(o)]},P8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return M8;var t=D8(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},L8=lb(),xa="data-scroll-locked",B8=function(e,t,n,r){var o=e.left,a=e.top,h=e.right,p=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(v8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(p,"px ").concat(r,`;
  }
  body[`).concat(xa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(p,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pu,` {
    right: `).concat(p,"px ").concat(r,`;
  }
  
  .`).concat(Lu,` {
    margin-right: `).concat(p,"px ").concat(r,`;
  }
  
  .`).concat(Pu," .").concat(Pu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lu," .").concat(Lu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xa,`] {
    `).concat(w8,": ").concat(p,`px;
  }
`)},Zm=function(){var e=parseInt(document.body.getAttribute(xa)||"0",10);return isFinite(e)?e:0},F8=function(){E.useEffect(function(){return document.body.setAttribute(xa,(Zm()+1).toString()),function(){var e=Zm()-1;e<=0?document.body.removeAttribute(xa):document.body.setAttribute(xa,e.toString())}},[])},U8=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;F8();var a=E.useMemo(function(){return P8(o)},[o]);return E.createElement(L8,{styles:B8(a,!t,o,n?"":"!important")})},W0=!1;if(typeof window<"u")try{var lu=Object.defineProperty({},"passive",{get:function(){return W0=!0,!0}});window.addEventListener("test",lu,lu),window.removeEventListener("test",lu,lu)}catch{W0=!1}var Vo=W0?{passive:!1}:!1,z8=function(e){return e.tagName==="TEXTAREA"},cb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!z8(e)&&n[t]==="visible")},V8=function(e){return cb(e,"overflowY")},H8=function(e){return cb(e,"overflowX")},Jm=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=ub(e,r);if(o){var a=db(e,r),h=a[1],p=a[2];if(h>p)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},W8=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},$8=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ub=function(e,t){return e==="v"?V8(t):H8(t)},db=function(e,t){return e==="v"?W8(t):$8(t)},G8=function(e,t){return e==="h"&&t==="rtl"?-1:1},Y8=function(e,t,n,r,o){var a=G8(e,window.getComputedStyle(t).direction),h=a*r,p=n.target,x=t.contains(p),m=!1,v=h>0,w=0,C=0;do{var I=db(e,p),j=I[0],T=I[1],R=I[2],_=T-R-a*j;(j||_)&&ub(e,p)&&(w+=_,C+=j),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!x&&p!==document.body||x&&(t.contains(p)||t===p));return(v&&(Math.abs(w)<1||!o)||!v&&(Math.abs(C)<1||!o))&&(m=!0),m},cu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ex=function(e){return[e.deltaX,e.deltaY]},tx=function(e){return e&&"current"in e?e.current:e},q8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},X8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},K8=0,Ho=[];function Q8(e){var t=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),o=E.useState(K8++)[0],a=E.useState(lb)[0],h=E.useRef(e);E.useEffect(function(){h.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var T=y8([e.lockRef.current],(e.shards||[]).map(tx),!0).filter(Boolean);return T.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),T.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var p=E.useCallback(function(T,R){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!h.current.allowPinchZoom;var _=cu(T),S=n.current,N="deltaX"in T?T.deltaX:S[0]-_[0],P="deltaY"in T?T.deltaY:S[1]-_[1],O,F=T.target,D=Math.abs(N)>Math.abs(P)?"h":"v";if("touches"in T&&D==="h"&&F.type==="range")return!1;var U=Jm(D,F);if(!U)return!0;if(U?O=D:(O=D==="v"?"h":"v",U=Jm(D,F)),!U)return!1;if(!r.current&&"changedTouches"in T&&(N||P)&&(r.current=O),!O)return!0;var V=r.current||O;return Y8(V,R,T,V==="h"?N:P,!0)},[]),x=E.useCallback(function(T){var R=T;if(!(!Ho.length||Ho[Ho.length-1]!==a)){var _="deltaY"in R?ex(R):cu(R),S=t.current.filter(function(O){return O.name===R.type&&(O.target===R.target||R.target===O.shadowParent)&&q8(O.delta,_)})[0];if(S&&S.should){R.cancelable&&R.preventDefault();return}if(!S){var N=(h.current.shards||[]).map(tx).filter(Boolean).filter(function(O){return O.contains(R.target)}),P=N.length>0?p(R,N[0]):!h.current.noIsolation;P&&R.cancelable&&R.preventDefault()}}},[]),m=E.useCallback(function(T,R,_,S){var N={name:T,delta:R,target:_,should:S,shadowParent:Z8(_)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(P){return P!==N})},1)},[]),v=E.useCallback(function(T){n.current=cu(T),r.current=void 0},[]),w=E.useCallback(function(T){m(T.type,ex(T),T.target,p(T,e.lockRef.current))},[]),C=E.useCallback(function(T){m(T.type,cu(T),T.target,p(T,e.lockRef.current))},[]);E.useEffect(function(){return Ho.push(a),e.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:C}),document.addEventListener("wheel",x,Vo),document.addEventListener("touchmove",x,Vo),document.addEventListener("touchstart",v,Vo),function(){Ho=Ho.filter(function(T){return T!==a}),document.removeEventListener("wheel",x,Vo),document.removeEventListener("touchmove",x,Vo),document.removeEventListener("touchstart",v,Vo)}},[]);var I=e.removeScrollBar,j=e.inert;return E.createElement(E.Fragment,null,j?E.createElement(a,{styles:X8(o)}):null,I?E.createElement(U8,{gapMode:e.gapMode}):null)}function Z8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const J8=A8(ab,Q8);var bp=E.forwardRef(function(e,t){return E.createElement(rh,ys({},e,{ref:t,sideCar:J8}))});bp.classNames=rh.classNames;var ej=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wo=new WeakMap,uu=new WeakMap,du={},Af=0,hb=function(e){return e&&(e.host||hb(e.parentNode))},tj=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},nj=function(e,t,n,r){var o=tj(t,Array.isArray(e)?e:[e]);du[n]||(du[n]=new WeakMap);var a=du[n],h=[],p=new Set,x=new Set(o),m=function(w){!w||p.has(w)||(p.add(w),m(w.parentNode))};o.forEach(m);var v=function(w){!w||x.has(w)||Array.prototype.forEach.call(w.children,function(C){if(p.has(C))v(C);else try{var I=C.getAttribute(r),j=I!==null&&I!=="false",T=(Wo.get(C)||0)+1,R=(a.get(C)||0)+1;Wo.set(C,T),a.set(C,R),h.push(C),T===1&&j&&uu.set(C,!0),R===1&&C.setAttribute(n,"true"),j||C.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",C,_)}})};return v(t),p.clear(),Af++,function(){h.forEach(function(w){var C=Wo.get(w)-1,I=a.get(w)-1;Wo.set(w,C),a.set(w,I),C||(uu.has(w)||w.removeAttribute(r),uu.delete(w)),I||w.removeAttribute(n)}),Af--,Af||(Wo=new WeakMap,Wo=new WeakMap,uu=new WeakMap,du={})}},fb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=ej(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),nj(r,o,n,"aria-hidden")):function(){return null}},Cp="Dialog",[pb,mM]=za(Cp),[rj,rs]=pb(Cp),gb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:h=!0}=e,p=E.useRef(null),x=E.useRef(null),[m=!1,v]=Ii({prop:r,defaultProp:o,onChange:a});return c.jsx(rj,{scope:t,triggerRef:p,contentRef:x,contentId:Ds(),titleId:Ds(),descriptionId:Ds(),open:m,onOpenChange:v,onOpenToggle:E.useCallback(()=>v(w=>!w),[v]),modal:h,children:n})};gb.displayName=Cp;var mb="DialogTrigger",xb=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=rs(mb,n),a=wt(t,o.triggerRef);return c.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":_p(o.open),...r,ref:a,onClick:Ue(e.onClick,o.onOpenToggle)})});xb.displayName=mb;var Sp="DialogPortal",[sj,yb]=pb(Sp,{forceMount:void 0}),vb=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=rs(Sp,t);return c.jsx(sj,{scope:t,forceMount:n,children:E.Children.map(r,h=>c.jsx(_o,{present:n||a.open,children:c.jsx(zd,{asChild:!0,container:o,children:h})}))})};vb.displayName=Sp;var yd="DialogOverlay",wb=E.forwardRef((e,t)=>{const n=yb(yd,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=rs(yd,e.__scopeDialog);return a.modal?c.jsx(_o,{present:r||a.open,children:c.jsx(ij,{...o,ref:t})}):null});wb.displayName=yd;var ij=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=rs(yd,n);return c.jsx(bp,{as:Mr,allowPinchZoom:!0,shards:[o.contentRef],children:c.jsx(He.div,{"data-state":_p(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),wo="DialogContent",bb=E.forwardRef((e,t)=>{const n=yb(wo,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=rs(wo,e.__scopeDialog);return c.jsx(_o,{present:r||a.open,children:a.modal?c.jsx(oj,{...o,ref:t}):c.jsx(aj,{...o,ref:t})})});bb.displayName=wo;var oj=E.forwardRef((e,t)=>{const n=rs(wo,e.__scopeDialog),r=E.useRef(null),o=wt(t,n.contentRef,r);return E.useEffect(()=>{const a=r.current;if(a)return fb(a)},[]),c.jsx(Cb,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,a=>{var h;a.preventDefault(),(h=n.triggerRef.current)==null||h.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,a=>{const h=a.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0;(h.button===2||p)&&a.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,a=>a.preventDefault())})}),aj=E.forwardRef((e,t)=>{const n=rs(wo,e.__scopeDialog),r=E.useRef(!1),o=E.useRef(!1);return c.jsx(Cb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var h,p;(h=e.onCloseAutoFocus)==null||h.call(e,a),a.defaultPrevented||(r.current||(p=n.triggerRef.current)==null||p.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var x,m;(x=e.onInteractOutside)==null||x.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const h=a.target;((m=n.triggerRef.current)==null?void 0:m.contains(h))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Cb=E.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...h}=e,p=rs(wo,n),x=E.useRef(null),m=wt(t,x);return sb(),c.jsxs(c.Fragment,{children:[c.jsx(wp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:c.jsx(yc,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":_p(p.open),...h,ref:m,onDismiss:()=>p.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(lj,{titleId:p.titleId}),c.jsx(uj,{contentRef:x,descriptionId:p.descriptionId})]})]})}),Ep="DialogTitle",Sb=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=rs(Ep,n);return c.jsx(He.h2,{id:o.titleId,...r,ref:t})});Sb.displayName=Ep;var Eb="DialogDescription",_b=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=rs(Eb,n);return c.jsx(He.p,{id:o.descriptionId,...r,ref:t})});_b.displayName=Eb;var Nb="DialogClose",Ab=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=rs(Nb,n);return c.jsx(He.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,()=>o.onOpenChange(!1))})});Ab.displayName=Nb;function _p(e){return e?"open":"closed"}var Tb="DialogTitleWarning",[xM,Ib]=JN(Tb,{contentName:wo,titleName:Ep,docsSlug:"dialog"}),lj=({titleId:e})=>{const t=Ib(Tb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},cj="DialogDescriptionWarning",uj=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ib(cj).contentName}}.`;return E.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},jb=gb,dj=xb,Rb=vb,sh=wb,ih=bb,oh=Sb,ah=_b,Ob=Ab;const hj=jb,fj=Rb,kb=E.forwardRef(({className:e,...t},n)=>c.jsx(sh,{className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));kb.displayName=sh.displayName;const pj=Va("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Mb=E.forwardRef(({side:e="right",className:t,children:n,...r},o)=>c.jsxs(fj,{children:[c.jsx(kb,{}),c.jsxs(ih,{ref:o,className:Ae(pj({side:e}),t),...r,children:[n,c.jsxs(Ob,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(ho,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mb.displayName=ih.displayName;const gj=E.forwardRef(({className:e,...t},n)=>c.jsx(oh,{ref:n,className:Ae("text-lg font-semibold text-foreground",e),...t}));gj.displayName=oh.displayName;const mj=E.forwardRef(({className:e,...t},n)=>c.jsx(ah,{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));mj.displayName=ah.displayName;function nx({className:e,...t}){return c.jsx("div",{className:Ae("animate-pulse rounded-md bg-muted",e),...t})}const xj="sidebar:state",yj=60*60*24*7,vj="16rem",wj="18rem",bj="3rem",Cj="b",Db=E.createContext(null);function Cc(){const e=E.useContext(Db);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Pb=E.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:o,children:a,...h},p)=>{const x=o8(),[m,v]=E.useState(!1),[w,C]=E.useState(e),I=t??w,j=E.useCallback(S=>{const N=typeof S=="function"?S(I):S;n?n(N):C(N),document.cookie=`${xj}=${N}; path=/; max-age=${yj}`},[n,I]),T=E.useCallback(()=>x?v(S=>!S):j(S=>!S),[x,j,v]);E.useEffect(()=>{const S=N=>{N.key===Cj&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),T())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[T]);const R=I?"expanded":"collapsed",_=E.useMemo(()=>({state:R,open:I,setOpen:j,isMobile:x,openMobile:m,setOpenMobile:v,toggleSidebar:T}),[R,I,j,x,m,v,T]);return c.jsx(Db.Provider,{value:_,children:c.jsx(k2,{delayDuration:0,children:c.jsx("div",{style:{"--sidebar-width":vj,"--sidebar-width-icon":bj,...o},className:Ae("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:p,...h,children:a})})})});Pb.displayName="SidebarProvider";const Lb=E.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:o,...a},h)=>{const{isMobile:p,state:x,openMobile:m,setOpenMobile:v}=Cc();return n==="none"?c.jsx("div",{className:Ae("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:h,...a,children:o}):p?c.jsx(hj,{open:m,onOpenChange:v,...a,children:c.jsx(Mb,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":wj},side:e,children:c.jsx("div",{className:"flex h-full w-full flex-col",children:o})})}):c.jsxs("div",{ref:h,className:"group peer hidden md:block text-sidebar-foreground","data-state":x,"data-collapsible":x==="collapsed"?n:"","data-variant":t,"data-side":e,children:[c.jsx("div",{className:Ae("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),c.jsx("div",{className:Ae("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:c.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:o})})]})});Lb.displayName="Sidebar";const Bb=E.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:o}=Cc();return c.jsxs(me,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ae("h-7 w-7",e),onClick:a=>{t==null||t(a),o()},...n,children:[c.jsx(WA,{}),c.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Bb.displayName="SidebarTrigger";const Sj=E.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Cc();return c.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:Ae("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Sj.displayName="SidebarRail";const Ej=E.forwardRef(({className:e,...t},n)=>c.jsx("main",{ref:n,className:Ae("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Ej.displayName="SidebarInset";const _j=E.forwardRef(({className:e,...t},n)=>c.jsx(ge,{ref:n,"data-sidebar":"input",className:Ae("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));_j.displayName="SidebarInput";const Nj=E.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,"data-sidebar":"header",className:Ae("flex flex-col gap-2 p-2",e),...t}));Nj.displayName="SidebarHeader";const Aj=E.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,"data-sidebar":"footer",className:Ae("flex flex-col gap-2 p-2",e),...t}));Aj.displayName="SidebarFooter";const Tj=E.forwardRef(({className:e,...t},n)=>c.jsx(nb,{ref:n,"data-sidebar":"separator",className:Ae("mx-2 w-auto bg-sidebar-border",e),...t}));Tj.displayName="SidebarSeparator";const Fb=E.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,"data-sidebar":"content",className:Ae("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Fb.displayName="SidebarContent";const Ub=E.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,"data-sidebar":"group",className:Ae("relative flex w-full min-w-0 flex-col p-2",e),...t}));Ub.displayName="SidebarGroup";const zb=E.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const o=t?Mr:"div";return c.jsx(o,{ref:r,"data-sidebar":"group-label",className:Ae("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});zb.displayName="SidebarGroupLabel";const Ij=E.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const o=t?Mr:"button";return c.jsx(o,{ref:r,"data-sidebar":"group-action",className:Ae("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});Ij.displayName="SidebarGroupAction";const Vb=E.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,"data-sidebar":"group-content",className:Ae("w-full text-sm",e),...t}));Vb.displayName="SidebarGroupContent";const Hb=E.forwardRef(({className:e,...t},n)=>c.jsx("ul",{ref:n,"data-sidebar":"menu",className:Ae("flex w-full min-w-0 flex-col gap-1",e),...t}));Hb.displayName="SidebarMenu";const Wb=E.forwardRef(({className:e,...t},n)=>c.jsx("li",{ref:n,"data-sidebar":"menu-item",className:Ae("group/menu-item relative",e),...t}));Wb.displayName="SidebarMenuItem";const jj=Va("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),$b=E.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:o,className:a,...h},p)=>{const x=e?Mr:"button",{isMobile:m,state:v}=Cc(),w=c.jsx(x,{ref:p,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:Ae(jj({variant:n,size:r}),a),...h});return o?(typeof o=="string"&&(o={children:o}),c.jsxs(RT,{children:[c.jsx(OT,{asChild:!0,children:w}),c.jsx(M2,{side:"right",align:"center",hidden:v!=="collapsed"||m,...o})]})):w});$b.displayName="SidebarMenuButton";const Rj=E.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},o)=>{const a=t?Mr:"button";return c.jsx(a,{ref:o,"data-sidebar":"menu-action",className:Ae("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});Rj.displayName="SidebarMenuAction";const Oj=E.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:Ae("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));Oj.displayName="SidebarMenuBadge";const kj=E.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const o=E.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return c.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:Ae("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&c.jsx(nx,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),c.jsx(nx,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":o}})]})});kj.displayName="SidebarMenuSkeleton";const Mj=E.forwardRef(({className:e,...t},n)=>c.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:Ae("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));Mj.displayName="SidebarMenuSub";const Dj=E.forwardRef(({...e},t)=>c.jsx("li",{ref:t,...e}));Dj.displayName="SidebarMenuSubItem";const Pj=E.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...o},a)=>{const h=e?Mr:"a";return c.jsx(h,{ref:a,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:Ae("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...o})});Pj.displayName="SidebarMenuSubButton";const Lj=[{title:"Dashboard",url:"/",icon:Bw},{title:"Inventory",url:"/inventory",icon:es},{title:"Purchase Orders",url:"/purchase-orders",icon:bs},{title:"Stock Receiving",url:"/stock-receiving",icon:es},{title:"Equipment",url:"/equipment",icon:ld},{title:"Suppliers",url:"/suppliers",icon:Ou},{title:"Reports",url:"/reports",icon:bs},{title:"Settings",url:"/settings",icon:ld},{title:"Back To Admin Portal",url:"http://localhost:3001",icon:FA}];function Bj(){const{state:e}=Cc();Ao().pathname;const n=e==="collapsed",r=({isActive:o})=>o?"bg-dental-primary text-white font-medium shadow-sm":"hover:bg-blue-50 text-gray-700 hover:text-dental-primary";return c.jsxs(Lb,{className:n?"w-14":"w-64",collapsible:"icon",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200",children:[c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("img",{src:"/placeholder.svg",alt:"DentalTrack Pro Logo",className:"h-36 w-36 object-contain"})}),c.jsx(Bb,{className:"absolute -right-3 top-6 bg-white border border-gray-200 rounded-full p-1 shadow-sm"})]}),c.jsx(Fb,{className:"px-2 py-4",children:c.jsxs(Ub,{children:[c.jsx(zb,{className:"text-gray-500 font-medium mb-2",children:!n&&"Main Menu"}),c.jsx(Vb,{children:c.jsx(Hb,{className:"space-y-1",children:Lj.map(o=>c.jsx(Wb,{children:c.jsx($b,{asChild:!0,children:c.jsxs(n8,{to:o.url,end:!0,className:({isActive:a})=>`flex items-center space-x-3 px-3 py-2 rounded-lg transition-all duration-200 ${r({isActive:a})}`,children:[c.jsx(o.icon,{className:"h-5 w-5 flex-shrink-0"}),!n&&c.jsx("span",{className:"font-medium",children:o.title})]})})},o.title))})})]})})]})}const Qe=E.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Qe.displayName="Card";const Sn=E.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ae("flex flex-col space-y-1.5 p-6",e),...t}));Sn.displayName="CardHeader";const En=E.forwardRef(({className:e,...t},n)=>c.jsx("h3",{ref:n,className:Ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));En.displayName="CardTitle";const _n=E.forwardRef(({className:e,...t},n)=>c.jsx("p",{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));_n.displayName="CardDescription";const Ze=E.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ae("p-6 pt-0",e),...t}));Ze.displayName="CardContent";const Fj=E.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ae("flex items-center p-6 pt-0",e),...t}));Fj.displayName="CardFooter";const Uj=Va("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xt({className:e,variant:t,...n}){return c.jsx("div",{className:Ae(Uj({variant:t}),e),...n})}function zj(e,t=[]){let n=[];function r(a,h){const p=E.createContext(h),x=n.length;n=[...n,h];function m(w){const{scope:C,children:I,...j}=w,T=(C==null?void 0:C[e][x])||p,R=E.useMemo(()=>j,Object.values(j));return c.jsx(T.Provider,{value:R,children:I})}function v(w,C){const I=(C==null?void 0:C[e][x])||p,j=E.useContext(I);if(j)return j;if(h!==void 0)return h;throw new Error(`\`${w}\` must be used within \`${a}\``)}return m.displayName=a+"Provider",[m,v]}const o=()=>{const a=n.map(h=>E.createContext(h));return function(p){const x=(p==null?void 0:p[e])||a;return E.useMemo(()=>({[`__scope${e}`]:{...p,[e]:x}}),[p,x])}};return o.scopeName=e,[r,Vj(o,...t)]}function Vj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const h=r.reduce((p,{useScope:x,scopeName:m})=>{const w=x(a)[`__scope${m}`];return{...p,...w}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var Np="Progress",Ap=100,[Hj,yM]=zj(Np),[Wj,$j]=Hj(Np),Gb=E.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:a=Gj,...h}=e;(o||o===0)&&!rx(o)&&console.error(Yj(`${o}`,"Progress"));const p=rx(o)?o:Ap;r!==null&&!sx(r,p)&&console.error(qj(`${r}`,"Progress"));const x=sx(r,p)?r:null,m=vd(x)?a(x,p):void 0;return c.jsx(Wj,{scope:n,value:x,max:p,children:c.jsx(He.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":vd(x)?x:void 0,"aria-valuetext":m,role:"progressbar","data-state":Xb(x,p),"data-value":x??void 0,"data-max":p,...h,ref:t})})});Gb.displayName=Np;var Yb="ProgressIndicator",qb=E.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,o=$j(Yb,n);return c.jsx(He.div,{"data-state":Xb(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:t})});qb.displayName=Yb;function Gj(e,t){return`${Math.round(e/t*100)}%`}function Xb(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function vd(e){return typeof e=="number"}function rx(e){return vd(e)&&!isNaN(e)&&e>0}function sx(e,t){return vd(e)&&!isNaN(e)&&e<=t&&e>=0}function Yj(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ap}\`.`}function qj(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ap} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Kb=Gb,Xj=qb;const kl=E.forwardRef(({className:e,value:t,...n},r)=>c.jsx(Kb,{ref:r,className:Ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:c.jsx(Xj,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));kl.displayName=Kb.displayName;const Kj="modulepreload",Qj=function(e){return"/"+e},ix={},Sc=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=Promise.allSettled(n.map(x=>{if(x=Qj(x),x in ix)return;ix[x]=!0;const m=x.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${v}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":Kj,m||(w.as="script"),w.crossOrigin="",w.href=x,p&&w.setAttribute("nonce",p),document.head.appendChild(w),m)return new Promise((C,I)=>{w.addEventListener("load",C),w.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${x}`)))})}))}function a(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return o.then(h=>{for(const p of h||[])p.status==="rejected"&&a(p.reason);return t().catch(a)})},Zj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sc(async()=>{const{default:r}=await Promise.resolve().then(()=>qa);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Tp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Jj extends Tp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ox extends Tp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ax extends Tp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($0||($0={}));var e6=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})};class t6{constructor(t,{headers:n={},customFetch:r,region:o=$0.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=Zj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return e6(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:h}=n;let p={},{region:x}=n;x||(x=this.region);const m=new URL(`${this.url}/${t}`);x&&x!=="any"&&(p["x-region"]=x,m.searchParams.set("forceFunctionRegion",x));let v;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=h):typeof h=="string"?(p["Content-Type"]="text/plain",v=h):typeof FormData<"u"&&h instanceof FormData?v=h:(p["Content-Type"]="application/json",v=JSON.stringify(h)));const w=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:v}).catch(T=>{throw new Jj(T)}),C=w.headers.get("x-relay-error");if(C&&C==="true")throw new ox(w);if(!w.ok)throw new ax(w);let I=((r=w.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),j;return I==="application/json"?j=yield w.json():I==="application/octet-stream"?j=yield w.blob():I==="text/event-stream"?j=w:I==="multipart/form-data"?j=yield w.formData():j=yield w.text(),{data:j,error:null,response:w}}catch(o){return{data:null,error:o,response:o instanceof ax||o instanceof ox?o.context:void 0}}})}}var er={},Ip={},lh={},Ec={},ch={},uh={},n6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},La=n6();const r6=La.fetch,Qb=La.fetch.bind(La),Zb=La.Headers,s6=La.Request,i6=La.Response,qa=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zb,Request:s6,Response:i6,default:Qb,fetch:r6},Symbol.toStringTag,{value:"Module"})),o6=mE(qa);var dh={};Object.defineProperty(dh,"__esModule",{value:!0});let a6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};dh.default=a6;var Jb=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uh,"__esModule",{value:!0});const l6=Jb(o6),c6=Jb(dh);let u6=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=l6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var h,p,x;let m=null,v=null,w=null,C=a.status,I=a.statusText;if(a.ok){if(this.method!=="HEAD"){const _=await a.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=_:v=JSON.parse(_))}const T=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),R=(p=a.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");T&&R&&R.length>1&&(w=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(m={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,C=406,I="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const T=await a.text();try{m=JSON.parse(T),Array.isArray(m)&&a.status===404&&(v=[],m=null,C=200,I="OK")}catch{a.status===404&&T===""?(C=204,I="No Content"):m={message:T}}if(m&&this.isMaybeSingle&&(!((x=m==null?void 0:m.details)===null||x===void 0)&&x.includes("0 rows"))&&(m=null,C=200,I="OK"),m&&this.shouldThrowOnError)throw new c6.default(m)}return{error:m,data:v,count:w,status:C,statusText:I}});return this.shouldThrowOnError||(o=o.catch(a=>{var h,p,x;return{error:{message:`${(h=a==null?void 0:a.name)!==null&&h!==void 0?h:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(x=a==null?void 0:a.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};uh.default=u6;var d6=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ch,"__esModule",{value:!0});const h6=d6(uh);let f6=class extends h6.default{select(t){let n=!1;const r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:a=o}={}){const h=a?`${a}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"offset":`${o}.offset`,h=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(h,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:a=!1,format:h="text"}={}){var p;const x=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),m=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${m}"; options=${x};`,h==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ch.default=f6;var p6=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ec,"__esModule",{value:!0});const g6=p6(ch);let m6=class extends g6.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${h}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ec.default=m6;var x6=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lh,"__esModule",{value:!0});const ml=x6(Ec);let y6=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let a=!1;const h=(t??"*").split("").map(p=>/\s/.test(p)&&!a?"":(p==='"'&&(a=!a),p)).join("");return this.url.searchParams.set("select",h),r&&(this.headers.Prefer=`count=${r}`),new ml.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const o="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const h=t.reduce((p,x)=>p.concat(Object.keys(x)),[]);if(h.length>0){const p=[...new Set(h)].map(x=>`"${x}"`);this.url.searchParams.set("columns",p.join(","))}}return new ml.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:a=!0}={}){const h="POST",p=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&p.push(this.headers.Prefer),o&&p.push(`count=${o}`),a||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(t)){const x=t.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(x.length>0){const m=[...new Set(x)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new ml.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new ml.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ml.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};lh.default=y6;var hh={},fh={};Object.defineProperty(fh,"__esModule",{value:!0});fh.version=void 0;fh.version="0.0.0-automated";Object.defineProperty(hh,"__esModule",{value:!0});hh.DEFAULT_HEADERS=void 0;const v6=fh;hh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${v6.version}`};var eC=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ip,"__esModule",{value:!0});const w6=eC(lh),b6=eC(Ec),C6=hh;let S6=class tC{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},C6.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new w6.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:a}={}){let h;const p=new URL(`${this.url}/rpc/${t}`);let x;r||o?(h=r?"HEAD":"GET",Object.entries(n).filter(([v,w])=>w!==void 0).map(([v,w])=>[v,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([v,w])=>{p.searchParams.append(v,w)})):(h="POST",x=n);const m=Object.assign({},this.headers);return a&&(m.Prefer=`count=${a}`),new b6.default({method:h,url:p,headers:m,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}};Ip.default=S6;var Xa=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(er,"__esModule",{value:!0});er.PostgrestError=er.PostgrestBuilder=er.PostgrestTransformBuilder=er.PostgrestFilterBuilder=er.PostgrestQueryBuilder=er.PostgrestClient=void 0;const nC=Xa(Ip);er.PostgrestClient=nC.default;const rC=Xa(lh);er.PostgrestQueryBuilder=rC.default;const sC=Xa(Ec);er.PostgrestFilterBuilder=sC.default;const iC=Xa(ch);er.PostgrestTransformBuilder=iC.default;const oC=Xa(uh);er.PostgrestBuilder=oC.default;const aC=Xa(dh);er.PostgrestError=aC.default;var E6=er.default={PostgrestClient:nC.default,PostgrestQueryBuilder:rC.default,PostgrestFilterBuilder:sC.default,PostgrestTransformBuilder:iC.default,PostgrestBuilder:oC.default,PostgrestError:aC.default};const{PostgrestClient:_6,PostgrestQueryBuilder:EM,PostgrestFilterBuilder:_M,PostgrestTransformBuilder:NM,PostgrestBuilder:AM,PostgrestError:TM}=E6;function N6(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const A6=N6(),T6="2.11.15",I6=`realtime-js/${T6}`,j6="1.0.0",lC=1e4,R6=1e3;var Ml;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ml||(Ml={}));var kn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kn||(kn={}));var qr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qr||(qr={}));var G0;(function(e){e.websocket="websocket"})(G0||(G0={}));var to;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(to||(to={}));class O6{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),a=n.getUint8(2);let h=this.HEADER_LENGTH+2;const p=r.decode(t.slice(h,h+o));h=h+o;const x=r.decode(t.slice(h,h+a));h=h+a;const m=JSON.parse(r.decode(t.slice(h,t.byteLength)));return{ref:null,topic:p,event:x,payload:m}}}class cC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ct||(Ct={}));const lx=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,h)=>(a[h]=k6(h,e,t,o),a),{})},k6=(e,t,n,r)=>{const o=t.find(p=>p.name===e),a=o==null?void 0:o.type,h=n[e];return a&&!r.includes(a)?uC(a,h):Y0(h)},uC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return L6(t,n)}switch(e){case Ct.bool:return M6(t);case Ct.float4:case Ct.float8:case Ct.int2:case Ct.int4:case Ct.int8:case Ct.numeric:case Ct.oid:return D6(t);case Ct.json:case Ct.jsonb:return P6(t);case Ct.timestamp:return B6(t);case Ct.abstime:case Ct.date:case Ct.daterange:case Ct.int4range:case Ct.int8range:case Ct.money:case Ct.reltime:case Ct.text:case Ct.time:case Ct.timestamptz:case Ct.timetz:case Ct.tsrange:case Ct.tstzrange:return Y0(t);default:return Y0(t)}},Y0=e=>e,M6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},D6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},P6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},L6=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const h=e.slice(1,n);try{a=JSON.parse("["+h+"]")}catch{a=h?h.split(","):[]}return a.map(p=>uC(t,p))}return e},B6=e=>typeof e=="string"?e.replace(" ","T"):e,dC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Tf{constructor(t,n,r={},o=lC){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cx||(cx={}));class Dl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dl.syncState(this.state,o,a,h),this.pendingDiffs.forEach(x=>{this.state=Dl.syncDiff(this.state,x,a,h)}),this.pendingDiffs=[],p()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Dl.syncDiff(this.state,o,a,h),p())}),this.onJoin((o,a,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:h})}),this.onLeave((o,a,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const a=this.cloneDeep(t),h=this.transformState(n),p={},x={};return this.map(a,(m,v)=>{h[m]||(x[m]=v)}),this.map(h,(m,v)=>{const w=a[m];if(w){const C=v.map(R=>R.presence_ref),I=w.map(R=>R.presence_ref),j=v.filter(R=>I.indexOf(R.presence_ref)<0),T=w.filter(R=>C.indexOf(R.presence_ref)<0);j.length>0&&(p[m]=j),T.length>0&&(x[m]=T)}else p[m]=v}),this.syncDiff(a,{joins:p,leaves:x},r,o)}static syncDiff(t,n,r,o){const{joins:a,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(p,x)=>{var m;const v=(m=t[p])!==null&&m!==void 0?m:[];if(t[p]=this.cloneDeep(x),v.length>0){const w=t[p].map(I=>I.presence_ref),C=v.filter(I=>w.indexOf(I.presence_ref)<0);t[p].unshift(...C)}r(p,v,x)}),this.map(h,(p,x)=>{let m=t[p];if(!m)return;const v=x.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),t[p]=m,o(p,m,x),m.length===0&&delete t[p]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ux;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ux||(ux={}));var dx;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dx||(dx={}));var Is;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Is||(Is={}));class jp{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=kn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Tf(this,qr.join,this.params,this.timeout),this.rejoinTimer=new cC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Dl(this),this.broadcastEndpointURL=dC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==kn.closed){const{config:{broadcast:a,presence:h,private:p}}=this.params;this._onError(v=>t==null?void 0:t(Is.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(Is.CLOSED));const x={},m={broadcast:a,presence:h,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&o!==void 0?o:[],private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){t==null||t(Is.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,I=(w=C==null?void 0:C.length)!==null&&w!==void 0?w:0,j=[];for(let T=0;T<I;T++){const R=C[T],{filter:{event:_,schema:S,table:N,filter:P}}=R,O=v&&v[T];if(O&&O.event===_&&O.schema===S&&O.table===N&&O.filter===P)j.push(Object.assign(Object.assign({},R),{id:O.id}));else{this.unsubscribe(),this.state=kn.errored,t==null||t(Is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Is.SUBSCRIBED);return}}).receive("error",v=>{this.state=kn.errored,t==null||t(Is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:h}=t,x={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var h,p,x;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((x=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||x===void 0)&&x.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Tf(this,qr.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),h=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),h}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Tf(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,a;const h=t.toLocaleLowerCase(),{close:p,error:x,leave:m,join:v}=qr;if(r&&[p,x,m,v].indexOf(h)>=0&&r!==this._joinRef())return;let C=this._onMessage(h,n,r);if(n&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(I=>{var j,T,R;return((j=I.filter)===null||j===void 0?void 0:j.event)==="*"||((R=(T=I.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===h}).map(I=>I.callback(C,r)):(a=this.bindings[h])===null||a===void 0||a.filter(I=>{var j,T,R,_,S,N;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in I){const P=I.id,O=(j=I.filter)===null||j===void 0?void 0:j.event;return P&&((T=n.ids)===null||T===void 0?void 0:T.includes(P))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const P=(S=(_=I==null?void 0:I.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return P==="*"||P===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return I.type.toLocaleLowerCase()===h}).map(I=>{if(typeof C=="object"&&"ids"in C){const j=C.data,{schema:T,table:R,commit_timestamp:_,type:S,errors:N}=j;C=Object.assign(Object.assign({},{schema:T,table:R,commit_timestamp:_,eventType:S,new:{},old:{},errors:N}),this._getPayloadRecords(j))}I.callback(C,r)})}_isClosed(){return this.state===kn.closed}_isJoined(){return this.state===kn.joined}_isJoining(){return this.state===kn.joining}_isLeaving(){return this.state===kn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&jp.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qr.close,{},t)}_onError(t){this._on(qr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=lx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=lx(t.columns,t.old_record)),n}}const hx=()=>{},F6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U6{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lC,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hx,this.ref=0,this.logger=hx,this.conn=null,this.sendBuffer=[],this.serializer=new O6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let h;return a?h=a:typeof fetch>"u"?h=(...p)=>Sc(async()=>{const{default:x}=await Promise.resolve().then(()=>qa);return{default:x}},void 0).then(({default:x})=>x(...p)):h=fetch,(...p)=>h(...p)},this.endPoint=`${t}/${G0.websocket}`,this.httpEndpoint=dC(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,h)=>h(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=A6),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:j6}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ml.connecting:return to.Connecting;case Ml.open:return to.Open;case Ml.closing:return to.Closing;default:return to.Closed}}isConnected(){return this.connectionState()===to.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new jp(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:o,ref:a}=t,h=()=>{this.encode(t,p=>{var x;(x=this.conn)===null||x===void 0||x.send(p)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:I6};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(qr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(R6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:a,ref:h}=n;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${o} ${h&&"("+h+")"||""}`,a),Array.from(this.channels).filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,a,h)),this.stateChangeCallbacks.message.forEach(p=>p(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(qr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([F6],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Rp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class z6 extends Rp{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class q0 extends Rp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var V6=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})};const hC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sc(async()=>{const{default:r}=await Promise.resolve().then(()=>qa);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},H6=()=>V6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sc(()=>Promise.resolve().then(()=>qa),void 0)).Response:Response}),X0=e=>{if(Array.isArray(e))return e.map(n=>X0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=X0(r)}),t};var To=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})};const If=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),W6=(e,t,n)=>To(void 0,void 0,void 0,function*(){const r=yield H6();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{t(new z6(If(o),e.status||500))}).catch(o=>{t(new q0(If(o),o))}):t(new q0(If(e),e))}),$6=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function _c(e,t,n,r,o,a){return To(this,void 0,void 0,function*(){return new Promise((h,p)=>{e(n,$6(t,r,o,a)).then(x=>{if(!x.ok)throw x;return r!=null&&r.noResolveJson?x:x.json()}).then(x=>h(x)).catch(x=>W6(x,p,r))})})}function wd(e,t,n,r){return To(this,void 0,void 0,function*(){return _c(e,"GET",t,n,r)})}function ii(e,t,n,r,o){return To(this,void 0,void 0,function*(){return _c(e,"POST",t,r,o,n)})}function G6(e,t,n,r,o){return To(this,void 0,void 0,function*(){return _c(e,"PUT",t,r,o,n)})}function Y6(e,t,n,r){return To(this,void 0,void 0,function*(){return _c(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fC(e,t,n,r,o){return To(this,void 0,void 0,function*(){return _c(e,"DELETE",t,r,o,n)})}var Zn=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})};const q6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class X6{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=hC(o)}uploadOrUpdate(t,n,r,o){return Zn(this,void 0,void 0,function*(){try{let a;const h=Object.assign(Object.assign({},fx),o);let p=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(h.upsert)});const x=h.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",h.cacheControl),x&&a.append("metadata",this.encodeMetadata(x)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",h.cacheControl),x&&a.append("metadata",this.encodeMetadata(x))):(a=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,x&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(x)))),o!=null&&o.headers&&(p=Object.assign(Object.assign({},p),o.headers));const m=this._removeEmptyFolders(n),v=this._getFinalPath(m),w=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:t,body:a,headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{})),C=yield w.json();return w.ok?{data:{path:m,id:C.Id,fullPath:C.Key},error:null}:{data:null,error:C}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Zn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),h=this._getFinalPath(a),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",n);try{let x;const m=Object.assign({upsert:fx.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(x=new FormData,x.append("cacheControl",m.cacheControl),x.append("",r)):typeof FormData<"u"&&r instanceof FormData?(x=r,x.append("cacheControl",m.cacheControl)):(x=r,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const w=yield this.fetch(p.toString(),{method:"PUT",body:x,headers:v}),C=yield w.json();return w.ok?{data:{path:a,fullPath:C.Key},error:null}:{data:null,error:C}}catch(x){if(gn(x))return{data:null,error:x};throw x}})}createSignedUploadUrl(t,n){return Zn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield ii(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),h=new URL(this.url+a.url),p=h.searchParams.get("token");if(!p)throw new Rp("No token returned by API");return{data:{signedUrl:h.toString(),path:t,token:p},error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Zn(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(gn(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Zn(this,void 0,void 0,function*(){try{return{data:{path:(yield ii(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(gn(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Zn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield ii(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const h=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${h}`)},{data:a,error:null}}catch(o){if(gn(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Zn(this,void 0,void 0,function*(){try{const o=yield ii(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${a}`):null})),error:null}}catch(o){if(gn(o))return{data:null,error:o};throw o}})}download(t,n){return Zn(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),h=a?`?${a}`:"";try{const p=this._getFinalPath(t);return{data:yield(yield wd(this.fetch,`${this.url}/${o}/${p}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(gn(p))return{data:null,error:p};throw p}})}info(t){return Zn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield wd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:X0(r),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}exists(t){return Zn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Y6(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(gn(r)&&r instanceof q0){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const p=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",x=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});x!==""&&o.push(x);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${r}${m}`)}}}remove(t){return Zn(this,void 0,void 0,function*(){try{return{data:yield fC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Zn(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},q6),n),{prefix:t||""});return{data:yield ii(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(gn(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const K6="2.7.1",Q6={"X-Client-Info":`storage-js/${K6}`};var $o=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})};class Z6{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Q6),n),this.fetch=hC(r)}listBuckets(){return $o(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(gn(t))return{data:null,error:t};throw t}})}getBucket(t){return $o(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return $o(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return $o(this,void 0,void 0,function*(){try{return{data:yield G6(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return $o(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return $o(this,void 0,void 0,function*(){try{return{data:yield fC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}}class J6 extends Z6{constructor(t,n={},r){super(t,n,r)}from(t){return new X6(this.url,this.headers,t,this.fetch)}}const eR="2.50.3";let bl="";typeof Deno<"u"?bl="deno":typeof document<"u"?bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bl="react-native":bl="node";const tR={"X-Client-Info":`supabase-js-${bl}/${eR}`},nR={headers:tR},rR={schema:"public"},sR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iR={};var oR=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})};const aR=e=>{let t;return e?t=e:typeof fetch>"u"?t=Qb:t=fetch,(...n)=>t(...n)},lR=()=>typeof Headers>"u"?Zb:Headers,cR=(e,t,n)=>{const r=aR(n),o=lR();return(a,h)=>oR(void 0,void 0,void 0,function*(){var p;const x=(p=yield t())!==null&&p!==void 0?p:e;let m=new o(h==null?void 0:h.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${x}`),r(a,Object.assign(Object.assign({},h),{headers:m}))})};var uR=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})};function dR(e){return e.endsWith("/")?e:e+"/"}function hR(e,t){var n,r;const{db:o,auth:a,realtime:h,global:p}=e,{db:x,auth:m,realtime:v,global:w}=t,C={db:Object.assign(Object.assign({},x),o),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},v),h),global:Object.assign(Object.assign(Object.assign({},w),p),{headers:Object.assign(Object.assign({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>uR(this,void 0,void 0,function*(){return""})};return e.accessToken?C.accessToken=e.accessToken:delete C.accessToken,C}const pC="2.70.0",Xo=30*1e3,K0=3,jf=K0*Xo,fR="http://localhost:9999",pR="supabase.auth.token",gR={"X-Client-Info":`gotrue-js/${pC}`},Q0="X-Supabase-Api-Version",gC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xR=6e5;class Op extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yR extends Op{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function vR(e){return Ge(e)&&e.name==="AuthApiError"}class mC extends Op{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class zi extends Op{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class ni extends zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wR(e){return Ge(e)&&e.name==="AuthSessionMissingError"}class hu extends zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fu extends zi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pu extends zi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bR(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class px extends zi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Z0 extends zi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Rf(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}class gx extends zi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Pl extends zi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mx=` 	
\r=`.split(""),CR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mx.length;t+=1)e[mx[t].charCodeAt(0)]=-2;for(let t=0;t<bd.length;t+=1)e[bd[t].charCodeAt(0)]=t;return e})();function xx(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(bd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(bd[r]),t.queuedBits-=6}}function xC(e,t,n){const r=CR[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yx(e){const t=[],n=h=>{t.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=h=>{_R(h,r,n)};for(let h=0;h<e.length;h+=1)xC(e.charCodeAt(h),o,a);return t.join("")}function SR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ER(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}SR(r,t)}}function _R(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function NR(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)xC(e.charCodeAt(o),n,r);return new Uint8Array(t)}function AR(e){const t=[];return ER(e,n=>t.push(n)),new Uint8Array(t)}function TR(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>xx(o,n,r)),xx(null,n,r),t.join("")}function IR(e){return Math.round(Date.now()/1e3)+e}function jR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vr=()=>typeof window<"u"&&typeof document<"u",Qi={tested:!1,writable:!1},Ll=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qi.tested)return Qi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qi.tested=!0,Qi.writable=!0}catch{Qi.tested=!0,Qi.writable=!1}return Qi.writable};function RR(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const yC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sc(async()=>{const{default:r}=await Promise.resolve().then(()=>qa);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},OR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vC=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},gu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mu=async(e,t)=>{await e.removeItem(t)};class ph{constructor(){this.promise=new ph.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ph.promiseConstructor=Promise;function Of(e){const t=e.split(".");if(t.length!==3)throw new Pl("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!mR.test(t[r]))throw new Pl("JWT not in base64url format");return{header:JSON.parse(yx(t[0])),payload:JSON.parse(yx(t[1])),signature:NR(t[2]),raw:{header:t[0],payload:t[1]}}}async function kR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function MR(e,t){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const h=await e(a);if(!t(a,null,h)){r(h);return}}catch(h){if(!t(a,h)){o(h);return}}})()})}function DR(e){return("0"+e.toString(16)).substr(-2)}function PR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,DR).join("")}async function LR(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function BR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await LR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Go(e,t,n=!1){const r=PR();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await vC(e,`${t}-code-verifier`,o);const a=await BR(r);return[a,r===a?"plain":"s256"]}const FR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UR(e){const t=e.headers.get(Q0);if(!t||!t.match(FR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function VR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yo(e){if(!HR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var WR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const eo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$R=[502,503,504];async function vx(e){var t;if(!OR(e))throw new Z0(eo(e),0);if($R.includes(e.status))throw new Z0(eo(e),e.status);let n;try{n=await e.json()}catch(a){throw new mC(eo(a),a)}let r;const o=UR(e);if(o&&o.getTime()>=gC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new gx(eo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ni}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,h)=>a&&typeof h=="string",!0))throw new gx(eo(n),e.status,n.weak_password.reasons);throw new yR(eo(n),e.status||500,r)}const GR=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function et(e,t,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[Q0]||(a[Q0]=gC["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const h=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(h.redirect_to=r.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",x=await YR(e,t,n+p,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(x):{data:Object.assign({},x),error:null}}async function YR(e,t,n,r,o,a){const h=GR(t,r,o,a);let p;try{p=await e(n,Object.assign({},h))}catch(x){throw console.error(x),new Z0(eo(x),0)}if(p.ok||await vx(p),r!=null&&r.noResolveJson)return p;try{return await p.json()}catch(x){await vx(x)}}function As(e){var t;let n=null;QR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=IR(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function wx(e){const t=As(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function li(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qR(e){return{data:e,error:null}}function XR(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=e,h=WR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},x=Object.assign({},h);return{data:{properties:p,user:x},error:null}}function KR(e){return e}function QR(e){return e.access_token&&e.refresh_token&&e.expires_in}const kf=["global","local","others"];var ZR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class JR{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=yC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=kf[0]){if(kf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kf.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:li})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ZR(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:XR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:li})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,a,h,p,x;try{const m={nextPage:null,lastPage:0,total:0},v=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:KR});if(v.error)throw v.error;const w=await v.json(),C=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,I=(x=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&x!==void 0?x:[];return I.length>0&&(I.forEach(j=>{const T=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(j.split(";")[1].split("=")[1]);m[`${R}Page`]=T}),m.total=parseInt(C)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Ge(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Yo(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:li})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Yo(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:li})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Yo(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:li})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Yo(t.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Yo(t.userId),Yo(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}}const eO={getItem:e=>Ll()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ll()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ll()&&globalThis.localStorage.removeItem(e)}};function bx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function tO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qo={debug:!!(globalThis&&Ll()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nO extends wC{}async function rO(e,t,n){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}tO();const sO={url:fR,storageKey:pR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cx(e,t,n){return await n()}class cc{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cc.nextInstanceID,cc.nextInstanceID+=1,this.instanceID>0&&Vr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},sO),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new JR({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=yC(o.fetch),this.lock=o.lock||Cx,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Vr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rO:this.lock=Cx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Ll()?this.storage=eO:(this.memoryStorage={},this.storage=bx(this.memoryStorage)):(this.memoryStorage={},this.storage=bx(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=RR(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Vr()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),bR(a)){const x=(t=a.details)===null||t===void 0?void 0:t.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:h,redirectType:p}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?{error:n}:{error:new mC("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:As}),{data:h,error:p}=a;if(p||!h)return{data:{user:null,session:null},error:p};const x=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:m,session:x},error:null}}catch(a){if(Ge(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,o;try{let a;if("email"in t){const{email:v,password:w,options:C}=t;let I=null,j=null;this.flowType==="pkce"&&([I,j]=await Go(this.storage,this.storageKey)),a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C==null?void 0:C.emailRedirectTo,body:{email:v,password:w,data:(n=C==null?void 0:C.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken},code_challenge:I,code_challenge_method:j},xform:As})}else if("phone"in t){const{phone:v,password:w,options:C}=t;a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(r=C==null?void 0:C.data)!==null&&r!==void 0?r:{},channel:(o=C==null?void 0:C.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken}},xform:As})}else throw new fu("You must provide either an email or phone number and a password");const{data:h,error:p}=a;if(p||!h)return{data:{user:null,session:null},error:p};const x=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:m,session:x},error:null}}catch(a){if(Ge(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:h,options:p}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:wx})}else if("phone"in t){const{phone:a,password:h,options:p}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:wx})}else throw new fu("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new hu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,o,a,h,p,x,m,v,w,C,I;let j,T;if("message"in t)j=t.message,T=t.signature;else{const{chain:R,wallet:_,statement:S,options:N}=t;let P;if(Vr())if(typeof _=="object")P=_;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))P=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=_}const O=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const F=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),S?{statement:S}:null));let D;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")D=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)D=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)j=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),T=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${O.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(o=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((x=N==null?void 0:N.signInWithSolana)===null||x===void 0)&&x.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((w=(v=N==null?void 0:N.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...N.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const F=await P.signMessage(new TextEncoder().encode(j),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=F}}try{const{data:R,error:_}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:TR(T)},!((C=t.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(I=t.options)===null||I===void 0?void 0:I.captchaToken}}:null),xform:As});if(_)throw _;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new hu}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:_})}catch(R){if(Ge(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(t){const n=await gu(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:h}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:As});if(await mu(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new hu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:h})}catch(a){if(Ge(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:a,nonce:h}=t,p=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:As}),{data:x,error:m}=p;return m?{data:{user:null,session:null},error:m}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new hu}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:x,error:m})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,a,h;try{if("email"in t){const{email:p,options:x}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Go(this.storage,this.storageKey));const{error:w}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},create_user:(r=x==null?void 0:x.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:x==null?void 0:x.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in t){const{phone:p,options:x}=t,{data:m,error:v}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(o=x==null?void 0:x.data)!==null&&o!==void 0?o:{},create_user:(a=x==null?void 0:x.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},channel:(h=x==null?void 0:x.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:v}}throw new fu("You must provide either an email or phone number.")}catch(p){if(Ge(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(t){var n,r;try{let o,a;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:p}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:As});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const x=h.session,m=h.user;return x!=null&&x.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),{data:{user:m,session:x},error:null}}catch(o){if(Ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let a=null,h=null;return this.flowType==="pkce"&&([a,h]=await Go(this.storage,this.storageKey)),await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:h}),headers:this.headers,xform:qR})}catch(a){if(Ge(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ni;const{error:o}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Ge(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:a}=t,{error:h}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in t){const{phone:r,type:o,options:a}=t,{data:h,error:p}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new fu("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await gu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<jf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let h=this.suppressGetSessionWarning;t=new Proxy(t,{get:(x,m,v)=>(!h&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(x,m,v))})}return{data:{session:t},error:null}}const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:li}):await this._useSession(async n=>{var r,o,a;const{data:h,error:p}=n;if(p)throw p;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ni}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:li})})}catch(n){if(Ge(n))return wR(n)&&(await this._removeSession(),await mu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new ni;const h=o.session;let p=null,x=null;this.flowType==="pkce"&&t.email!=null&&([p,x]=await Go(this.storage,this.storageKey));const{data:m,error:v}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:x}),jwt:h.access_token,xform:li});if(v)throw v;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ni;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:h}=Of(t.access_token);if(h.exp&&(r=h.exp,o=r<=n),o){const{session:p,error:x}=await this._callRefreshToken(t.refresh_token);if(x)return{data:{user:null,session:null},error:x};if(!p)return{data:{user:null,session:null},error:null};a=p}else{const{data:p,error:x}=await this._getUser(t.access_token);if(x)throw x;a={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:h,error:p}=n;if(p)throw p;t=(r=h.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ni;const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Vr())throw new pu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new px("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new px("No code detected.");const{data:S,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:h,expires_in:p,expires_at:x,token_type:m}=t;if(!a||!p||!h||!m)throw new pu("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(p);let C=v+w;x&&(C=parseInt(x));const I=C-v;I*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${I}s, should have been closer to ${w}s`);const j=C-w;v-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,C,v):v-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,C,v);const{data:T,error:R}=await this._getUser(a);if(R)throw R;const _={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:w,expires_at:C,refresh_token:h,token_type:m,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(r){if(Ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await gu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const h=(r=o.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:p}=await this.admin.signOut(h,t);if(p&&!(vR(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return t!=="others"&&(await this._removeSession(),await mu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=jR(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:h}=n;if(h)throw h;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Go(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ge(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var h,p,x,m,v;const{data:w,error:C}=a;if(C)throw C;const I=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(h=t.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(x=t.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",I,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Vr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ge(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:h}=n;if(h)throw h;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await MR(async o=>(o>0&&await kR(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:As})),(o,a)=>{const h=200*Math.pow(2,o);return a&&Rf(a)&&Date.now()+h-r<Xo})}catch(r){if(this._debug(n,"error",r),Ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Vr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await gu(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<jf;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${jf}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),Rf(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ni;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ph;const{data:a,error:h}=await this._refreshAccessToken(t);if(h)throw h;if(!a.session)throw new ni;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const p={session:a.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(a){if(this._debug(o,"error",a),Ge(a)){const h={session:null,error:a};return Rf(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,n)}catch(x){a.push(x)}});if(await Promise.all(h),a.length>0){for(let p=0;p<a.length;p+=1)console.error(a[p]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await vC(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await mu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Xo}ms, refresh threshold is ${K0} ticks`),o<=K0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,h]=await Go(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(p.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:h}=n;if(h)return{data:null,error:h};const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:x,error:m}=await et(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((o=x==null?void 0:x.totp)===null||o===void 0)&&o.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),{data:x,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:h,error:p}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],o=r.filter(h=>h.factor_type==="totp"&&h.status==="verified"),a=r.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:r,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Of(o.access_token);let p=null;h.aal&&(p=h.aal);let x=p;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(x="aal2");const v=h.amr||[];return{data:{currentLevel:p,nextLevel:x,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(h=>h.kid===t);if(r||(r=this.jwks.keys.find(h=>h.kid===t),r&&this.jwks_cached_at+xR>Date.now()))return r;const{data:o,error:a}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!o.keys||o.keys.length===0)throw new Pl("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(h=>h.kid===t),!r)throw new Pl("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:I,error:j}=await this.getSession();if(j||!I.session)return{data:null,error:j};r=I.session.access_token}const{header:o,payload:a,signature:h,raw:{header:p,payload:x}}=Of(r);if(zR(a.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:I}=await this.getUser(r);if(I)throw I;return{data:{claims:a,header:o,signature:h},error:null}}const m=VR(o.alg),v=await this.fetchJwk(o.kid,n),w=await crypto.subtle.importKey("jwk",v,m,!0,["verify"]);if(!await crypto.subtle.verify(m,w,h,AR(`${p}.${x}`)))throw new Pl("Invalid JWT signature");return{data:{claims:a,header:o,signature:h},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}}cc.nextInstanceID=0;const iO=cc;class oO extends iO{constructor(t){super(t)}}var aO=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})};class lO{constructor(t,n,r){var o,a,h;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const p=dR(t),x=new URL(p);this.realtimeUrl=new URL("realtime/v1",x),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",x),this.storageUrl=new URL("storage/v1",x),this.functionsUrl=new URL("functions/v1",x);const m=`sb-${x.hostname.split(".")[0]}-auth-token`,v={db:rR,realtime:iR,auth:Object.assign(Object.assign({},sR),{storageKey:m}),global:nR},w=hR(r??{},v);this.storageKey=(o=w.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=w.global.headers)!==null&&a!==void 0?a:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(C,I)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(I)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=w.auth)!==null&&h!==void 0?h:{},this.headers,w.global.fetch),this.fetch=cR(n,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new _6(new URL("rest/v1",x).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),w.accessToken||this._listenForAuthEvents()}get functions(){return new t6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new J6(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return aO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:a,flowType:h,lock:p,debug:x},m,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oO({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),m),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:h,lock:p,debug:x,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new U6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cO=(e,t,n)=>new lO(e,t,n),uO="https://zaizrscurbgnvpvuxzlz.supabase.co",dO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphaXpyc2N1cmJnbnZwdnV4emx6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5Mzc0MTgsImV4cCI6MjA2NzUxMzQxOH0.4-C7kp0woj-vmL_I-KAXpfkOjVSdyDx6vHwk5AbjMJM",Pe=cO(uO,dO,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),hO=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(!0),[o,a]=E.useState([]),[h,p]=E.useState([]),[x,m]=E.useState([]),[v,w]=E.useState([]),[C,I]=E.useState(null),[j,T]=E.useState([{title:"Total Items",value:"0",change:"Loading...",icon:es,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Low Stock Alerts",value:"0",change:"Loading...",icon:Ri,color:"text-yellow-600",bgColor:"bg-yellow-50"},{title:"Items Expiring Soon",value:"0",change:"Loading...",icon:yo,color:"text-red-600",bgColor:"bg-red-50"},{title:"Monthly Usage",value:"Rs0",change:"Loading...",icon:ku,color:"text-green-600",bgColor:"bg-green-50"}]);E.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:S}=await Pe.from("system_configuration").select("*").limit(1).single();S&&I(S);const{data:N}=await Pe.from("inventory_items").select(`
          *,
          inventory_categories(name),
          supplier:suppliers(name)
        `).order("name");if(N){a(N);const P=N.filter(se=>se.current_stock<=se.minimum_stock).sort((se,X)=>se.current_stock/se.minimum_stock-X.current_stock/X.minimum_stock).slice(0,5);p(P);const O=new Date,F=(S==null?void 0:S.expiry_warning_days)||30,D=new Date;D.setDate(O.getDate()+F);const U=N.filter(se=>{if(!se.expiry_date)return!1;const X=new Date(se.expiry_date);return X<=D&&X>=O}).sort((se,X)=>{const de=new Date(se.expiry_date),te=new Date(X.expiry_date);return de.getTime()-te.getTime()}).slice(0,3);m(U);const V=[...j];V[0].value=N.length.toString(),V[0].change=`${N.length} total items`,V[1].value=P.length.toString(),V[1].change=`${Math.round(P.length/N.length*100)}% of inventory`,V[2].value=U.length.toString(),V[2].change=`Next ${F} days`;const re=N.reduce((se,X)=>se+X.unit_price*(X.minimum_stock/2),0);V[3].value=`Rs. ${Math.round(re).toLocaleString()}`,V[3].change="Estimated monthly",T(V)}if(N&&N.length>0){const P=[],O=N.slice(0,4),F=["Stock Added","Item Used","New Item Added","Stock Alert"],D=["2 hours ago","4 hours ago","6 hours ago","8 hours ago"],U=["Dr. Smith","Dr. Johnson","Admin","System"];O.forEach((V,re)=>{P.push({id:re.toString(),action:F[re],item:V.name,quantity:re===3?"Below minimum":`${Math.floor(Math.random()*10)+1} ${V.unit_of_measurement}`,time:D[re],user:U[re]})}),w(P)}}catch(S){console.error("Error fetching dashboard data:",S)}finally{r(!1)}},_=S=>{const N=new Date,O=new Date(S).getTime()-N.getTime();return Math.ceil(O/(1e3*60*60*24))};return n?c.jsx("div",{className:"p-6",children:"Loading dashboard data..."}):c.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-dental-dark",children:"Dashboard"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's your inventory overview."})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(ge,{placeholder:"Search inventory...",value:e,onChange:S=>t(S.target.value),className:"pl-10 w-80"})]}),c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:j.map(S=>c.jsx(Qe,{className:"card-hover",children:c.jsx(Ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:S.title}),c.jsx("p",{className:"text-2xl font-bold text-dental-dark mt-1",children:S.value}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:S.change})]}),c.jsx("div",{className:`${S.bgColor} p-3 rounded-lg`,children:c.jsx(S.icon,{className:`h-6 w-6 ${S.color}`})})]})})},S.title))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Qe,{className:"card-hover",children:[c.jsxs(Sn,{className:"pb-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(En,{className:"text-lg font-semibold flex items-center",children:[c.jsx(Ri,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Low Stock Alerts"]}),c.jsxs(xt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[h.length," items"]})]}),c.jsx(_n,{children:"Items that need restocking"})]}),c.jsx(Ze,{className:"space-y-4",children:h.length===0?c.jsx("div",{className:"text-center py-4 text-gray-500",children:"No low stock items"}):h.map(S=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-dental-dark",children:S.name}),c.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[c.jsxs("span",{className:"text-sm text-gray-600",children:["Current: ",S.current_stock," ",S.unit_of_measurement]}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Min: ",S.minimum_stock," ",S.unit_of_measurement]})]}),c.jsx(kl,{value:S.current_stock/S.minimum_stock*100,className:"mt-2 h-2"})]}),c.jsx(xt,{variant:S.current_stock===0?"destructive":"secondary",className:S.current_stock===0?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:S.current_stock===0?"critical":"low"})]},S.id))})]}),c.jsxs(Qe,{className:"card-hover",children:[c.jsxs(Sn,{className:"pb-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(En,{className:"text-lg font-semibold flex items-center",children:[c.jsx(yo,{className:"h-5 w-5 text-red-500 mr-2"}),"Expiring Soon"]}),c.jsxs(xt,{variant:"secondary",className:"bg-red-100 text-red-800",children:[x.length," items"]})]}),c.jsxs(_n,{children:["Items expiring in the next ",(C==null?void 0:C.expiry_warning_days)||30," days"]})]}),c.jsx(Ze,{className:"space-y-4",children:x.length===0?c.jsx("div",{className:"text-center py-4 text-gray-500",children:"No items expiring soon"}):x.map(S=>{const N=_(S.expiry_date);return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-dental-dark",children:S.name}),c.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[c.jsxs("span",{className:"text-sm text-gray-600",children:["Batch: ",S.sku||"N/A"]}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Expires: ",new Date(S.expiry_date).toLocaleDateString()]})]})]}),c.jsxs(xt,{variant:N<=15?"destructive":"secondary",className:N<=15?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800",children:[N," days"]})]},S.id)})})]})]}),c.jsxs(Qe,{className:"card-hover",children:[c.jsxs(Sn,{className:"pb-3",children:[c.jsxs(En,{className:"text-lg font-semibold flex items-center",children:[c.jsx(Uw,{className:"h-5 w-5 text-dental-primary mr-2"}),"Recent Activity"]}),c.jsx(_n,{children:"Latest inventory transactions and updates"})]}),c.jsx(Ze,{children:c.jsx("div",{className:"space-y-4",children:v.map(S=>c.jsxs("div",{className:"flex items-center space-x-4 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[c.jsx("div",{className:"w-2 h-2 bg-dental-primary rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-dental-dark",children:S.action}),c.jsx(xt,{variant:"outline",className:"text-xs",children:S.item})]}),c.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600",children:[c.jsx("span",{children:S.quantity}),c.jsx("span",{children:"•"}),c.jsx("span",{children:S.time}),c.jsx("span",{children:"•"}),c.jsxs("span",{children:["by ",S.user]})]})]})]},S.id))})})]})]})},cn=jb,uc=dj,fO=Rb,bC=E.forwardRef(({className:e,...t},n)=>c.jsx(sh,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));bC.displayName=sh.displayName;const Jt=E.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(fO,{children:[c.jsx(bC,{}),c.jsxs(ih,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(Ob,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(ho,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jt.displayName=ih.displayName;const en=({className:e,...t})=>c.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});en.displayName="DialogHeader";const CC=({className:e,...t})=>c.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});CC.displayName="DialogFooter";const tn=E.forwardRef(({className:e,...t},n)=>c.jsx(oh,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...t}));tn.displayName=oh.displayName;const Pn=E.forwardRef(({className:e,...t},n)=>c.jsx(ah,{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));Pn.displayName=ah.displayName;var pO="Label",SC=E.forwardRef((e,t)=>c.jsx(He.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SC.displayName=pO;var EC=SC;const gO=Va("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=E.forwardRef(({className:e,...t},n)=>c.jsx(EC,{ref:n,className:Ae(gO(),e),...t}));ne.displayName=EC.displayName;function Sx(e,[t,n]){return Math.min(n,Math.max(t,e))}var mO=E.createContext(void 0);function kp(e){const t=E.useContext(mO);return e||t||"ltr"}function _C(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xO=[" ","Enter","ArrowUp","ArrowDown"],yO=[" ","Enter"],Nc="Select",[gh,mh,vO]=np(Nc),[Ka,IM]=za(Nc,[vO,Yd]),xh=Yd(),[wO,Vi]=Ka(Nc),[bO,CO]=Ka(Nc),NC=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:h,defaultValue:p,onValueChange:x,dir:m,name:v,autoComplete:w,disabled:C,required:I,form:j}=e,T=xh(t),[R,_]=E.useState(null),[S,N]=E.useState(null),[P,O]=E.useState(!1),F=kp(m),[D=!1,U]=Ii({prop:r,defaultProp:o,onChange:a}),[V,re]=Ii({prop:h,defaultProp:p,onChange:x}),se=E.useRef(null),X=R?j||!!R.closest("form"):!0,[de,te]=E.useState(new Set),$=Array.from(de).map(oe=>oe.props.value).join(";");return c.jsx(b2,{...T,children:c.jsxs(wO,{required:I,scope:t,trigger:R,onTriggerChange:_,valueNode:S,onValueNodeChange:N,valueNodeHasChildren:P,onValueNodeHasChildrenChange:O,contentId:Ds(),value:V,onValueChange:re,open:D,onOpenChange:U,dir:F,triggerPointerDownPosRef:se,disabled:C,children:[c.jsx(gh.Provider,{scope:t,children:c.jsx(bO,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(oe=>{te(ce=>new Set(ce).add(oe))},[]),onNativeOptionRemove:E.useCallback(oe=>{te(ce=>{const K=new Set(ce);return K.delete(oe),K})},[]),children:n})}),X?c.jsxs(QC,{"aria-hidden":!0,required:I,tabIndex:-1,name:v,autoComplete:w,value:V,onChange:oe=>re(oe.target.value),disabled:C,form:j,children:[V===void 0?c.jsx("option",{value:""}):null,Array.from(de)]},$):null]})})};NC.displayName=Nc;var AC="SelectTrigger",TC=E.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=xh(n),h=Vi(AC,n),p=h.disabled||r,x=wt(t,h.onTriggerChange),m=mh(n),v=E.useRef("touch"),[w,C,I]=ZC(T=>{const R=m().filter(N=>!N.disabled),_=R.find(N=>N.value===h.value),S=JC(R,T,_);S!==void 0&&h.onValueChange(S.value)}),j=T=>{p||(h.onOpenChange(!0),I()),T&&(h.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return c.jsx(C2,{asChild:!0,...a,children:c.jsx(He.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":KC(h.value)?"":void 0,...o,ref:x,onClick:Ue(o.onClick,T=>{T.currentTarget.focus(),v.current!=="mouse"&&j(T)}),onPointerDown:Ue(o.onPointerDown,T=>{v.current=T.pointerType;const R=T.target;R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(j(T),T.preventDefault())}),onKeyDown:Ue(o.onKeyDown,T=>{const R=w.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&C(T.key),!(R&&T.key===" ")&&xO.includes(T.key)&&(j(),T.preventDefault())})})})});TC.displayName=AC;var IC="SelectValue",jC=E.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:h="",...p}=e,x=Vi(IC,n),{onValueNodeHasChildrenChange:m}=x,v=a!==void 0,w=wt(t,x.onValueNodeChange);return Bn(()=>{m(v)},[m,v]),c.jsx(He.span,{...p,ref:w,style:{pointerEvents:"none"},children:KC(x.value)?c.jsx(c.Fragment,{children:h}):a})});jC.displayName=IC;var SO="SelectIcon",RC=E.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return c.jsx(He.span,{"aria-hidden":!0,...o,ref:t,children:r||"▼"})});RC.displayName=SO;var EO="SelectPortal",OC=e=>c.jsx(zd,{asChild:!0,...e});OC.displayName=EO;var bo="SelectContent",kC=E.forwardRef((e,t)=>{const n=Vi(bo,e.__scopeSelect),[r,o]=E.useState();if(Bn(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?Eo.createPortal(c.jsx(MC,{scope:e.__scopeSelect,children:c.jsx(gh.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),a):null}return c.jsx(DC,{...e,ref:t})});kC.displayName=bo;var Hr=10,[MC,Hi]=Ka(bo),_O="SelectContentImpl",DC=E.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:h,side:p,sideOffset:x,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:C,collisionPadding:I,sticky:j,hideWhenDetached:T,avoidCollisions:R,..._}=e,S=Vi(bo,n),[N,P]=E.useState(null),[O,F]=E.useState(null),D=wt(t,Ne=>P(Ne)),[U,V]=E.useState(null),[re,se]=E.useState(null),X=mh(n),[de,te]=E.useState(!1),$=E.useRef(!1);E.useEffect(()=>{if(N)return fb(N)},[N]),sb();const oe=E.useCallback(Ne=>{const[Re,...st]=X().map(Ce=>Ce.ref.current),[G]=st.slice(-1),Se=document.activeElement;for(const Ce of Ne)if(Ce===Se||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===Re&&O&&(O.scrollTop=0),Ce===G&&O&&(O.scrollTop=O.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==Se))return},[X,O]),ce=E.useCallback(()=>oe([U,N]),[oe,U,N]);E.useEffect(()=>{de&&ce()},[de,ce]);const{onOpenChange:K,triggerPointerDownPosRef:ae}=S;E.useEffect(()=>{if(N){let Ne={x:0,y:0};const Re=G=>{var Se,Ce;Ne={x:Math.abs(Math.round(G.pageX)-(((Se=ae.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(G.pageY)-(((Ce=ae.current)==null?void 0:Ce.y)??0))}},st=G=>{Ne.x<=10&&Ne.y<=10?G.preventDefault():N.contains(G.target)||K(!1),document.removeEventListener("pointermove",Re),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",st,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",st,{capture:!0})}}},[N,K,ae]),E.useEffect(()=>{const Ne=()=>K(!1);return window.addEventListener("blur",Ne),window.addEventListener("resize",Ne),()=>{window.removeEventListener("blur",Ne),window.removeEventListener("resize",Ne)}},[K]);const[we,xe]=ZC(Ne=>{const Re=X().filter(Se=>!Se.disabled),st=Re.find(Se=>Se.ref.current===document.activeElement),G=JC(Re,Ne,st);G&&setTimeout(()=>G.ref.current.focus())}),be=E.useCallback((Ne,Re,st)=>{const G=!$.current&&!st;(S.value!==void 0&&S.value===Re||G)&&(V(Ne),G&&($.current=!0))},[S.value]),ke=E.useCallback(()=>N==null?void 0:N.focus(),[N]),Q=E.useCallback((Ne,Re,st)=>{const G=!$.current&&!st;(S.value!==void 0&&S.value===Re||G)&&se(Ne)},[S.value]),Ee=r==="popper"?J0:PC,Z=Ee===J0?{side:p,sideOffset:x,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:C,collisionPadding:I,sticky:j,hideWhenDetached:T,avoidCollisions:R}:{};return c.jsx(MC,{scope:n,content:N,viewport:O,onViewportChange:F,itemRefCallback:be,selectedItem:U,onItemLeave:ke,itemTextRefCallback:Q,focusSelectedItem:ce,selectedItemText:re,position:r,isPositioned:de,searchRef:we,children:c.jsx(bp,{as:Mr,allowPinchZoom:!0,children:c.jsx(wp,{asChild:!0,trapped:S.open,onMountAutoFocus:Ne=>{Ne.preventDefault()},onUnmountAutoFocus:Ue(o,Ne=>{var Re;(Re=S.trigger)==null||Re.focus({preventScroll:!0}),Ne.preventDefault()}),children:c.jsx(yc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:h,onFocusOutside:Ne=>Ne.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:c.jsx(Ee,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:Ne=>Ne.preventDefault(),..._,...Z,onPlaced:()=>te(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ue(_.onKeyDown,Ne=>{const Re=Ne.ctrlKey||Ne.altKey||Ne.metaKey;if(Ne.key==="Tab"&&Ne.preventDefault(),!Re&&Ne.key.length===1&&xe(Ne.key),["ArrowUp","ArrowDown","Home","End"].includes(Ne.key)){let G=X().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(Ne.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ne.key)){const Se=Ne.target,Ce=G.indexOf(Se);G=G.slice(Ce+1)}setTimeout(()=>oe(G)),Ne.preventDefault()}})})})})})})});DC.displayName=_O;var NO="SelectItemAlignedPosition",PC=E.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=Vi(bo,n),h=Hi(bo,n),[p,x]=E.useState(null),[m,v]=E.useState(null),w=wt(t,D=>v(D)),C=mh(n),I=E.useRef(!1),j=E.useRef(!0),{viewport:T,selectedItem:R,selectedItemText:_,focusSelectedItem:S}=h,N=E.useCallback(()=>{if(a.trigger&&a.valueNode&&p&&m&&T&&R&&_){const D=a.trigger.getBoundingClientRect(),U=m.getBoundingClientRect(),V=a.valueNode.getBoundingClientRect(),re=_.getBoundingClientRect();if(a.dir!=="rtl"){const Se=re.left-U.left,Ce=V.left-Se,De=D.left-Ce,Lt=D.width+De,sn=Math.max(Lt,U.width),dn=window.innerWidth-Hr,Nt=Sx(Ce,[Hr,Math.max(Hr,dn-sn)]);p.style.minWidth=Lt+"px",p.style.left=Nt+"px"}else{const Se=U.right-re.right,Ce=window.innerWidth-V.right-Se,De=window.innerWidth-D.right-Ce,Lt=D.width+De,sn=Math.max(Lt,U.width),dn=window.innerWidth-Hr,Nt=Sx(Ce,[Hr,Math.max(Hr,dn-sn)]);p.style.minWidth=Lt+"px",p.style.right=Nt+"px"}const se=C(),X=window.innerHeight-Hr*2,de=T.scrollHeight,te=window.getComputedStyle(m),$=parseInt(te.borderTopWidth,10),oe=parseInt(te.paddingTop,10),ce=parseInt(te.borderBottomWidth,10),K=parseInt(te.paddingBottom,10),ae=$+oe+de+K+ce,we=Math.min(R.offsetHeight*5,ae),xe=window.getComputedStyle(T),be=parseInt(xe.paddingTop,10),ke=parseInt(xe.paddingBottom,10),Q=D.top+D.height/2-Hr,Ee=X-Q,Z=R.offsetHeight/2,Ne=R.offsetTop+Z,Re=$+oe+Ne,st=ae-Re;if(Re<=Q){const Se=se.length>0&&R===se[se.length-1].ref.current;p.style.bottom="0px";const Ce=m.clientHeight-T.offsetTop-T.offsetHeight,De=Math.max(Ee,Z+(Se?ke:0)+Ce+ce),Lt=Re+De;p.style.height=Lt+"px"}else{const Se=se.length>0&&R===se[0].ref.current;p.style.top="0px";const De=Math.max(Q,$+T.offsetTop+(Se?be:0)+Z)+st;p.style.height=De+"px",T.scrollTop=Re-Q+T.offsetTop}p.style.margin=`${Hr}px 0`,p.style.minHeight=we+"px",p.style.maxHeight=X+"px",r==null||r(),requestAnimationFrame(()=>I.current=!0)}},[C,a.trigger,a.valueNode,p,m,T,R,_,a.dir,r]);Bn(()=>N(),[N]);const[P,O]=E.useState();Bn(()=>{m&&O(window.getComputedStyle(m).zIndex)},[m]);const F=E.useCallback(D=>{D&&j.current===!0&&(N(),S==null||S(),j.current=!1)},[N,S]);return c.jsx(TO,{scope:n,contentWrapper:p,shouldExpandOnScrollRef:I,onScrollButtonChange:F,children:c.jsx("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:c.jsx(He.div,{...o,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});PC.displayName=NO;var AO="SelectPopperPosition",J0=E.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Hr,...a}=e,h=xh(n);return c.jsx(S2,{...h,...a,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});J0.displayName=AO;var[TO,Mp]=Ka(bo,{}),e1="SelectViewport",LC=E.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,a=Hi(e1,n),h=Mp(e1,n),p=wt(t,a.onViewportChange),x=E.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(gh.Slot,{scope:n,children:c.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ue(o.onScroll,m=>{const v=m.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:C}=h;if(C!=null&&C.current&&w){const I=Math.abs(x.current-v.scrollTop);if(I>0){const j=window.innerHeight-Hr*2,T=parseFloat(w.style.minHeight),R=parseFloat(w.style.height),_=Math.max(T,R);if(_<j){const S=_+I,N=Math.min(j,S),P=S-N;w.style.height=N+"px",w.style.bottom==="0px"&&(v.scrollTop=P>0?P:0,w.style.justifyContent="flex-end")}}}x.current=v.scrollTop})})})]})});LC.displayName=e1;var BC="SelectGroup",[IO,jO]=Ka(BC),RO=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Ds();return c.jsx(IO,{scope:n,id:o,children:c.jsx(He.div,{role:"group","aria-labelledby":o,...r,ref:t})})});RO.displayName=BC;var FC="SelectLabel",UC=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=jO(FC,n);return c.jsx(He.div,{id:o.id,...r,ref:t})});UC.displayName=FC;var Cd="SelectItem",[OO,zC]=Ka(Cd),VC=E.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...h}=e,p=Vi(Cd,n),x=Hi(Cd,n),m=p.value===r,[v,w]=E.useState(a??""),[C,I]=E.useState(!1),j=wt(t,S=>{var N;return(N=x.itemRefCallback)==null?void 0:N.call(x,S,r,o)}),T=Ds(),R=E.useRef("touch"),_=()=>{o||(p.onValueChange(r),p.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(OO,{scope:n,value:r,disabled:o,textId:T,isSelected:m,onItemTextChange:E.useCallback(S=>{w(N=>N||((S==null?void 0:S.textContent)??"").trim())},[]),children:c.jsx(gh.ItemSlot,{scope:n,value:r,disabled:o,textValue:v,children:c.jsx(He.div,{role:"option","aria-labelledby":T,"data-highlighted":C?"":void 0,"aria-selected":m&&C,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...h,ref:j,onFocus:Ue(h.onFocus,()=>I(!0)),onBlur:Ue(h.onBlur,()=>I(!1)),onClick:Ue(h.onClick,()=>{R.current!=="mouse"&&_()}),onPointerUp:Ue(h.onPointerUp,()=>{R.current==="mouse"&&_()}),onPointerDown:Ue(h.onPointerDown,S=>{R.current=S.pointerType}),onPointerMove:Ue(h.onPointerMove,S=>{var N;R.current=S.pointerType,o?(N=x.onItemLeave)==null||N.call(x):R.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(h.onPointerLeave,S=>{var N;S.currentTarget===document.activeElement&&((N=x.onItemLeave)==null||N.call(x))}),onKeyDown:Ue(h.onKeyDown,S=>{var P;((P=x.searchRef)==null?void 0:P.current)!==""&&S.key===" "||(yO.includes(S.key)&&_(),S.key===" "&&S.preventDefault())})})})})});VC.displayName=Cd;var Cl="SelectItemText",HC=E.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,h=Vi(Cl,n),p=Hi(Cl,n),x=zC(Cl,n),m=CO(Cl,n),[v,w]=E.useState(null),C=wt(t,_=>w(_),x.onItemTextChange,_=>{var S;return(S=p.itemTextRefCallback)==null?void 0:S.call(p,_,x.value,x.disabled)}),I=v==null?void 0:v.textContent,j=E.useMemo(()=>c.jsx("option",{value:x.value,disabled:x.disabled,children:I},x.value),[x.disabled,x.value,I]),{onNativeOptionAdd:T,onNativeOptionRemove:R}=m;return Bn(()=>(T(j),()=>R(j)),[T,R,j]),c.jsxs(c.Fragment,{children:[c.jsx(He.span,{id:x.textId,...a,ref:C}),x.isSelected&&h.valueNode&&!h.valueNodeHasChildren?Eo.createPortal(a.children,h.valueNode):null]})});HC.displayName=Cl;var WC="SelectItemIndicator",$C=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return zC(WC,n).isSelected?c.jsx(He.span,{"aria-hidden":!0,...r,ref:t}):null});$C.displayName=WC;var t1="SelectScrollUpButton",GC=E.forwardRef((e,t)=>{const n=Hi(t1,e.__scopeSelect),r=Mp(t1,e.__scopeSelect),[o,a]=E.useState(!1),h=wt(t,r.onScrollButtonChange);return Bn(()=>{if(n.viewport&&n.isPositioned){let p=function(){const m=x.scrollTop>0;a(m)};const x=n.viewport;return p(),x.addEventListener("scroll",p),()=>x.removeEventListener("scroll",p)}},[n.viewport,n.isPositioned]),o?c.jsx(qC,{...e,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:x}=n;p&&x&&(p.scrollTop=p.scrollTop-x.offsetHeight)}}):null});GC.displayName=t1;var n1="SelectScrollDownButton",YC=E.forwardRef((e,t)=>{const n=Hi(n1,e.__scopeSelect),r=Mp(n1,e.__scopeSelect),[o,a]=E.useState(!1),h=wt(t,r.onScrollButtonChange);return Bn(()=>{if(n.viewport&&n.isPositioned){let p=function(){const m=x.scrollHeight-x.clientHeight,v=Math.ceil(x.scrollTop)<m;a(v)};const x=n.viewport;return p(),x.addEventListener("scroll",p),()=>x.removeEventListener("scroll",p)}},[n.viewport,n.isPositioned]),o?c.jsx(qC,{...e,ref:h,onAutoScroll:()=>{const{viewport:p,selectedItem:x}=n;p&&x&&(p.scrollTop=p.scrollTop+x.offsetHeight)}}):null});YC.displayName=n1;var qC=E.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,a=Hi("SelectScrollButton",n),h=E.useRef(null),p=mh(n),x=E.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return E.useEffect(()=>()=>x(),[x]),Bn(()=>{var v;const m=p().find(w=>w.ref.current===document.activeElement);(v=m==null?void 0:m.ref.current)==null||v.scrollIntoView({block:"nearest"})},[p]),c.jsx(He.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ue(o.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(r,50))}),onPointerMove:Ue(o.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),h.current===null&&(h.current=window.setInterval(r,50))}),onPointerLeave:Ue(o.onPointerLeave,()=>{x()})})}),kO="SelectSeparator",XC=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(He.div,{"aria-hidden":!0,...r,ref:t})});XC.displayName=kO;var r1="SelectArrow",MO=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=xh(n),a=Vi(r1,n),h=Hi(r1,n);return a.open&&h.position==="popper"?c.jsx(E2,{...o,...r,ref:t}):null});MO.displayName=r1;function KC(e){return e===""||e===void 0}var QC=E.forwardRef((e,t)=>{const{value:n,...r}=e,o=E.useRef(null),a=wt(t,o),h=_C(n);return E.useEffect(()=>{const p=o.current,x=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(x,"value").set;if(h!==n&&v){const w=new Event("change",{bubbles:!0});v.call(p,n),p.dispatchEvent(w)}},[h,n]),c.jsx(vc,{asChild:!0,children:c.jsx("select",{...r,ref:a,defaultValue:n})})});QC.displayName="BubbleSelect";function ZC(e){const t=ir(e),n=E.useRef(""),r=E.useRef(0),o=E.useCallback(h=>{const p=n.current+h;t(p),function x(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>x(""),1e3))}(p)},[t]),a=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function JC(e,t,n){const o=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let h=DO(e,Math.max(a,0));o.length===1&&(h=h.filter(m=>m!==n));const x=h.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return x!==n?x:void 0}function DO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var PO=NC,eS=TC,LO=jC,BO=RC,FO=OC,tS=kC,UO=LC,nS=UC,rS=VC,zO=HC,VO=$C,sS=GC,iS=YC,oS=XC;const Rt=PO,Ot=LO,St=E.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(eS,{ref:r,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(BO,{asChild:!0,children:c.jsx(Fw,{className:"h-4 w-4 opacity-50"})})]}));St.displayName=eS.displayName;const aS=E.forwardRef(({className:e,...t},n)=>c.jsx(sS,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(zA,{className:"h-4 w-4"})}));aS.displayName=sS.displayName;const lS=E.forwardRef(({className:e,...t},n)=>c.jsx(iS,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(Fw,{className:"h-4 w-4"})}));lS.displayName=iS.displayName;const Et=E.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>c.jsx(FO,{children:c.jsxs(tS,{ref:o,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[c.jsx(aS,{}),c.jsx(UO,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(lS,{})]})}));Et.displayName=tS.displayName;const HO=E.forwardRef(({className:e,...t},n)=>c.jsx(nS,{ref:n,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));HO.displayName=nS.displayName;const _e=E.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(rS,{ref:r,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(VO,{children:c.jsx(UA,{className:"h-4 w-4"})})}),c.jsx(zO,{children:t})]}));_e.displayName=rS.displayName;const WO=E.forwardRef(({className:e,...t},n)=>c.jsx(oS,{ref:n,className:Ae("-mx-1 my-1 h-px bg-muted",e),...t}));WO.displayName=oS.displayName;const nn=E.forwardRef(({className:e,...t},n)=>c.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));nn.displayName="Textarea";function $O(e,t=[]){let n=[];function r(a,h){const p=E.createContext(h),x=n.length;n=[...n,h];function m(w){const{scope:C,children:I,...j}=w,T=(C==null?void 0:C[e][x])||p,R=E.useMemo(()=>j,Object.values(j));return c.jsx(T.Provider,{value:R,children:I})}function v(w,C){const I=(C==null?void 0:C[e][x])||p,j=E.useContext(I);if(j)return j;if(h!==void 0)return h;throw new Error(`\`${w}\` must be used within \`${a}\``)}return m.displayName=a+"Provider",[m,v]}const o=()=>{const a=n.map(h=>E.createContext(h));return function(p){const x=(p==null?void 0:p[e])||a;return E.useMemo(()=>({[`__scope${e}`]:{...p,[e]:x}}),[p,x])}};return o.scopeName=e,[r,GO(o,...t)]}function GO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const h=r.reduce((p,{useScope:x,scopeName:m})=>{const w=x(a)[`__scope${m}`];return{...p,...w}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var Mf="rovingFocusGroup.onEntryFocus",YO={bubbles:!1,cancelable:!0},yh="RovingFocusGroup",[s1,cS,qO]=np(yh),[XO,uS]=$O(yh,[qO]),[KO,QO]=XO(yh),dS=E.forwardRef((e,t)=>c.jsx(s1.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(s1.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(ZO,{...e,ref:t})})}));dS.displayName=yh;var ZO=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:h,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:x,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...w}=e,C=E.useRef(null),I=wt(t,C),j=kp(a),[T=null,R]=Ii({prop:h,defaultProp:p,onChange:x}),[_,S]=E.useState(!1),N=ir(m),P=cS(n),O=E.useRef(!1),[F,D]=E.useState(0);return E.useEffect(()=>{const U=C.current;if(U)return U.addEventListener(Mf,N),()=>U.removeEventListener(Mf,N)},[N]),c.jsx(KO,{scope:n,orientation:r,dir:j,loop:o,currentTabStopId:T,onItemFocus:E.useCallback(U=>R(U),[R]),onItemShiftTab:E.useCallback(()=>S(!0),[]),onFocusableItemAdd:E.useCallback(()=>D(U=>U+1),[]),onFocusableItemRemove:E.useCallback(()=>D(U=>U-1),[]),children:c.jsx(He.div,{tabIndex:_||F===0?-1:0,"data-orientation":r,...w,ref:I,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{O.current=!0}),onFocus:Ue(e.onFocus,U=>{const V=!O.current;if(U.target===U.currentTarget&&V&&!_){const re=new CustomEvent(Mf,YO);if(U.currentTarget.dispatchEvent(re),!re.defaultPrevented){const se=P().filter(oe=>oe.focusable),X=se.find(oe=>oe.active),de=se.find(oe=>oe.id===T),$=[X,de,...se].filter(Boolean).map(oe=>oe.ref.current);pS($,v)}}O.current=!1}),onBlur:Ue(e.onBlur,()=>S(!1))})})}),hS="RovingFocusGroupItem",fS=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,...h}=e,p=Ds(),x=a||p,m=QO(hS,n),v=m.currentTabStopId===x,w=cS(n),{onFocusableItemAdd:C,onFocusableItemRemove:I}=m;return E.useEffect(()=>{if(r)return C(),()=>I()},[r,C,I]),c.jsx(s1.ItemSlot,{scope:n,id:x,focusable:r,active:o,children:c.jsx(He.span,{tabIndex:v?0:-1,"data-orientation":m.orientation,...h,ref:t,onMouseDown:Ue(e.onMouseDown,j=>{r?m.onItemFocus(x):j.preventDefault()}),onFocus:Ue(e.onFocus,()=>m.onItemFocus(x)),onKeyDown:Ue(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const T=tk(j,m.orientation,m.dir);if(T!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let _=w().filter(S=>S.focusable).map(S=>S.ref.current);if(T==="last")_.reverse();else if(T==="prev"||T==="next"){T==="prev"&&_.reverse();const S=_.indexOf(j.currentTarget);_=m.loop?nk(_,S+1):_.slice(S+1)}setTimeout(()=>pS(_))}})})})});fS.displayName=hS;var JO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ek(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function tk(e,t,n){const r=ek(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return JO[r]}function pS(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function nk(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var rk=dS,sk=fS,Dp="Tabs",[ik,jM]=za(Dp,[uS]),gS=uS(),[ok,Pp]=ik(Dp),mS=E.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:h="horizontal",dir:p,activationMode:x="automatic",...m}=e,v=kp(p),[w,C]=Ii({prop:r,onChange:o,defaultProp:a});return c.jsx(ok,{scope:n,baseId:Ds(),value:w,onValueChange:C,orientation:h,dir:v,activationMode:x,children:c.jsx(He.div,{dir:v,"data-orientation":h,...m,ref:t})})});mS.displayName=Dp;var xS="TabsList",yS=E.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,a=Pp(xS,n),h=gS(n);return c.jsx(rk,{asChild:!0,...h,orientation:a.orientation,dir:a.dir,loop:r,children:c.jsx(He.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});yS.displayName=xS;var vS="TabsTrigger",wS=E.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...a}=e,h=Pp(vS,n),p=gS(n),x=SS(h.baseId,r),m=ES(h.baseId,r),v=r===h.value;return c.jsx(sk,{asChild:!0,...p,focusable:!o,active:v,children:c.jsx(He.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":m,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:x,...a,ref:t,onMouseDown:Ue(e.onMouseDown,w=>{!o&&w.button===0&&w.ctrlKey===!1?h.onValueChange(r):w.preventDefault()}),onKeyDown:Ue(e.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&h.onValueChange(r)}),onFocus:Ue(e.onFocus,()=>{const w=h.activationMode!=="manual";!v&&!o&&w&&h.onValueChange(r)})})})});wS.displayName=vS;var bS="TabsContent",CS=E.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:a,...h}=e,p=Pp(bS,n),x=SS(p.baseId,r),m=ES(p.baseId,r),v=r===p.value,w=E.useRef(v);return E.useEffect(()=>{const C=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(C)},[]),c.jsx(_o,{present:o||v,children:({present:C})=>c.jsx(He.div,{"data-state":v?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":x,hidden:!C,id:m,tabIndex:0,...h,ref:t,style:{...e.style,animationDuration:w.current?"0s":void 0},children:C&&a})})});CS.displayName=bS;function SS(e,t){return`${e}-trigger-${t}`}function ES(e,t){return`${e}-content-${t}`}var ak=mS,_S=yS,NS=wS,AS=CS;const vh=ak,Ac=E.forwardRef(({className:e,...t},n)=>c.jsx(_S,{ref:n,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ac.displayName=_S.displayName;const Ir=E.forwardRef(({className:e,...t},n)=>c.jsx(NS,{ref:n,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ir.displayName=NS.displayName;const jr=E.forwardRef(({className:e,...t},n)=>c.jsx(AS,{ref:n,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));jr.displayName=AS.displayName;var Lp="Switch",[lk,RM]=za(Lp),[ck,uk]=lk(Lp),TS=E.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:a,required:h,disabled:p,value:x="on",onCheckedChange:m,form:v,...w}=e,[C,I]=E.useState(null),j=wt(t,N=>I(N)),T=E.useRef(!1),R=C?v||!!C.closest("form"):!0,[_=!1,S]=Ii({prop:o,defaultProp:a,onChange:m});return c.jsxs(ck,{scope:n,checked:_,disabled:p,children:[c.jsx(He.button,{type:"button",role:"switch","aria-checked":_,"aria-required":h,"data-state":RS(_),"data-disabled":p?"":void 0,disabled:p,value:x,...w,ref:j,onClick:Ue(e.onClick,N=>{S(P=>!P),R&&(T.current=N.isPropagationStopped(),T.current||N.stopPropagation())})}),R&&c.jsx(dk,{control:C,bubbles:!T.current,name:r,value:x,checked:_,required:h,disabled:p,form:v,style:{transform:"translateX(-100%)"}})]})});TS.displayName=Lp;var IS="SwitchThumb",jS=E.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=uk(IS,n);return c.jsx(He.span,{"data-state":RS(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});jS.displayName=IS;var dk=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,a=E.useRef(null),h=_C(n),p=d2(t);return E.useEffect(()=>{const x=a.current,m=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==n&&w){const C=new Event("click",{bubbles:r});w.call(x,n),x.dispatchEvent(C)}},[h,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:a,style:{...e.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function RS(e){return e?"checked":"unchecked"}var OS=TS,hk=jS;const ci=E.forwardRef(({className:e,...t},n)=>c.jsx(OS,{className:Ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:c.jsx(hk,{className:Ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ci.displayName=OS.displayName;var Ie;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ie||(Ie={}));var Ex=new Map([[Ie.QR_CODE,"QR_CODE"],[Ie.AZTEC,"AZTEC"],[Ie.CODABAR,"CODABAR"],[Ie.CODE_39,"CODE_39"],[Ie.CODE_93,"CODE_93"],[Ie.CODE_128,"CODE_128"],[Ie.DATA_MATRIX,"DATA_MATRIX"],[Ie.MAXICODE,"MAXICODE"],[Ie.ITF,"ITF"],[Ie.EAN_13,"EAN_13"],[Ie.EAN_8,"EAN_8"],[Ie.PDF_417,"PDF_417"],[Ie.RSS_14,"RSS_14"],[Ie.RSS_EXPANDED,"RSS_EXPANDED"],[Ie.UPC_A,"UPC_A"],[Ie.UPC_E,"UPC_E"],[Ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),_x;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(_x||(_x={}));function fk(e){return Object.values(Ie).includes(e)}var Pi;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Pi||(Pi={}));var Xr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Pi.SCAN_TYPE_CAMERA,Pi.SCAN_TYPE_FILE],e}(),kS=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Ex.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Ex.get(t))},e}(),Nx=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),i1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(i1||(i1={}));var MS=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:i1.UNKWOWN_ERROR}},e}(),DS=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function fs(e){return typeof e>"u"||e===null}function pk(e,t,n){return e>n?n:e<t?t:e}var la=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),pt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Ax=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),PS=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(o),h=Object.keys(t),p=0,x=h;p<x.length;p++){var m=x[p];if(a.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),o1={exports:{}};(function(e,t){(function(n,r){r(t)})(Cn,function(n){function r(k){return k==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,s){k.__proto__=s}||function(k,s){for(var i in s)s.hasOwnProperty(i)&&(k[i]=s[i])};function a(k,s){o(k,s);function i(){this.constructor=k}k.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}function h(k,s){var i=Object.setPrototypeOf;i?i(k,s):k.__proto__=s}function p(k,s){s===void 0&&(s=k.constructor);var i=Error.captureStackTrace;i&&i(k,s)}var x=function(k){a(s,k);function s(i){var l=this.constructor,u=k.call(this,i)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),h(u,l.prototype),p(u),u}return s}(Error);class m extends x{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}m.kind="Exception";class v extends m{}v.kind="ArgumentException";class w extends m{}w.kind="IllegalArgumentException";class C{constructor(s){if(this.binarizer=s,s===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,i){return this.binarizer.getBlackRow(s,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,i,l,u){const d=this.binarizer.getLuminanceSource().crop(s,i,l,u);return new C(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class I extends m{static getChecksumInstance(){return new I}}I.kind="ChecksumException";class j{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(s,i,l,u,d){for(;d--;)l[u++]=s[i++]}static currentTimeMillis(){return Date.now()}}class R extends m{}R.kind="IndexOutOfBoundsException";class _ extends R{constructor(s=void 0,i=void 0){super(i),this.index=s,this.message=i}}_.kind="ArrayIndexOutOfBoundsException";class S{static fill(s,i){for(let l=0,u=s.length;l<u;l++)s[l]=i}static fillWithin(s,i,l,u){S.rangeCheck(s.length,i,l);for(let d=i;d<l;d++)s[d]=u}static rangeCheck(s,i,l){if(i>l)throw new w("fromIndex("+i+") > toIndex("+l+")");if(i<0)throw new _(i);if(l>s)throw new _(l)}static asList(...s){return s}static create(s,i,l){return Array.from({length:s}).map(d=>Array.from({length:i}).fill(l))}static createInt32Array(s,i,l){return Array.from({length:s}).map(d=>Int32Array.from({length:i}).fill(l))}static equals(s,i){if(!s||!i||!s.length||!i.length||s.length!==i.length)return!1;for(let l=0,u=s.length;l<u;l++)if(s[l]!==i[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let i=1;for(const l of s)i=31*i+l;return i}static fillUint8Array(s,i){for(let l=0;l!==s.length;l++)s[l]=i}static copyOf(s,i){return s.slice(0,i)}static copyOfUint8Array(s,i){if(s.length<=i){const l=new Uint8Array(i);return l.set(s),l}return s.slice(0,i)}static copyOfRange(s,i,l){const u=l-i,d=new Int32Array(u);return T.arraycopy(s,i,d,0,u),d}static binarySearch(s,i,l){l===void 0&&(l=S.numberComparator);let u=0,d=s.length-1;for(;u<=d;){const f=d+u>>1,g=l(i,s[f]);if(g>0)u=f+1;else if(g<0)d=f-1;else return f}return-u-1}static numberComparator(s,i){return s-i}}class N{static numberOfTrailingZeros(s){let i;if(s===0)return 32;let l=31;return i=s<<16,i!==0&&(l-=16,s=i),i=s<<8,i!==0&&(l-=8,s=i),i=s<<4,i!==0&&(l-=4,s=i),i=s<<2,i!==0&&(l-=2,s=i),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let i=1;return s>>>16||(i+=16,s<<=16),s>>>24||(i+=8,s<<=8),s>>>28||(i+=4,s<<=4),s>>>30||(i+=2,s<<=2),i-=s>>>31,i}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,i){return Math.trunc(s/i)}static parseInt(s,i=void 0){return parseInt(s,i)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(s,i){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,i==null?this.bits=P.makeArray(s):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const i=P.makeArray(s);T.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const i=this.size;if(s>=i)return i;const l=this.bits;let u=Math.floor(s/32),d=l[u];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++u===f)return i;d=l[u]}const g=u*32+N.numberOfTrailingZeros(d);return g>i?i:g}getNextUnset(s){const i=this.size;if(s>=i)return i;const l=this.bits;let u=Math.floor(s/32),d=~l[u];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++u===f)return i;d=~l[u]}const g=u*32+N.numberOfTrailingZeros(d);return g>i?i:g}setBulk(s,i){this.bits[Math.floor(s/32)]=i}setRange(s,i){if(i<s||s<0||i>this.size)throw new w;if(i===s)return;i--;const l=Math.floor(s/32),u=Math.floor(i/32),d=this.bits;for(let f=l;f<=u;f++){const g=f>l?0:s&31,b=(2<<(f<u?31:i&31))-(1<<g);d[f]|=b}}clear(){const s=this.bits.length,i=this.bits;for(let l=0;l<s;l++)i[l]=0}isRange(s,i,l){if(i<s||s<0||i>this.size)throw new w;if(i===s)return!0;i--;const u=Math.floor(s/32),d=Math.floor(i/32),f=this.bits;for(let g=u;g<=d;g++){const y=g>u?0:s&31,A=(2<<(g<d?31:i&31))-(1<<y)&4294967295;if((f[g]&A)!==(l?A:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,i){if(i<0||i>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let l=i;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const i=s.size;this.ensureCapacity(this.size+i);for(let l=0;l<i;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new w("Sizes don't match");const i=this.bits;for(let l=0,u=i.length;l<u;l++)i[l]^=s.bits[l]}toBytes(s,i,l,u){for(let d=0;d<u;d++){let f=0;for(let g=0;g<8;g++)this.get(s)&&(f|=1<<7-g),s++;i[l+d]=f}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),l=i+1,u=this.bits;for(let d=0;d<l;d++){let f=u[d];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,s[i-d]=f}if(this.size!==l*32){const d=l*32-this.size;let f=s[0]>>>d;for(let g=1;g<l;g++){const y=s[g];f|=y<<32-d,s[g-1]=f,f=y>>>d}s[l-1]=f}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof P))return!1;const i=s;return this.size===i.size&&S.equals(this.bits,i.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let s="";for(let i=0,l=this.size;i<l;i++)i&7||(s+=" "),s+=this.get(i)?"X":".";return s}clone(){return new P(this.size,this.bits.slice())}}var O;(function(k){k[k.OTHER=0]="OTHER",k[k.PURE_BARCODE=1]="PURE_BARCODE",k[k.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",k[k.TRY_HARDER=3]="TRY_HARDER",k[k.CHARACTER_SET=4]="CHARACTER_SET",k[k.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",k[k.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",k[k.ASSUME_GS1=7]="ASSUME_GS1",k[k.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",k[k.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",k[k.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(O||(O={}));var F=O;class D extends m{static getFormatInstance(){return new D}}D.kind="FormatException";var U;(function(k){k[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR"})(U||(U={}));class V{constructor(s,i,l,...u){this.valueIdentifier=s,this.name=l,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=u,V.VALUE_IDENTIFIER_TO_ECI.set(s,this),V.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,g=d.length;f!==g;f++){const y=d[f];V.VALUES_TO_ECI.set(y,this)}for(const f of u)V.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new D("incorect value");const i=V.VALUES_TO_ECI.get(s);if(i===void 0)throw new D("incorect value");return i}static getCharacterSetECIByName(s){const i=V.NAME_TO_ECI.get(s);if(i===void 0)throw new D("incorect value");return i}equals(s){if(!(s instanceof V))return!1;const i=s;return this.getName()===i.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(U.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(U.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(U.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(U.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(U.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(U.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(U.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(U.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(U.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(U.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(U.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(U.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(U.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(U.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(U.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(U.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(U.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(U.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(U.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(U.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(U.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(U.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(U.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(U.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(U.Big5,28,"Big5"),V.GB18030=new V(U.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(U.EUC_KR,30,"EUC_KR","EUC-KR");class re extends m{}re.kind="UnsupportedOperationException";class se{static decode(s,i){const l=this.encodingName(i);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!se.isBrowser()&&s==="ISO-8859-1"}static encode(s,i){const l=this.encodingName(i);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof V?s:V.getCharacterSetECIByName(s)}static decodeFallback(s,i){const l=this.encodingCharacterSet(i);if(se.isDecodeFallbackSupported(l)){let u="";for(let d=0,f=s.length;d<f;d++){let g=s[d].toString(16);g.length<2&&(g="0"+g),u+="%"+g}return decodeURIComponent(u)}if(l.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new re(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(V.UTF8)||s.equals(V.ISO8859_1)||s.equals(V.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class X{static castAsNonUtf8Char(s,i=null){const l=i?i.getName():this.ISO88591;return se.decode(new Uint8Array([s]),l)}static guessEncoding(s,i){if(i!=null&&i.get(F.CHARACTER_SET)!==void 0)return i.get(F.CHARACTER_SET).toString();const l=s.length;let u=!0,d=!0,f=!0,g=0,y=0,b=0,A=0,M=0,L=0,z=0,H=0,W=0,Y=0,ee=0;const fe=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let pe=0;pe<l&&(u||d||f);pe++){const ue=s[pe]&255;f&&(g>0?ue&128?g--:f=!1:ue&128&&(ue&64?(g++,ue&32?(g++,ue&16?(g++,ue&8?f=!1:A++):b++):y++):f=!1)),u&&(ue>127&&ue<160?u=!1:ue>159&&(ue<192||ue===215||ue===247)&&ee++),d&&(M>0?ue<64||ue===127||ue>252?d=!1:M--:ue===128||ue===160||ue>239?d=!1:ue>160&&ue<224?(L++,H=0,z++,z>W&&(W=z)):ue>127?(M++,z=0,H++,H>Y&&(Y=H)):(z=0,H=0))}return f&&g>0&&(f=!1),d&&M>0&&(d=!1),f&&(fe||y+b+A>0)?X.UTF8:d&&(X.ASSUME_SHIFT_JIS||W>=3||Y>=3)?X.SHIFT_JIS:u&&d?W===2&&L===2||ee*10>=l?X.SHIFT_JIS:X.ISO88591:u?X.ISO88591:d?X.SHIFT_JIS:f?X.UTF8:X.PLATFORM_DEFAULT_ENCODING}static format(s,...i){let l=-1;function u(f,g,y,b,A,M){if(f==="%%")return"%";if(i[++l]===void 0)return;f=b?parseInt(b.substr(1)):void 0;let L=A?parseInt(A.substr(1)):void 0,z;switch(M){case"s":z=i[l];break;case"c":z=i[l][0];break;case"f":z=parseFloat(i[l]).toFixed(f);break;case"p":z=parseFloat(i[l]).toPrecision(f);break;case"e":z=parseFloat(i[l]).toExponential(f);break;case"x":z=parseInt(i[l]).toString(L||16);break;case"d":z=parseFloat(parseInt(i[l],L||10).toPrecision(f)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(L);let H=parseInt(y),W=y&&y[0]+""=="0"?"0":" ";for(;z.length<H;)z=g!==void 0?z+W:W+z;return z}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,u)}static getBytes(s,i){return se.encode(s,i)}static getCharCode(s,i=0){return s.charCodeAt(i)}static getCharAt(s){return String.fromCharCode(s)}}X.SHIFT_JIS=V.SJIS.getName(),X.GB2312="GB2312",X.ISO88591=V.ISO8859_1.getName(),X.EUC_JP="EUC_JP",X.UTF8=V.UTF8.getName(),X.PLATFORM_DEFAULT_ENCODING=X.UTF8,X.ASSUME_SHIFT_JIS=!1;class de{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=X.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,i,l){for(let u=i;i<i+l;u++)this.append(s[u]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,i){this.value=this.value.substr(0,s)+i+this.value.substr(s+1)}substring(s,i){return this.value.substring(s,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,i){this.value=this.value.substr(0,s)+i+this.value.substr(s+i.length)}}class te{constructor(s,i,l,u){if(this.width=s,this.height=i,this.rowSize=l,this.bits=u,i==null&&(i=s),this.height=i,s<1||i<1)throw new w("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const i=s.length,l=s[0].length,u=new te(l,i);for(let d=0;d<i;d++){const f=s[d];for(let g=0;g<l;g++)f[g]&&u.set(g,d)}return u}static parseFromString(s,i,l){if(s===null)throw new w("stringRepresentation cannot be null");const u=new Array(s.length);let d=0,f=0,g=-1,y=0,b=0;for(;b<s.length;)if(s.charAt(b)===`
`||s.charAt(b)==="\r"){if(d>f){if(g===-1)g=d-f;else if(d-f!==g)throw new w("row lengths do not match");f=d,y++}b++}else if(s.substring(b,b+i.length)===i)b+=i.length,u[d]=!0,d++;else if(s.substring(b,b+l.length)===l)b+=l.length,u[d]=!1,d++;else throw new w("illegal character encountered: "+s.substring(b));if(d>f){if(g===-1)g=d-f;else if(d-f!==g)throw new w("row lengths do not match");y++}const A=new te(g,y);for(let M=0;M<d;M++)u[M]&&A.set(Math.floor(M%g),Math.floor(M/g));return A}get(s,i){const l=i*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,i){const l=i*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,i){const l=i*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,i){const l=i*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new w("input matrix dimensions do not match");const i=new P(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,f=this.height;d<f;d++){const g=d*l,y=s.getRow(d,i).getBitArray();for(let b=0;b<l;b++)u[g+b]^=y[b]}}clear(){const s=this.bits,i=s.length;for(let l=0;l<i;l++)s[l]=0}setRegion(s,i,l,u){if(i<0||s<0)throw new w("Left and top must be nonnegative");if(u<1||l<1)throw new w("Height and width must be at least 1");const d=s+l,f=i+u;if(f>this.height||d>this.width)throw new w("The region must fit inside the matrix");const g=this.rowSize,y=this.bits;for(let b=i;b<f;b++){const A=b*g;for(let M=s;M<d;M++)y[A+Math.floor(M/32)]|=1<<(M&31)&4294967295}}getRow(s,i){i==null||i.getSize()<this.width?i=new P(this.width):i.clear();const l=this.rowSize,u=this.bits,d=s*l;for(let f=0;f<l;f++)i.setBulk(f*32,u[d+f]);return i}setRow(s,i){T.arraycopy(i.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),i=this.getHeight();let l=new P(s),u=new P(s);for(let d=0,f=Math.floor((i+1)/2);d<f;d++)l=this.getRow(d,l),u=this.getRow(i-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(i-1-d,l)}getEnclosingRectangle(){const s=this.width,i=this.height,l=this.rowSize,u=this.bits;let d=s,f=i,g=-1,y=-1;for(let b=0;b<i;b++)for(let A=0;A<l;A++){const M=u[b*l+A];if(M!==0){if(b<f&&(f=b),b>y&&(y=b),A*32<d){let L=0;for(;!(M<<31-L&4294967295);)L++;A*32+L<d&&(d=A*32+L)}if(A*32+31>g){let L=31;for(;!(M>>>L);)L--;A*32+L>g&&(g=A*32+L)}}}return g<d||y<f?null:Int32Array.from([d,f,g-d+1,y-f+1])}getTopLeftOnBit(){const s=this.rowSize,i=this.bits;let l=0;for(;l<i.length&&i[l]===0;)l++;if(l===i.length)return null;const u=l/s;let d=l%s*32;const f=i[l];let g=0;for(;!(f<<31-g&4294967295);)g++;return d+=g,Int32Array.from([d,u])}getBottomRightOnBit(){const s=this.rowSize,i=this.bits;let l=i.length-1;for(;l>=0&&i[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/s);let d=Math.floor(l%s)*32;const f=i[l];let g=31;for(;!(f>>>g);)g--;return d+=g,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof te))return!1;const i=s;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&S.equals(this.bits,i.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+S.hashCode(this.bits),s}toString(s="X ",i="  ",l=`
`){return this.buildToString(s,i,l)}buildToString(s,i,l){let u=new de;for(let d=0,f=this.height;d<f;d++){for(let g=0,y=this.width;g<y;g++)u.append(this.get(g,d)?s:i);u.append(l)}return u.toString()}clone(){return new te(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends m{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class oe extends j{constructor(s){super(s),this.luminances=oe.EMPTY,this.buckets=new Int32Array(oe.LUMINANCE_BUCKETS)}getBlackRow(s,i){const l=this.getLuminanceSource(),u=l.getWidth();i==null||i.getSize()<u?i=new P(u):i.clear(),this.initArrays(u);const d=l.getRow(s,this.luminances),f=this.buckets;for(let y=0;y<u;y++)f[(d[y]&255)>>oe.LUMINANCE_SHIFT]++;const g=oe.estimateBlackPoint(f);if(u<3)for(let y=0;y<u;y++)(d[y]&255)<g&&i.set(y);else{let y=d[0]&255,b=d[1]&255;for(let A=1;A<u-1;A++){const M=d[A+1]&255;(b*4-y-M)/2<g&&i.set(A),y=b,b=M}}return i}getBlackMatrix(){const s=this.getLuminanceSource(),i=s.getWidth(),l=s.getHeight(),u=new te(i,l);this.initArrays(i);const d=this.buckets;for(let y=1;y<5;y++){const b=Math.floor(l*y/5),A=s.getRow(b,this.luminances),M=Math.floor(i*4/5);for(let L=Math.floor(i/5);L<M;L++){const z=A[L]&255;d[z>>oe.LUMINANCE_SHIFT]++}}const f=oe.estimateBlackPoint(d),g=s.getMatrix();for(let y=0;y<l;y++){const b=y*i;for(let A=0;A<i;A++)(g[b+A]&255)<f&&u.set(A,y)}return u}createBinarizer(s){return new oe(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const i=this.buckets;for(let l=0;l<oe.LUMINANCE_BUCKETS;l++)i[l]=0}static estimateBlackPoint(s){const i=s.length;let l=0,u=0,d=0;for(let A=0;A<i;A++)s[A]>d&&(u=A,d=s[A]),s[A]>l&&(l=s[A]);let f=0,g=0;for(let A=0;A<i;A++){const M=A-u,L=s[A]*M*M;L>g&&(f=A,g=L)}if(u>f){const A=u;u=f,f=A}if(f-u<=i/16)throw new $;let y=f-1,b=-1;for(let A=f-1;A>u;A--){const M=A-u,L=M*M*(f-A)*(l-s[A]);L>b&&(y=A,b=L)}return y<<oe.LUMINANCE_SHIFT}}oe.LUMINANCE_BITS=5,oe.LUMINANCE_SHIFT=8-oe.LUMINANCE_BITS,oe.LUMINANCE_BUCKETS=1<<oe.LUMINANCE_BITS,oe.EMPTY=Uint8ClampedArray.from([0]);class ce extends oe{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),i=s.getWidth(),l=s.getHeight();if(i>=ce.MINIMUM_DIMENSION&&l>=ce.MINIMUM_DIMENSION){const u=s.getMatrix();let d=i>>ce.BLOCK_SIZE_POWER;i&ce.BLOCK_SIZE_MASK&&d++;let f=l>>ce.BLOCK_SIZE_POWER;l&ce.BLOCK_SIZE_MASK&&f++;const g=ce.calculateBlackPoints(u,d,f,i,l),y=new te(i,l);ce.calculateThresholdForBlock(u,d,f,i,l,g,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ce(s)}static calculateThresholdForBlock(s,i,l,u,d,f,g){const y=d-ce.BLOCK_SIZE,b=u-ce.BLOCK_SIZE;for(let A=0;A<l;A++){let M=A<<ce.BLOCK_SIZE_POWER;M>y&&(M=y);const L=ce.cap(A,2,l-3);for(let z=0;z<i;z++){let H=z<<ce.BLOCK_SIZE_POWER;H>b&&(H=b);const W=ce.cap(z,2,i-3);let Y=0;for(let fe=-2;fe<=2;fe++){const pe=f[L+fe];Y+=pe[W-2]+pe[W-1]+pe[W]+pe[W+1]+pe[W+2]}const ee=Y/25;ce.thresholdBlock(s,H,M,ee,u,g)}}}static cap(s,i,l){return s<i?i:s>l?l:s}static thresholdBlock(s,i,l,u,d,f){for(let g=0,y=l*d+i;g<ce.BLOCK_SIZE;g++,y+=d)for(let b=0;b<ce.BLOCK_SIZE;b++)(s[y+b]&255)<=u&&f.set(i+b,l+g)}static calculateBlackPoints(s,i,l,u,d){const f=d-ce.BLOCK_SIZE,g=u-ce.BLOCK_SIZE,y=new Array(l);for(let b=0;b<l;b++){y[b]=new Int32Array(i);let A=b<<ce.BLOCK_SIZE_POWER;A>f&&(A=f);for(let M=0;M<i;M++){let L=M<<ce.BLOCK_SIZE_POWER;L>g&&(L=g);let z=0,H=255,W=0;for(let ee=0,fe=A*u+L;ee<ce.BLOCK_SIZE;ee++,fe+=u){for(let pe=0;pe<ce.BLOCK_SIZE;pe++){const ue=s[fe+pe]&255;z+=ue,ue<H&&(H=ue),ue>W&&(W=ue)}if(W-H>ce.MIN_DYNAMIC_RANGE)for(ee++,fe+=u;ee<ce.BLOCK_SIZE;ee++,fe+=u)for(let pe=0;pe<ce.BLOCK_SIZE;pe++)z+=s[fe+pe]&255}let Y=z>>ce.BLOCK_SIZE_POWER*2;if(W-H<=ce.MIN_DYNAMIC_RANGE&&(Y=H/2,b>0&&M>0)){const ee=(y[b-1][M]+2*y[b][M-1]+y[b-1][M-1])/4;H<ee&&(Y=ee)}y[b][M]=Y}}return y}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class K{constructor(s,i){this.width=s,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,i,l,u){throw new re("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new re("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new re("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let i=new de;for(let l=0;l<this.height;l++){const u=this.getRow(l,s);for(let d=0;d<this.width;d++){const f=u[d]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",i.append(g)}i.append(`
`)}return i.toString()}}class ae extends K{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,i){const l=this.delegate.getRow(s,i),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(i);for(let u=0;u<i;u++)l[u]=255-(s[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,i,l,u){return new ae(this.delegate.crop(s,i,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ae(this.delegate.rotateCounterClockwise45())}}class we extends K{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=we.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const i=s.getContext("2d").getImageData(0,0,s.width,s.height);return we.toGrayscaleBuffer(i.data,s.width,s.height)}static toGrayscaleBuffer(s,i,l){const u=new Uint8ClampedArray(i*l);for(let d=0,f=0,g=s.length;d<g;d+=4,f++){let y;if(s[d+3]===0)y=255;else{const A=s[d],M=s[d+1],L=s[d+2];y=306*A+601*M+117*L+512>>10}u[f]=y}return u}getRow(s,i){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth(),u=s*l;return i===null?i=this.buffer.slice(u,u+l):(i.length<l&&(i=new Uint8ClampedArray(l)),i.set(this.buffer.slice(u,u+l))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,i,l,u){return super.crop(s,i,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const i=this.getTempCanvasElement(),l=i.getContext("2d"),u=s*we.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*f),y=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*f);return i.width=g,i.height=y,l.translate(g/2,y/2),l.rotate(u),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=we.makeBufferFromCanvasImageData(i),this}invert(){return new ae(this)}}we.DEGREE_TO_RADIANS=Math.PI/180;class xe{constructor(s,i,l){this.deviceId=s,this.label=i,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var be=(globalThis||Cn||self||window||void 0)&&(globalThis||Cn||self||window||void 0).__awaiter||function(k,s,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function g(A){try{b(l.next(A))}catch(M){f(M)}}function y(A){try{b(l.throw(A))}catch(M){f(M)}}function b(A){A.done?d(A.value):u(A.value).then(g,y)}b((l=l.apply(k,s||[])).next())})};class ke{constructor(s,i=500,l){this.reader=s,this.timeBetweenScansMillis=i,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const l of s){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const d=l.deviceId||l.id,f=l.label||`Video device ${i.length+1}`,g=l.groupId,y={deviceId:d,label:f,kind:u,groupId:g};i.push(y)}return i})}getVideoInputDevices(){return be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new xe(i.deviceId,i.label))})}findDeviceById(s){return be(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,i){return be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,i)})}decodeOnceFromVideoDevice(s,i){return be(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,i)})}decodeOnceFromConstraints(s,i){return be(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,i)})}decodeOnceFromStream(s,i){return be(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,i);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,i,l){return be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,i,l)})}decodeFromVideoDevice(s,i,l){return be(this,void 0,void 0,function*(){let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,i,l)})}decodeFromConstraints(s,i,l){return be(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(u,i,l)})}decodeFromStream(s,i,l){return be(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,i);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,i){return be(this,void 0,void 0,function*(){const l=this.prepareVideoElement(i);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((i,l)=>this.playVideoOnLoad(s,()=>i()))}playVideoOnLoad(s,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",i),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return be(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,i){const l=document.getElementById(s);if(!l)throw new v(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==i.toLowerCase())throw new v(`element with id '${s}' must be an ${i} element`);return l}decodeFromImage(s,i){if(!s&&!i)throw new v("either imageElement with a src set or an url must be provided");return i&&!s?this.decodeFromImageUrl(i):this.decodeFromImageElement(s)}decodeFromVideo(s,i){if(!s&&!i)throw new v("Either an element with a src set or an URL must be provided");return i&&!s?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,i,l){if(s===void 0&&i===void 0)throw new v("Either an element with a src set or an URL must be provided");return i&&!s?this.decodeFromVideoUrlContinuously(i,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new v("An image element must be provided.");this.reset();const i=this.prepareImageElement(s);this.imageElement=i;let l;return this.isImageLoaded(i)?l=this.decodeOnce(i,!1,!0):l=this._decodeOnLoadImage(i),l}decodeFromVideoElement(s){const i=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(s,i){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,i)}_decodeFromVideoElementSetup(s){if(!s)throw new v("A video element must be provided.");this.reset();const i=this.prepareVideoElement(s);return this.videoElement=i,i}decodeFromImageUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const l=this._decodeOnLoadImage(i);return i.src=s,l}decodeFromVideoUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElement(i);return i.src=s,l}decodeFromVideoUrlContinuously(s,i){if(!s)throw new v("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,i);return l.src=s,u}_decodeOnLoadImage(s){return new Promise((i,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(i,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,i){return be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,i)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let i;return typeof s>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof s=="string"&&(i=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(i=s),i}prepareVideoElement(s){let i;return!s&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof s=="string"&&(i=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(i=s),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(s,i=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,f)=>{if(this._stopAsyncDecode){f(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(s);d(g)}catch(g){const y=i&&g instanceof $,A=(g instanceof I||g instanceof D)&&l;if(y||A)return setTimeout(u,this._timeBetweenDecodingAttempts,d,f);f(g)}};return new Promise((d,f)=>u(d,f))}decodeContinuously(s,i){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(s);i(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){i(null,u);const d=u instanceof I||u instanceof D,f=u instanceof $;(d||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const i=this.createBinaryBitmap(s);return this.decodeBitmap(i)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,i,l){i||(i={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(s,i,l=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const i=this.getCaptureCanvas(s),l=new we(i),u=new ce(l);return new C(u)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const i=this.createCaptureCanvas(s);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let l,u;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,u=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,u=s.naturalHeight||s.height)),i.style.width=l+"px",i.style.height=u+"px",i.width=l,i.height=u,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,i){try{s.srcObject=i}catch{s.src=URL.createObjectURL(i)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Q{constructor(s,i,l=i==null?0:8*i.length,u,d,f=T.currentTimeMillis()){this.text=s,this.rawBytes=i,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=f,this.text=s,this.rawBytes=i,l==null?this.numBits=i==null?0:8*i.length:this.numBits=l,this.resultPoints=u,this.format=d,this.resultMetadata=null,f==null?this.timestamp=T.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,i)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const i=this.resultPoints;if(i===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(i.length+s.length);T.arraycopy(i,0,l,0,i.length),T.arraycopy(s,0,l,i.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ee;(function(k){k[k.AZTEC=0]="AZTEC",k[k.CODABAR=1]="CODABAR",k[k.CODE_39=2]="CODE_39",k[k.CODE_93=3]="CODE_93",k[k.CODE_128=4]="CODE_128",k[k.DATA_MATRIX=5]="DATA_MATRIX",k[k.EAN_8=6]="EAN_8",k[k.EAN_13=7]="EAN_13",k[k.ITF=8]="ITF",k[k.MAXICODE=9]="MAXICODE",k[k.PDF_417=10]="PDF_417",k[k.QR_CODE=11]="QR_CODE",k[k.RSS_14=12]="RSS_14",k[k.RSS_EXPANDED=13]="RSS_EXPANDED",k[k.UPC_A=14]="UPC_A",k[k.UPC_E=15]="UPC_E",k[k.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var Z=Ee,Ne;(function(k){k[k.OTHER=0]="OTHER",k[k.ORIENTATION=1]="ORIENTATION",k[k.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",k[k.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",k[k.ISSUE_NUMBER=4]="ISSUE_NUMBER",k[k.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",k[k.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",k[k.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",k[k.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",k[k.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",k[k.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ne||(Ne={}));var Re=Ne;class st{constructor(s,i,l,u,d=-1,f=-1){this.rawBytes=s,this.text=i,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class G{exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}static addOrSubtract(s,i){return s^i}}class Se{constructor(s,i){if(i.length===0)throw new w;this.field=s;const l=i.length;if(l>1&&i[0]===0){let u=1;for(;u<l&&i[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),T.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const i=this.coefficients;let l;if(s===1){l=0;for(let f=0,g=i.length;f!==g;f++){const y=i[f];l=G.addOrSubtract(l,y)}return l}l=i[0];const u=i.length,d=this.field;for(let f=1;f<u;f++)l=G.addOrSubtract(d.multiply(s,l),i[f]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let i=this.coefficients,l=s.coefficients;if(i.length>l.length){const f=i;i=l,l=f}let u=new Int32Array(l.length);const d=l.length-i.length;T.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=G.addOrSubtract(i[f-d],l[f]);return new Se(this.field,u)}multiply(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const i=this.coefficients,l=i.length,u=s.coefficients,d=u.length,f=new Int32Array(l+d-1),g=this.field;for(let y=0;y<l;y++){const b=i[y];for(let A=0;A<d;A++)f[y+A]=G.addOrSubtract(f[y+A],g.multiply(b,u[A]))}return new Se(g,f)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const i=this.coefficients.length,l=this.field,u=new Int32Array(i),d=this.coefficients;for(let f=0;f<i;f++)u[f]=l.multiply(d[f],s);return new Se(l,u)}multiplyByMonomial(s,i){if(s<0)throw new w;if(i===0)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+s),f=this.field;for(let g=0;g<u;g++)d[g]=f.multiply(l[g],i);return new Se(f,d)}divide(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new w("Divide by 0");const i=this.field;let l=i.getZero(),u=this;const d=s.getCoefficient(s.getDegree()),f=i.inverse(d);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const g=u.getDegree()-s.getDegree(),y=i.multiply(u.getCoefficient(u.getDegree()),f),b=s.multiplyByMonomial(g,y),A=i.buildMonomial(g,y);l=l.addOrSubtract(A),u=u.addOrSubtract(b)}return[l,u]}toString(){let s="";for(let i=this.getDegree();i>=0;i--){let l=this.getCoefficient(i);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),i===0||l!==1){const u=this.field.log(l);u===0?s+="1":u===1?s+="a":(s+="a^",s+=u)}i!==0&&(i===1?s+="x":(s+="x^",s+=i))}}return s}}class Ce extends m{}Ce.kind="ArithmeticException";class De extends G{constructor(s,i,l){super(),this.primitive=s,this.size=i,this.generatorBase=l;const u=new Int32Array(i);let d=1;for(let g=0;g<i;g++)u[g]=d,d*=2,d>=i&&(d^=s,d&=i-1);this.expTable=u;const f=new Int32Array(i);for(let g=0;g<i-1;g++)f[u[g]]=g;this.logTable=f,this.zero=new Se(this,Int32Array.from([0])),this.one=new Se(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,i){if(s<0)throw new w;if(i===0)return this.zero;const l=new Int32Array(s+1);return l[0]=i,new Se(this,l)}inverse(s){if(s===0)throw new Ce;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,i){return s===0||i===0?0:this.expTable[(this.logTable[s]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}De.AZTEC_DATA_12=new De(4201,4096,1),De.AZTEC_DATA_10=new De(1033,1024,1),De.AZTEC_DATA_6=new De(67,64,1),De.AZTEC_PARAM=new De(19,16,1),De.QR_CODE_FIELD_256=new De(285,256,0),De.DATA_MATRIX_FIELD_256=new De(301,256,1),De.AZTEC_DATA_8=De.DATA_MATRIX_FIELD_256,De.MAXICODE_FIELD_64=De.AZTEC_DATA_6;class Lt extends m{}Lt.kind="ReedSolomonException";class sn extends m{}sn.kind="IllegalStateException";class dn{constructor(s){this.field=s}decode(s,i){const l=this.field,u=new Se(l,s),d=new Int32Array(i);let f=!0;for(let z=0;z<i;z++){const H=u.evaluateAt(l.exp(z+l.getGeneratorBase()));d[d.length-1-z]=H,H!==0&&(f=!1)}if(f)return;const g=new Se(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(i,1),g,i),b=y[0],A=y[1],M=this.findErrorLocations(b),L=this.findErrorMagnitudes(A,M);for(let z=0;z<M.length;z++){const H=s.length-1-l.log(M[z]);if(H<0)throw new Lt("Bad error location");s[H]=De.addOrSubtract(s[H],L[z])}}runEuclideanAlgorithm(s,i,l){if(s.getDegree()<i.getDegree()){const z=s;s=i,i=z}const u=this.field;let d=s,f=i,g=u.getZero(),y=u.getOne();for(;f.getDegree()>=(l/2|0);){let z=d,H=g;if(d=f,g=y,d.isZero())throw new Lt("r_{i-1} was zero");f=z;let W=u.getZero();const Y=d.getCoefficient(d.getDegree()),ee=u.inverse(Y);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const fe=f.getDegree()-d.getDegree(),pe=u.multiply(f.getCoefficient(f.getDegree()),ee);W=W.addOrSubtract(u.buildMonomial(fe,pe)),f=f.addOrSubtract(d.multiplyByMonomial(fe,pe))}if(y=W.multiply(g).addOrSubtract(H),f.getDegree()>=d.getDegree())throw new sn("Division algorithm failed to reduce polynomial?")}const b=y.getCoefficient(0);if(b===0)throw new Lt("sigmaTilde(0) was zero");const A=u.inverse(b),M=y.multiplyScalar(A),L=f.multiplyScalar(A);return[M,L]}findErrorLocations(s){const i=s.getDegree();if(i===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(i);let u=0;const d=this.field;for(let f=1;f<d.getSize()&&u<i;f++)s.evaluateAt(f)===0&&(l[u]=d.inverse(f),u++);if(u!==i)throw new Lt("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,i){const l=i.length,u=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const g=d.inverse(i[f]);let y=1;for(let b=0;b<l;b++)if(f!==b){const A=d.multiply(i[b],g),M=A&1?A&-2:A|1;y=d.multiply(y,M)}u[f]=d.multiply(s.evaluateAt(g),d.inverse(y)),d.getGeneratorBase()!==0&&(u[f]=d.multiply(u[f],g))}return u}}var Nt;(function(k){k[k.UPPER=0]="UPPER",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.DIGIT=3]="DIGIT",k[k.PUNCT=4]="PUNCT",k[k.BINARY=5]="BINARY"})(Nt||(Nt={}));class ct{decode(s){this.ddata=s;let i=s.getBits(),l=this.extractBits(i),u=this.correctBits(l),d=ct.convertBoolArrayToByteArray(u),f=ct.getEncodedData(u),g=new st(d,f,null,null);return g.setNumBits(u.length),g}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let i=s.length,l=Nt.UPPER,u=Nt.UPPER,d="",f=0;for(;f<i;)if(u===Nt.BINARY){if(i-f<5)break;let g=ct.readCode(s,f,5);if(f+=5,g===0){if(i-f<11)break;g=ct.readCode(s,f,11)+31,f+=11}for(let y=0;y<g;y++){if(i-f<8){f=i;break}const b=ct.readCode(s,f,8);d+=X.castAsNonUtf8Char(b),f+=8}u=l}else{let g=u===Nt.DIGIT?4:5;if(i-f<g)break;let y=ct.readCode(s,f,g);f+=g;let b=ct.getCharacter(u,y);b.startsWith("CTRL_")?(l=u,u=ct.getTable(b.charAt(5)),b.charAt(6)==="L"&&(l=u)):(d+=b,u=l)}return d}static getTable(s){switch(s){case"L":return Nt.LOWER;case"P":return Nt.PUNCT;case"M":return Nt.MIXED;case"D":return Nt.DIGIT;case"B":return Nt.BINARY;case"U":default:return Nt.UPPER}}static getCharacter(s,i){switch(s){case Nt.UPPER:return ct.UPPER_TABLE[i];case Nt.LOWER:return ct.LOWER_TABLE[i];case Nt.MIXED:return ct.MIXED_TABLE[i];case Nt.PUNCT:return ct.PUNCT_TABLE[i];case Nt.DIGIT:return ct.DIGIT_TABLE[i];default:throw new sn("Bad table")}}correctBits(s){let i,l;this.ddata.getNbLayers()<=2?(l=6,i=De.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,i=De.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,i=De.AZTEC_DATA_10):(l=12,i=De.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),d=s.length/l;if(d<u)throw new D;let f=s.length%l,g=new Int32Array(d);for(let L=0;L<d;L++,f+=l)g[L]=ct.readCode(s,f,l);try{new dn(i).decode(g,d-u)}catch(L){throw new D(L)}let y=(1<<l)-1,b=0;for(let L=0;L<u;L++){let z=g[L];if(z===0||z===y)throw new D;(z===1||z===y-1)&&b++}let A=new Array(u*l-b),M=0;for(let L=0;L<u;L++){let z=g[L];if(z===1||z===y-1)A.fill(z>1,M,M+l-1),M+=l-1;else for(let H=l-1;H>=0;--H)A[M++]=(z&1<<H)!==0}return A}extractBits(s){let i=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(i?11:14)+l*4,d=new Int32Array(u),f=new Array(this.totalBitsInLayer(l,i));if(i)for(let g=0;g<d.length;g++)d[g]=g;else{let g=u+1+2*N.truncDivision(N.truncDivision(u,2)-1,15),y=u/2,b=N.truncDivision(g,2);for(let A=0;A<y;A++){let M=A+N.truncDivision(A,15);d[y-A-1]=b-M-1,d[y+A]=b+M+1}}for(let g=0,y=0;g<l;g++){let b=(l-g)*4+(i?9:12),A=g*2,M=u-1-A;for(let L=0;L<b;L++){let z=L*2;for(let H=0;H<2;H++)f[y+z+H]=s.get(d[A+H],d[A+L]),f[y+2*b+z+H]=s.get(d[A+L],d[M-H]),f[y+4*b+z+H]=s.get(d[M-H],d[M-L]),f[y+6*b+z+H]=s.get(d[M-L],d[A+H])}y+=b*8}return f}static readCode(s,i,l){let u=0;for(let d=i;d<i+l;d++)u<<=1,s[d]&&(u|=1);return u}static readByte(s,i){let l=s.length-i;return l>=8?ct.readCode(s,i,8):ct.readCode(s,i,l)<<8-l}static convertBoolArrayToByteArray(s){let i=new Uint8Array((s.length+7)/8);for(let l=0;l<i.length;l++)i[l]=ct.readByte(s,8*l);return i}totalBitsInLayer(s,i){return((i?88:112)+16*s)*s}}ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Be{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,i,l,u){const d=s-l,f=i-u;return Math.sqrt(d*d+f*f)}static sum(s){let i=0;for(let l=0,u=s.length;l!==u;l++){const d=s[l];i+=d}return i}}class Pr{static floatToIntBits(s){return s}}Pr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Oe{constructor(s,i){this.x=s,this.y=i}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Oe){const i=s;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Pr.floatToIntBits(this.x)+Pr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const i=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),u=this.distance(s[0],s[2]);let d,f,g;if(l>=i&&l>=u?(f=s[0],d=s[1],g=s[2]):u>=l&&u>=i?(f=s[1],d=s[0],g=s[2]):(f=s[2],d=s[0],g=s[1]),this.crossProductZ(d,f,g)<0){const y=d;d=g,g=y}s[0]=d,s[1]=f,s[2]=g}static distance(s,i){return Be.distance(s.x,s.y,i.x,i.y)}static crossProductZ(s,i,l){const u=i.x,d=i.y;return(l.x-u)*(s.y-d)-(l.y-d)*(s.x-u)}}class Io{constructor(s,i){this.bits=s,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Wi extends Io{constructor(s,i,l,u,d){super(s,i),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Lr{constructor(s,i,l,u){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),i==null&&(i=Lr.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),u==null&&(u=s.getHeight()/2|0);const d=i/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=u-d,this.downInit=u+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let s=this.leftInit,i=this.rightInit,l=this.upInit,u=this.downInit,d=!1,f=!0,g=!1,y=!1,b=!1,A=!1,M=!1;const L=this.width,z=this.height;for(;f;){f=!1;let H=!0;for(;(H||!y)&&i<L;)H=this.containsBlackPoint(l,u,i,!1),H?(i++,f=!0,y=!0):y||i++;if(i>=L){d=!0;break}let W=!0;for(;(W||!b)&&u<z;)W=this.containsBlackPoint(s,i,u,!0),W?(u++,f=!0,b=!0):b||u++;if(u>=z){d=!0;break}let Y=!0;for(;(Y||!A)&&s>=0;)Y=this.containsBlackPoint(l,u,s,!1),Y?(s--,f=!0,A=!0):A||s--;if(s<0){d=!0;break}let ee=!0;for(;(ee||!M)&&l>=0;)ee=this.containsBlackPoint(s,i,l,!0),ee?(l--,f=!0,M=!0):M||l--;if(l<0){d=!0;break}f&&(g=!0)}if(!d&&g){const H=i-s;let W=null;for(let pe=1;W===null&&pe<H;pe++)W=this.getBlackPointOnSegment(s,u-pe,s+pe,u);if(W==null)throw new $;let Y=null;for(let pe=1;Y===null&&pe<H;pe++)Y=this.getBlackPointOnSegment(s,l+pe,s+pe,l);if(Y==null)throw new $;let ee=null;for(let pe=1;ee===null&&pe<H;pe++)ee=this.getBlackPointOnSegment(i,l+pe,i-pe,l);if(ee==null)throw new $;let fe=null;for(let pe=1;fe===null&&pe<H;pe++)fe=this.getBlackPointOnSegment(i,u-pe,i-pe,u);if(fe==null)throw new $;return this.centerEdges(fe,W,ee,Y)}else throw new $}getBlackPointOnSegment(s,i,l,u){const d=Be.round(Be.distance(s,i,l,u)),f=(l-s)/d,g=(u-i)/d,y=this.image;for(let b=0;b<d;b++){const A=Be.round(s+b*f),M=Be.round(i+b*g);if(y.get(A,M))return new Oe(A,M)}return null}centerEdges(s,i,l,u){const d=s.getX(),f=s.getY(),g=i.getX(),y=i.getY(),b=l.getX(),A=l.getY(),M=u.getX(),L=u.getY(),z=Lr.CORR;return d<this.width/2?[new Oe(M-z,L+z),new Oe(g+z,y+z),new Oe(b-z,A-z),new Oe(d+z,f-z)]:[new Oe(M+z,L+z),new Oe(g+z,y-z),new Oe(b-z,A+z),new Oe(d-z,f-z)]}containsBlackPoint(s,i,l,u){const d=this.image;if(u){for(let f=s;f<=i;f++)if(d.get(f,l))return!0}else for(let f=s;f<=i;f++)if(d.get(l,f))return!0;return!1}}Lr.INIT_SIZE=10,Lr.CORR=1;class jo{static checkAndNudgePoints(s,i){const l=s.getWidth(),u=s.getHeight();let d=!0;for(let f=0;f<i.length&&d;f+=2){const g=Math.floor(i[f]),y=Math.floor(i[f+1]);if(g<-1||g>l||y<-1||y>u)throw new $;d=!1,g===-1?(i[f]=0,d=!0):g===l&&(i[f]=l-1,d=!0),y===-1?(i[f+1]=0,d=!0):y===u&&(i[f+1]=u-1,d=!0)}d=!0;for(let f=i.length-2;f>=0&&d;f-=2){const g=Math.floor(i[f]),y=Math.floor(i[f+1]);if(g<-1||g>l||y<-1||y>u)throw new $;d=!1,g===-1?(i[f]=0,d=!0):g===l&&(i[f]=l-1,d=!0),y===-1?(i[f+1]=0,d=!0):y===u&&(i[f+1]=u-1,d=!0)}}}class Fn{constructor(s,i,l,u,d,f,g,y,b){this.a11=s,this.a21=i,this.a31=l,this.a12=u,this.a22=d,this.a32=f,this.a13=g,this.a23=y,this.a33=b}static quadrilateralToQuadrilateral(s,i,l,u,d,f,g,y,b,A,M,L,z,H,W,Y){const ee=Fn.quadrilateralToSquare(s,i,l,u,d,f,g,y);return Fn.squareToQuadrilateral(b,A,M,L,z,H,W,Y).times(ee)}transformPoints(s){const i=s.length,l=this.a11,u=this.a12,d=this.a13,f=this.a21,g=this.a22,y=this.a23,b=this.a31,A=this.a32,M=this.a33;for(let L=0;L<i;L+=2){const z=s[L],H=s[L+1],W=d*z+y*H+M;s[L]=(l*z+f*H+b)/W,s[L+1]=(u*z+g*H+A)/W}}transformPointsWithValues(s,i){const l=this.a11,u=this.a12,d=this.a13,f=this.a21,g=this.a22,y=this.a23,b=this.a31,A=this.a32,M=this.a33,L=s.length;for(let z=0;z<L;z++){const H=s[z],W=i[z],Y=d*H+y*W+M;s[z]=(l*H+f*W+b)/Y,i[z]=(u*H+g*W+A)/Y}}static squareToQuadrilateral(s,i,l,u,d,f,g,y){const b=s-l+d-g,A=i-u+f-y;if(b===0&&A===0)return new Fn(l-s,d-l,s,u-i,f-u,i,0,0,1);{const M=l-d,L=g-d,z=u-f,H=y-f,W=M*H-L*z,Y=(b*H-L*A)/W,ee=(M*A-b*z)/W;return new Fn(l-s+Y*l,g-s+ee*g,s,u-i+Y*u,y-i+ee*y,i,Y,ee,1)}}static quadrilateralToSquare(s,i,l,u,d,f,g,y){return Fn.squareToQuadrilateral(s,i,l,u,d,f,g,y).buildAdjoint()}buildAdjoint(){return new Fn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Fn(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class Es extends jo{sampleGrid(s,i,l,u,d,f,g,y,b,A,M,L,z,H,W,Y,ee,fe,pe){const ue=Fn.quadrilateralToQuadrilateral(u,d,f,g,y,b,A,M,L,z,H,W,Y,ee,fe,pe);return this.sampleGridWithTransform(s,i,l,ue)}sampleGridWithTransform(s,i,l,u){if(i<=0||l<=0)throw new $;const d=new te(i,l),f=new Float32Array(2*i);for(let g=0;g<l;g++){const y=f.length,b=g+.5;for(let A=0;A<y;A+=2)f[A]=A/2+.5,f[A+1]=b;u.transformPoints(f),jo.checkAndNudgePoints(s,f);try{for(let A=0;A<y;A+=2)s.get(Math.floor(f[A]),Math.floor(f[A+1]))&&d.set(A/2,g)}catch{throw new $}}return d}}class Br{static setGridSampler(s){Br.gridSampler=s}static getInstance(){return Br.gridSampler}}Br.gridSampler=new Es;class Wt{constructor(s,i){this.x=s,this.y=i}toResultPoint(){return new Oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Qa{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let i=this.getMatrixCenter(),l=this.getBullsEyeCorners(i);if(s){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new Wi(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new $;let i=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],i),this.sampleLine(s[1],s[2],i),this.sampleLine(s[2],s[3],i),this.sampleLine(s[3],s[0],i)]);this.shift=this.getRotation(l,i);let u=0;for(let f=0;f<4;f++){let g=l[(this.shift+f)%4];this.compact?(u<<=7,u+=g>>1&127):(u<<=10,u+=(g>>2&992)+(g>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(s,i){let l=0;s.forEach((u,d,f)=>{let g=(u>>i-2<<1)+(u&1);l=(l<<3)+g}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(N.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new $}getCorrectedParameterData(s,i){let l,u;i?(l=7,u=2):(l=10,u=4);let d=l-u,f=new Int32Array(l);for(let y=l-1;y>=0;--y)f[y]=s&15,s>>=4;try{new dn(De.AZTEC_PARAM).decode(f,d)}catch{throw new $}let g=0;for(let y=0;y<u;y++)g=(g<<4)+f[y];return g}getBullsEyeCorners(s){let i=s,l=s,u=s,d=s,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let M=this.getFirstDifferent(i,f,1,-1),L=this.getFirstDifferent(l,f,1,1),z=this.getFirstDifferent(u,f,-1,1),H=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let W=this.distancePoint(H,M)*this.nbCenterLayers/(this.distancePoint(d,i)*(this.nbCenterLayers+2));if(W<.75||W>1.25||!this.isWhiteOrBlackRectangle(M,L,z,H))break}i=M,l=L,u=z,d=H,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let g=new Oe(i.getX()+.5,i.getY()-.5),y=new Oe(l.getX()+.5,l.getY()+.5),b=new Oe(u.getX()-.5,u.getY()+.5),A=new Oe(d.getX()-.5,d.getY()-.5);return this.expandSquare([g,y,b,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,i,l,u;try{let g=new Lr(this.image).detect();s=g[0],i=g[1],l=g[2],u=g[3]}catch{let y=this.image.getWidth()/2,b=this.image.getHeight()/2;s=this.getFirstDifferent(new Wt(y+7,b-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Wt(y+7,b+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Wt(y-7,b+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Wt(y-7,b-7),!1,-1,-1).toResultPoint()}let d=Be.round((s.getX()+u.getX()+i.getX()+l.getX())/4),f=Be.round((s.getY()+u.getY()+i.getY()+l.getY())/4);try{let g=new Lr(this.image,15,d,f).detect();s=g[0],i=g[1],l=g[2],u=g[3]}catch{s=this.getFirstDifferent(new Wt(d+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Wt(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Wt(d-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Wt(d-7,f-7),!1,-1,-1).toResultPoint()}return d=Be.round((s.getX()+u.getX()+i.getX()+l.getX())/4),f=Be.round((s.getY()+u.getY()+i.getY()+l.getY())/4),new Wt(d,f)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,i,l,u,d){let f=Br.getInstance(),g=this.getDimension(),y=g/2-this.nbCenterLayers,b=g/2+this.nbCenterLayers;return f.sampleGrid(s,g,g,y,y,b,y,b,b,y,b,i.getX(),i.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(s,i,l){let u=0,d=this.distanceResultPoint(s,i),f=d/l,g=s.getX(),y=s.getY(),b=f*(i.getX()-s.getX())/d,A=f*(i.getY()-s.getY())/d;for(let M=0;M<l;M++)this.image.get(Be.round(g+M*b),Be.round(y+M*A))&&(u|=1<<l-M-1);return u}isWhiteOrBlackRectangle(s,i,l,u){let d=3;s=new Wt(s.getX()-d,s.getY()+d),i=new Wt(i.getX()-d,i.getY()-d),l=new Wt(l.getX()+d,l.getY()-d),u=new Wt(u.getX()+d,u.getY()+d);let f=this.getColor(u,s);if(f===0)return!1;let g=this.getColor(s,i);return g!==f||(g=this.getColor(i,l),g!==f)?!1:(g=this.getColor(l,u),g===f)}getColor(s,i){let l=this.distancePoint(s,i),u=(i.getX()-s.getX())/l,d=(i.getY()-s.getY())/l,f=0,g=s.getX(),y=s.getY(),b=this.image.get(s.getX(),s.getY()),A=Math.ceil(l);for(let L=0;L<A;L++)g+=u,y+=d,this.image.get(Be.round(g),Be.round(y))!==b&&f++;let M=f/l;return M>.1&&M<.9?0:M<=.1===b?1:-1}getFirstDifferent(s,i,l,u){let d=s.getX()+l,f=s.getY()+u;for(;this.isValid(d,f)&&this.image.get(d,f)===i;)d+=l,f+=u;for(d-=l,f-=u;this.isValid(d,f)&&this.image.get(d,f)===i;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===i;)f+=u;return f-=u,new Wt(d,f)}expandSquare(s,i,l){let u=l/(2*i),d=s[0].getX()-s[2].getX(),f=s[0].getY()-s[2].getY(),g=(s[0].getX()+s[2].getX())/2,y=(s[0].getY()+s[2].getY())/2,b=new Oe(g+u*d,y+u*f),A=new Oe(g-u*d,y-u*f);d=s[1].getX()-s[3].getX(),f=s[1].getY()-s[3].getY(),g=(s[1].getX()+s[3].getX())/2,y=(s[1].getY()+s[3].getY())/2;let M=new Oe(g+u*d,y+u*f),L=new Oe(g-u*d,y-u*f);return[b,M,A,L]}isValid(s,i){return s>=0&&s<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(s){let i=Be.round(s.getX()),l=Be.round(s.getY());return this.isValid(i,l)}distancePoint(s,i){return Be.distance(s.getX(),s.getY(),i.getX(),i.getY())}distanceResultPoint(s,i){return Be.distance(s.getX(),s.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class Ro{decode(s,i=null){let l=null,u=new Qa(s.getBlackMatrix()),d=null,f=null;try{let A=u.detectMirror(!1);d=A.getPoints(),this.reportFoundResultPoints(i,d),f=new ct().decode(A)}catch(A){l=A}if(f==null)try{let A=u.detectMirror(!0);d=A.getPoints(),this.reportFoundResultPoints(i,d),f=new ct().decode(A)}catch(A){throw l??A}let g=new Q(f.getText(),f.getRawBytes(),f.getNumBits(),d,Z.AZTEC,T.currentTimeMillis()),y=f.getByteSegments();y!=null&&g.putMetadata(Re.BYTE_SEGMENTS,y);let b=f.getECLevel();return b!=null&&g.putMetadata(Re.ERROR_CORRECTION_LEVEL,b),g}reportFoundResultPoints(s,i){if(s!=null){let l=s.get(F.NEED_RESULT_POINT_CALLBACK);l!=null&&i.forEach((u,d,f)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class Tc extends ke{constructor(s=500){super(new Ro,s)}}class Bt{decode(s,i){try{return this.doDecode(s,i)}catch{if(i&&i.get(F.TRY_HARDER)===!0&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),f=this.doDecode(d,i),g=f.getResultMetadata();let y=270;g!==null&&g.get(Re.ORIENTATION)===!0&&(y=y+g.get(Re.ORIENTATION)%360),f.putMetadata(Re.ORIENTATION,y);const b=f.getResultPoints();if(b!==null){const A=d.getHeight();for(let M=0;M<b.length;M++)b[M]=new Oe(A-b[M].getY()-1,b[M].getX())}return f}else throw new $}}reset(){}doDecode(s,i){const l=s.getWidth(),u=s.getHeight();let d=new P(l);const f=i&&i.get(F.TRY_HARDER)===!0,g=Math.max(1,u>>(f?8:5));let y;f?y=u:y=15;const b=Math.trunc(u/2);for(let A=0;A<y;A++){const M=Math.trunc((A+1)/2),L=(A&1)===0,z=b+g*(L?M:-M);if(z<0||z>=u)break;try{d=s.getBlackRow(z,d)}catch{continue}for(let H=0;H<2;H++){if(H===1&&(d.reverse(),i&&i.get(F.NEED_RESULT_POINT_CALLBACK)===!0)){const W=new Map;i.forEach((Y,ee)=>W.set(ee,Y)),W.delete(F.NEED_RESULT_POINT_CALLBACK),i=W}try{const W=this.decodeRow(z,d,i);if(H===1){W.putMetadata(Re.ORIENTATION,180);const Y=W.getResultPoints();Y!==null&&(Y[0]=new Oe(l-Y[0].getX()-1,Y[0].getY()),Y[1]=new Oe(l-Y[1].getX()-1,Y[1].getY()))}return W}catch{}}}throw new $}static recordPattern(s,i,l){const u=l.length;for(let b=0;b<u;b++)l[b]=0;const d=s.getSize();if(i>=d)throw new $;let f=!s.get(i),g=0,y=i;for(;y<d;){if(s.get(y)!==f)l[g]++;else{if(++g===u)break;l[g]=1,f=!f}y++}if(!(g===u||g===u-1&&y===d))throw new $}static recordPatternInReverse(s,i,l){let u=l.length,d=s.get(i);for(;i>0&&u>=0;)s.get(--i)!==d&&(u--,d=!d);if(u>=0)throw new $;Bt.recordPattern(s,i+1,l)}static patternMatchVariance(s,i,l){const u=s.length;let d=0,f=0;for(let b=0;b<u;b++)d+=s[b],f+=i[b];if(d<f)return Number.POSITIVE_INFINITY;const g=d/f;l*=g;let y=0;for(let b=0;b<u;b++){const A=s[b],M=i[b]*g,L=A>M?A-M:M-A;if(L>l)return Number.POSITIVE_INFINITY;y+=L}return y/d}}class ye extends Bt{static findStartPattern(s){const i=s.getSize(),l=s.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,g=!1;const y=6;for(let b=l;b<i;b++)if(s.get(b)!==g)d[u]++;else{if(u===y-1){let A=ye.MAX_AVG_VARIANCE,M=-1;for(let L=ye.CODE_START_A;L<=ye.CODE_START_C;L++){const z=Bt.patternMatchVariance(d,ye.CODE_PATTERNS[L],ye.MAX_INDIVIDUAL_VARIANCE);z<A&&(A=z,M=L)}if(M>=0&&s.isRange(Math.max(0,f-(b-f)/2),f,!1))return Int32Array.from([f,b,M]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,g=!g}throw new $}static decodeCode(s,i,l){Bt.recordPattern(s,l,i);let u=ye.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<ye.CODE_PATTERNS.length;f++){const g=ye.CODE_PATTERNS[f],y=this.patternMatchVariance(i,g,ye.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,d=f)}if(d>=0)return d;throw new $}decodeRow(s,i,l){const u=l&&l.get(F.ASSUME_GS1)===!0,d=ye.findStartPattern(i),f=d[2];let g=0;const y=new Uint8Array(20);y[g++]=f;let b;switch(f){case ye.CODE_START_A:b=ye.CODE_CODE_A;break;case ye.CODE_START_B:b=ye.CODE_CODE_B;break;case ye.CODE_START_C:b=ye.CODE_CODE_C;break;default:throw new D}let A=!1,M=!1,L="",z=d[0],H=d[1];const W=Int32Array.from([0,0,0,0,0,0]);let Y=0,ee=0,fe=f,pe=0,ue=!0,rt=!1,$e=!1;for(;!A;){const Uo=M;switch(M=!1,Y=ee,ee=ye.decodeCode(i,W,H),y[g++]=ee,ee!==ye.CODE_STOP&&(ue=!0),ee!==ye.CODE_STOP&&(pe++,fe+=pe*ee),z=H,H+=W.reduce((pE,gE)=>pE+gE,0),ee){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new D}switch(b){case ye.CODE_CODE_A:if(ee<64)$e===rt?L+=String.fromCharCode(32+ee):L+=String.fromCharCode(32+ee+128),$e=!1;else if(ee<96)$e===rt?L+=String.fromCharCode(ee-64):L+=String.fromCharCode(ee+64),$e=!1;else switch(ee!==ye.CODE_STOP&&(ue=!1),ee){case ye.CODE_FNC_1:u&&(L.length===0?L+="]C1":L+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!rt&&$e?(rt=!0,$e=!1):rt&&$e?(rt=!1,$e=!1):$e=!0;break;case ye.CODE_SHIFT:M=!0,b=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:b=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:b=ye.CODE_CODE_C;break;case ye.CODE_STOP:A=!0;break}break;case ye.CODE_CODE_B:if(ee<96)$e===rt?L+=String.fromCharCode(32+ee):L+=String.fromCharCode(32+ee+128),$e=!1;else switch(ee!==ye.CODE_STOP&&(ue=!1),ee){case ye.CODE_FNC_1:u&&(L.length===0?L+="]C1":L+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!rt&&$e?(rt=!0,$e=!1):rt&&$e?(rt=!1,$e=!1):$e=!0;break;case ye.CODE_SHIFT:M=!0,b=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:b=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:b=ye.CODE_CODE_C;break;case ye.CODE_STOP:A=!0;break}break;case ye.CODE_CODE_C:if(ee<100)ee<10&&(L+="0"),L+=ee;else switch(ee!==ye.CODE_STOP&&(ue=!1),ee){case ye.CODE_FNC_1:u&&(L.length===0?L+="]C1":L+="");break;case ye.CODE_CODE_A:b=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:b=ye.CODE_CODE_B;break;case ye.CODE_STOP:A=!0;break}break}Uo&&(b=b===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const Kn=H-z;if(H=i.getNextUnset(H),!i.isRange(H,Math.min(i.getSize(),H+(H-z)/2),!1))throw new $;if(fe-=pe*Y,fe%103!==Y)throw new I;const Ur=L.length;if(Ur===0)throw new $;Ur>0&&ue&&(b===ye.CODE_CODE_C?L=L.substring(0,Ur-2):L=L.substring(0,Ur-1));const Qn=(d[1]+d[0])/2,vt=z+Kn/2,wn=y.length,or=new Uint8Array(wn);for(let Uo=0;Uo<wn;Uo++)or[Uo]=y[Uo];const Fo=[new Oe(Qn,s),new Oe(vt,s)];return new Q(L,or,0,Fo,Z.CODE_128,new Date().getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class Ft extends Bt{constructor(s=!1,i=!1){super(),this.usingCheckDigit=s,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,i,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let d=Ft.findAsteriskPattern(i,u),f=i.getNextSet(d[1]),g=i.getSize(),y,b;do{Ft.recordPattern(i,f,u);let W=Ft.toNarrowWidePattern(u);if(W<0)throw new $;y=Ft.patternToChar(W),this.decodeRowResult+=y,b=f;for(let Y of u)f+=Y;f=i.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let W of u)A+=W;let M=f-b-A;if(f!==g&&M*2<A)throw new $;if(this.usingCheckDigit){let W=this.decodeRowResult.length-1,Y=0;for(let ee=0;ee<W;ee++)Y+=Ft.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ee));if(this.decodeRowResult.charAt(W)!==Ft.ALPHABET_STRING.charAt(Y%43))throw new I;this.decodeRowResult=this.decodeRowResult.substring(0,W)}if(this.decodeRowResult.length===0)throw new $;let L;this.extendedMode?L=Ft.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;let z=(d[1]+d[0])/2,H=b+A/2;return new Q(L,null,0,[new Oe(z,s),new Oe(H,s)],Z.CODE_39,new Date().getTime())}static findAsteriskPattern(s,i){let l=s.getSize(),u=s.getNextSet(0),d=0,f=u,g=!1,y=i.length;for(let b=u;b<l;b++)if(s.get(b)!==g)i[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(i)===Ft.ASTERISK_ENCODING&&s.isRange(Math.max(0,f-Math.floor((b-f)/2)),f,!1))return[f,b];f+=i[0]+i[1],i.copyWithin(0,2,2+d-1),i[d-1]=0,i[d]=0,d--}else d++;i[d]=1,g=!g}throw new $}static toNarrowWidePattern(s){let i=s.length,l=0,u;do{let d=2147483647;for(let y of s)y<d&&y>l&&(d=y);l=d,u=0;let f=0,g=0;for(let y=0;y<i;y++){let b=s[y];b>l&&(g|=1<<i-1-y,u++,f+=b)}if(u===3){for(let y=0;y<i&&u>0;y++){let b=s[y];if(b>l&&(u--,b*2>=f))return-1}return g}}while(u>3);return-1}static patternToChar(s){for(let i=0;i<Ft.CHARACTER_ENCODINGS.length;i++)if(Ft.CHARACTER_ENCODINGS[i]===s)return Ft.ALPHABET_STRING.charAt(i);if(s===Ft.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(s){let i=s.length,l="";for(let u=0;u<i;u++){let d=s.charAt(u);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=s.charAt(u+1),g="\0";switch(d){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new D;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new D;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new D;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new D;break}l+=g,u++}else l+=d}return l}}Ft.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ft.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ft.ASTERISK_ENCODING=148;class nt extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,i,l){let u=this.decodeStart(i),d=this.decodeEnd(i),f=new de;nt.decodeMiddle(i,u[1],d[0],f);let g=f.toString(),y=null;l!=null&&(y=l.get(F.ALLOWED_LENGTHS)),y==null&&(y=nt.DEFAULT_ALLOWED_LENGTHS);let b=g.length,A=!1,M=0;for(let H of y){if(b===H){A=!0;break}H>M&&(M=H)}if(!A&&b>M&&(A=!0),!A)throw new D;const L=[new Oe(u[1],s),new Oe(d[0],s)];return new Q(g,null,0,L,Z.ITF,new Date().getTime())}static decodeMiddle(s,i,l,u){let d=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(d.fill(0),f.fill(0),g.fill(0);i<l;){Bt.recordPattern(s,i,d);for(let b=0;b<5;b++){let A=2*b;f[b]=d[A],g[b]=d[A+1]}let y=nt.decodeDigit(f);u.append(y.toString()),y=this.decodeDigit(g),u.append(y.toString()),d.forEach(function(b){i+=b})}}decodeStart(s){let i=nt.skipWhiteSpace(s),l=nt.findGuardPattern(s,i,nt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,i){let l=this.narrowLineWidth*10;l=l<i?l:i;for(let u=i-1;l>0&&u>=0&&!s.get(u);u--)l--;if(l!==0)throw new $}static skipWhiteSpace(s){const i=s.getSize(),l=s.getNextSet(0);if(l===i)throw new $;return l}decodeEnd(s){s.reverse();try{let i=nt.skipWhiteSpace(s),l;try{l=nt.findGuardPattern(s,i,nt.END_PATTERN_REVERSED[0])}catch(d){d instanceof $&&(l=nt.findGuardPattern(s,i,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let u=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-u,l}finally{s.reverse()}}static findGuardPattern(s,i,l){let u=l.length,d=new Int32Array(u),f=s.getSize(),g=!1,y=0,b=i;d.fill(0);for(let A=i;A<f;A++)if(s.get(A)!==g)d[y]++;else{if(y===u-1){if(Bt.patternMatchVariance(d,l,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[b,A];b+=d[0]+d[1],T.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,g=!g}throw new $}static decodeDigit(s){let i=nt.MAX_AVG_VARIANCE,l=-1,u=nt.PATTERNS.length;for(let d=0;d<u;d++){let f=nt.PATTERNS[d],g=Bt.patternMatchVariance(s,f,nt.MAX_INDIVIDUAL_VARIANCE);g<i?(i=g,l=d):g===i&&(l=-1)}if(l>=0)return l%10;throw new $}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Mt extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let i=!1,l,u=0,d=Int32Array.from([0,0,0]);for(;!i;){d=Int32Array.from([0,0,0]),l=Mt.findGuardPattern(s,u,!1,this.START_END_PATTERN,d);let f=l[0];u=l[1];let g=f-(u-f);g>=0&&(i=s.isRange(g,f,!1))}return l}static checkChecksum(s){return Mt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let i=s.length;if(i===0)return!1;let l=parseInt(s.charAt(i-1),10);return Mt.getStandardUPCEANChecksum(s.substring(0,i-1))===l}static getStandardUPCEANChecksum(s){let i=s.length,l=0;for(let u=i-1;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new D;l+=d}l*=3;for(let u=i-2;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new D;l+=d}return(1e3-l)%10}static decodeEnd(s,i){return Mt.findGuardPattern(s,i,!1,Mt.START_END_PATTERN,new Int32Array(Mt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,i,l,u){return this.findGuardPattern(s,i,l,u,new Int32Array(u.length))}static findGuardPattern(s,i,l,u,d){let f=s.getSize();i=l?s.getNextUnset(i):s.getNextSet(i);let g=0,y=i,b=u.length,A=l;for(let M=i;M<f;M++)if(s.get(M)!==A)d[g]++;else{if(g===b-1){if(Bt.patternMatchVariance(d,u,Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return Int32Array.from([y,M]);y+=d[0]+d[1];let L=d.slice(2,d.length-1);for(let z=0;z<g-1;z++)d[z]=L[z];d[g-1]=0,d[g]=0,g--}else g++;d[g]=1,A=!A}throw new $}static decodeDigit(s,i,l,u){this.recordPattern(s,l,i);let d=this.MAX_AVG_VARIANCE,f=-1,g=u.length;for(let y=0;y<g;y++){let b=u[y],A=Bt.patternMatchVariance(i,b,Mt.MAX_INDIVIDUAL_VARIANCE);A<d&&(d=A,f=y)}if(f>=0)return f;throw new $}}Mt.MAX_AVG_VARIANCE=.48,Mt.MAX_INDIVIDUAL_VARIANCE=.7,Mt.START_END_PATTERN=Int32Array.from([1,1,1]),Mt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Mt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ve{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,i,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(i,l,u),f=u.toString(),g=Ve.parseExtensionString(f),y=[new Oe((l[0]+l[1])/2,s),new Oe(d,s)],b=new Q(f,null,0,y,Z.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&b.putAllMetadata(g),b}decodeMiddle(s,i,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=i[1],g=0;for(let b=0;b<5&&f<d;b++){let A=Mt.decodeDigit(s,u,f,Mt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+A%10);for(let M of u)f+=M;A>=10&&(g|=1<<4-b),b!==4&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==5)throw new $;let y=this.determineCheckDigit(g);if(Ve.extensionChecksum(l.toString())!==y)throw new $;return f}static extensionChecksum(s){let i=s.length,l=0;for(let u=i-2;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-48;l*=3;for(let u=i-1;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let i=0;i<10;i++)if(s===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new $}static parseExtensionString(s){if(s.length!==5)return null;let i=Ve.parseExtension5String(s);return i==null?null:new Map([[Re.SUGGESTED_PRICE,i]])}static parseExtension5String(s){let i;switch(s.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let l=parseInt(s.substring(1)),u=(l/100).toString(),d=l%100,f=d<10?"0"+d:d.toString();return i+u+"."+f}}class ht{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,i,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(i,l,u),f=u.toString(),g=ht.parseExtensionString(f),y=[new Oe((l[0]+l[1])/2,s),new Oe(d,s)],b=new Q(f,null,0,y,Z.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&b.putAllMetadata(g),b}decodeMiddle(s,i,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=i[1],g=0;for(let y=0;y<2&&f<d;y++){let b=Mt.decodeDigit(s,u,f,Mt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let A of u)f+=A;b>=10&&(g|=1<<1-y),y!==1&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==2)throw new $;if(parseInt(l.toString())%4!==g)throw new $;return f}static parseExtensionString(s){return s.length!==2?null:new Map([[Re.ISSUE_NUMBER,parseInt(s)]])}}class ft{static decodeRow(s,i,l){let u=Mt.findGuardPattern(i,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ve().decodeRow(s,i,u)}catch{return new ht().decodeRow(s,i,u)}}}ft.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class We extends Mt{constructor(){super(),this.decodeRowStringBuffer="",We.L_AND_G_PATTERNS=We.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let i=We.L_PATTERNS[s-10],l=new Int32Array(i.length);for(let u=0;u<i.length;u++)l[u]=i[i.length-u-1];We.L_AND_G_PATTERNS[s]=l}}decodeRow(s,i,l){let u=We.findStartGuardPattern(i),d=l==null?null:l.get(F.NEED_RESULT_POINT_CALLBACK);if(d!=null){const ue=new Oe((u[0]+u[1])/2,s);d.foundPossibleResultPoint(ue)}let f=this.decodeMiddle(i,u,this.decodeRowStringBuffer),g=f.rowOffset,y=f.resultString;if(d!=null){const ue=new Oe(g,s);d.foundPossibleResultPoint(ue)}let b=this.decodeEnd(i,g);if(d!=null){const ue=new Oe((b[0]+b[1])/2,s);d.foundPossibleResultPoint(ue)}let A=b[1],M=A+(A-b[0]);if(M>=i.getSize()||!i.isRange(A,M,!1))throw new $;let L=y.toString();if(L.length<8)throw new D;if(!We.checkChecksum(L))throw new I;let z=(u[1]+u[0])/2,H=(b[1]+b[0])/2,W=this.getBarcodeFormat(),Y=[new Oe(z,s),new Oe(H,s)],ee=new Q(L,null,0,Y,W,new Date().getTime()),fe=0;try{let ue=ft.decodeRow(s,i,b[1]);ee.putMetadata(Re.UPC_EAN_EXTENSION,ue.getText()),ee.putAllMetadata(ue.getResultMetadata()),ee.addResultPoints(ue.getResultPoints()),fe=ue.getText().length}catch{}let pe=l==null?null:l.get(F.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let ue=!1;for(let rt in pe)if(fe.toString()===rt){ue=!0;break}if(!ue)throw new $}return ee}decodeEnd(s,i){return We.findGuardPattern(s,i,!1,We.START_END_PATTERN,new Int32Array(We.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return We.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let i=s.length;if(i===0)return!1;let l=parseInt(s.charAt(i-1),10);return We.getStandardUPCEANChecksum(s.substring(0,i-1))===l}static getStandardUPCEANChecksum(s){let i=s.length,l=0;for(let u=i-1;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new D;l+=d}l*=3;for(let u=i-2;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new D;l+=d}return(1e3-l)%10}}class hn extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,i,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=i[1],g=0;for(let b=0;b<6&&f<d;b++){let A=We.decodeDigit(s,u,f,We.L_AND_G_PATTERNS);l+=String.fromCharCode(48+A%10);for(let M of u)f+=M;A>=10&&(g|=1<<5-b)}l=hn.determineFirstDigit(l,g),f=We.findGuardPattern(s,f,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<6&&f<d;b++){let A=We.decodeDigit(s,u,f,We.L_PATTERNS);l+=String.fromCharCode(48+A);for(let M of u)f+=M}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return Z.EAN_13}static determineFirstDigit(s,i){for(let l=0;l<10;l++)if(i===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new $}}hn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class $i extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,i,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=i[1];for(let y=0;y<4&&f<d;y++){let b=We.decodeDigit(s,u,f,We.L_PATTERNS);l+=String.fromCharCode(48+b);for(let A of u)f+=A}f=We.findGuardPattern(s,f,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<d;y++){let b=We.decodeDigit(s,u,f,We.L_PATTERNS);l+=String.fromCharCode(48+b);for(let A of u)f+=A}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return Z.EAN_8}}class Ic extends We{constructor(){super(...arguments),this.ean13Reader=new hn}getBarcodeFormat(){return Z.UPC_A}decode(s,i){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,i,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,i,l))}decodeMiddle(s,i,l){return this.ean13Reader.decodeMiddle(s,i,l)}maybeReturnResult(s){let i=s.getText();if(i.charAt(0)==="0"){let l=new Q(i.substring(1),null,null,s.getResultPoints(),Z.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new $}reset(){this.ean13Reader.reset()}}class Fr extends We{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,i,l){const u=this.decodeMiddleCounters.map(b=>b);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=s.getSize();let f=i[1],g=0;for(let b=0;b<6&&f<d;b++){const A=Fr.decodeDigit(s,u,f,Fr.L_AND_G_PATTERNS);l+=String.fromCharCode(48+A%10);for(let M of u)f+=M;A>=10&&(g|=1<<5-b)}let y=Fr.determineNumSysAndCheckDigit(l,g);return{rowOffset:f,resultString:y}}decodeEnd(s,i){return Fr.findGuardPatternWithoutCounters(s,i,!0,Fr.MIDDLE_END_PATTERN)}checkChecksum(s){return We.checkChecksum(Fr.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,i){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let d=String.fromCharCode(48+l),f=String.fromCharCode(48+u);return d+s+f}throw $.getNotFoundInstance()}getBarcodeFormat(){return Z.UPC_E}static convertUPCEtoUPCA(s){const i=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new de;l.append(s.charAt(0));let u=i[5];switch(u){case 0:case 1:case 2:l.appendChars(i,0,2),l.append(u),l.append("0000"),l.appendChars(i,2,3);break;case 3:l.appendChars(i,0,3),l.append("00000"),l.appendChars(i,3,2);break;case 4:l.appendChars(i,0,4),l.append("00000"),l.append(i[4]);break;default:l.appendChars(i,0,5),l.append("0000"),l.append(u);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}Fr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Fr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class wh extends Bt{constructor(s){super();let i=s==null?null:s.get(F.POSSIBLE_FORMATS),l=[];r(i)?(l.push(new hn),l.push(new Ic),l.push(new $i),l.push(new Fr)):(i.indexOf(Z.EAN_13)>-1&&l.push(new hn),i.indexOf(Z.UPC_A)>-1&&l.push(new Ic),i.indexOf(Z.EAN_8)>-1&&l.push(new $i),i.indexOf(Z.UPC_E)>-1&&l.push(new Fr)),this.readers=l}decodeRow(s,i,l){for(let u of this.readers)try{const d=u.decodeRow(s,i,l),f=d.getBarcodeFormat()===Z.EAN_13&&d.getText().charAt(0)==="0",g=l==null?null:l.get(F.POSSIBLE_FORMATS),y=g==null||g.includes(Z.UPC_A);if(f&&y){const b=d.getRawBytes(),A=new Q(d.getText().substring(1),b,b?b.length:null,d.getResultPoints(),Z.UPC_A);return A.putAllMetadata(d.getResultMetadata()),A}return d}catch{}throw new $}reset(){for(let s of this.readers)s.reset()}}class Tn extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,i){for(let l=0;l<i.length;l++)if(Bt.patternMatchVariance(s,i[l],Tn.MAX_INDIVIDUAL_VARIANCE)<Tn.MAX_AVG_VARIANCE)return l;throw new $}static count(s){return Be.sum(new Int32Array(s))}static increment(s,i){let l=0,u=i[0];for(let d=1;d<s.length;d++)i[d]>u&&(u=i[d],l=d);s[l]++}static decrement(s,i){let l=0,u=i[0];for(let d=1;d<s.length;d++)i[d]<u&&(u=i[d],l=d);s[l]--}static isFinderPattern(s){let i=s[0]+s[1],l=i+s[2]+s[3],u=i/l;if(u>=Tn.MIN_FINDER_PATTERN_RATIO&&u<=Tn.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of s)g>f&&(f=g),g<d&&(d=g);return f<10*d}return!1}}Tn.MAX_AVG_VARIANCE=.2,Tn.MAX_INDIVIDUAL_VARIANCE=.45,Tn.MIN_FINDER_PATTERN_RATIO=9.5/12,Tn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Oo{constructor(s,i){this.value=s,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Oo))return!1;const i=s;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class jc{constructor(s,i,l,u,d){this.value=s,this.startEnd=i,this.value=s,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Oe(l,d)),this.resultPoints.push(new Oe(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof jc))return!1;const i=s;return this.value===i.value}hashCode(){return this.value}}class ss{constructor(){}static getRSSvalue(s,i,l){let u=0;for(let y of s)u+=y;let d=0,f=0,g=s.length;for(let y=0;y<g-1;y++){let b;for(b=1,f|=1<<y;b<s[y];b++,f&=~(1<<y)){let A=ss.combins(u-b-1,g-y-2);if(l&&f===0&&u-b-(g-y-1)>=g-y-1&&(A-=ss.combins(u-b-(g-y),g-y-2)),g-y-1>1){let M=0;for(let L=u-b-(g-y-2);L>i;L--)M+=ss.combins(u-b-L-1,g-y-3);A-=M*(g-1-y)}else u-b>i&&A--;d+=A}u-=b}return d}static combins(s,i){let l,u;s-i>i?(u=i,l=s-i):(u=s-i,l=i);let d=1,f=1;for(let g=s;g>l;g--)d*=g,f<=u&&(d/=f,f++);for(;f<=u;)d/=f,f++;return d}}class US{static buildBitArray(s){let i=s.length*2-1;s[s.length-1].getRightChar()==null&&(i-=1);let l=12*i,u=new P(l),d=0,g=s[0].getRightChar().getValue();for(let y=11;y>=0;--y)g&1<<y&&u.set(d),d++;for(let y=1;y<s.length;++y){let b=s[y],A=b.getLeftChar().getValue();for(let M=11;M>=0;--M)A&1<<M&&u.set(d),d++;if(b.getRightChar()!=null){let M=b.getRightChar().getValue();for(let L=11;L>=0;--L)M&1<<L&&u.set(d),d++}}return u}}class Gi{constructor(s,i){i?this.decodedInformation=null:(this.finished=s,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class bh{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Yn extends bh{constructor(s,i){super(s),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Yn.FNC1}}Yn.FNC1="$";class Yi extends bh{constructor(s,i,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class br extends bh{constructor(s,i,l){if(super(s),i<0||i>10||l<0||l>10)throw new D;this.firstDigit=i,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===br.FNC1}isSecondDigitFNC1(){return this.secondDigit===br.FNC1}isAnyFNC1(){return this.firstDigit===br.FNC1||this.secondDigit===br.FNC1}}br.FNC1=10;class Te{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new $;let i=s.substring(0,2);for(let d of Te.TWO_DIGIT_DATA_LENGTH)if(d[0]===i)return d[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(2,d[2],s):Te.processFixedAI(2,d[1],s);if(s.length<3)throw new $;let l=s.substring(0,3);for(let d of Te.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(3,d[2],s):Te.processFixedAI(3,d[1],s);for(let d of Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,d[2],s):Te.processFixedAI(4,d[1],s);if(s.length<4)throw new $;let u=s.substring(0,4);for(let d of Te.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,d[2],s):Te.processFixedAI(4,d[1],s);throw new $}static processFixedAI(s,i,l){if(l.length<s)throw new $;let u=l.substring(0,s);if(l.length<s+i)throw new $;let d=l.substring(s,s+i),f=l.substring(s+i),g="("+u+")"+d,y=Te.parseFieldsInGeneralPurpose(f);return y==null?g:g+y}static processVariableAI(s,i,l){let u=l.substring(0,s),d;l.length<s+i?d=l.length:d=s+i;let f=l.substring(s,d),g=l.substring(d),y="("+u+")"+f,b=Te.parseFieldsInGeneralPurpose(g);return b==null?y:y+b}}Te.VARIABLE_LENGTH=[],Te.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Te.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Te.VARIABLE_LENGTH,20],["22",Te.VARIABLE_LENGTH,29],["30",Te.VARIABLE_LENGTH,8],["37",Te.VARIABLE_LENGTH,8],["90",Te.VARIABLE_LENGTH,30],["91",Te.VARIABLE_LENGTH,30],["92",Te.VARIABLE_LENGTH,30],["93",Te.VARIABLE_LENGTH,30],["94",Te.VARIABLE_LENGTH,30],["95",Te.VARIABLE_LENGTH,30],["96",Te.VARIABLE_LENGTH,30],["97",Te.VARIABLE_LENGTH,3],["98",Te.VARIABLE_LENGTH,30],["99",Te.VARIABLE_LENGTH,30]],Te.THREE_DIGIT_DATA_LENGTH=[["240",Te.VARIABLE_LENGTH,30],["241",Te.VARIABLE_LENGTH,30],["242",Te.VARIABLE_LENGTH,6],["250",Te.VARIABLE_LENGTH,30],["251",Te.VARIABLE_LENGTH,30],["253",Te.VARIABLE_LENGTH,17],["254",Te.VARIABLE_LENGTH,20],["400",Te.VARIABLE_LENGTH,30],["401",Te.VARIABLE_LENGTH,30],["402",17],["403",Te.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Te.VARIABLE_LENGTH,20],["421",Te.VARIABLE_LENGTH,15],["422",3],["423",Te.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Te.VARIABLE_LENGTH,15],["391",Te.VARIABLE_LENGTH,18],["392",Te.VARIABLE_LENGTH,15],["393",Te.VARIABLE_LENGTH,18],["703",Te.VARIABLE_LENGTH,30]],Te.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Te.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Te.VARIABLE_LENGTH,20],["8003",Te.VARIABLE_LENGTH,30],["8004",Te.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Te.VARIABLE_LENGTH,30],["8008",Te.VARIABLE_LENGTH,12],["8018",18],["8020",Te.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Te.VARIABLE_LENGTH,70],["8200",Te.VARIABLE_LENGTH,70]];class ko{constructor(s){this.buffer=new de,this.information=s}decodeAllCodes(s,i){let l=i,u=null;do{let d=this.decodeGeneralPurposeField(l,u),f=Te.parseFieldsInGeneralPurpose(d.getNewString());if(f!=null&&s.append(f),d.isRemaining()?u=""+d.getRemainingValue():u=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let i=s;i<s+3;++i)if(this.information.get(i))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return d===0?new br(this.information.getSize(),br.FNC1,br.FNC1):new br(this.information.getSize(),d-1,br.FNC1)}let i=this.extractNumericValueFromBitArray(s,7),l=(i-8)/11,u=(i-8)%11;return new br(s+7,l,u)}extractNumericValueFromBitArray(s,i){return ko.extractNumericValueFromBitArray(this.information,s,i)}static extractNumericValueFromBitArray(s,i,l){let u=0;for(let d=0;d<l;++d)s.get(i+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(s,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Yi(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Yi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,i;do{let l=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),s=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),s=i.isFinished()):(i=this.parseNumericBlock(),s=i.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let i;return s.isSecondDigitFNC1()?i=new Yi(this.current.getPosition(),this.buffer.toString()):i=new Yi(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Gi(!0,i)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let i=new Yi(this.current.getPosition(),this.buffer.toString());return new Gi(!0,i)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Gi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let i=new Yi(this.current.getPosition(),this.buffer.toString());return new Gi(!0,i)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Gi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let i=new Yi(this.current.getPosition(),this.buffer.toString());return new Gi(!0,i)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Gi(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(s,5);if(i>=5&&i<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,8);return u>=232&&u<253}decodeIsoIec646(s){let i=this.extractNumericValueFromBitArray(s,5);if(i===15)return new Yn(s+5,Yn.FNC1);if(i>=5&&i<15)return new Yn(s+5,"0"+(i-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new Yn(s+7,""+(l+1));if(l>=90&&l<116)return new Yn(s+7,""+(l+7));let u=this.extractNumericValueFromBitArray(s,8),d;switch(u){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new D}return new Yn(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(s,5);if(i>=5&&i<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let i=this.extractNumericValueFromBitArray(s,5);if(i===15)return new Yn(s+5,Yn.FNC1);if(i>=5&&i<15)return new Yn(s+5,"0"+(i-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new Yn(s+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new sn("Decoding invalid alphanumeric value: "+l)}return new Yn(s+6,u)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let i=0;i<5&&i+s<this.information.getSize();++i)if(i===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+i))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let i=s;i<s+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let i=0;i<4&&i+s<this.information.getSize();++i)if(this.information.get(s+i))return!1;return!0}}class Ch{constructor(s){this.information=s,this.generalDecoder=new ko(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class qn extends Ch{constructor(s){super(s)}encodeCompressedGtin(s,i){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,i,l)}encodeCompressedGtinWithoutAI(s,i,l){for(let u=0;u<4;++u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*u,10);d/100===0&&s.append("0"),d/10===0&&s.append("0"),s.append(d)}qn.appendCheckDigit(s,l)}static appendCheckDigit(s,i){let l=0;for(let u=0;u<13;u++){let d=s.charAt(u+i).charCodeAt(0)-48;l+=u&1?d:3*d}l=10-l%10,l===10&&(l=0),s.append(l)}}qn.GTIN_SIZE=40;class Mo extends qn{constructor(s){super(s)}parseInformation(){let s=new de;s.append("(01)");let i=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Mo.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,Mo.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(s,Mo.HEADER_SIZE+44)}}Mo.HEADER_SIZE=4;class Rc extends Ch{constructor(s){super(s)}parseInformation(){let s=new de;return this.getGeneralDecoder().decodeAllCodes(s,Rc.HEADER_SIZE)}}Rc.HEADER_SIZE=5;class Oc extends qn{constructor(s){super(s)}encodeCompressedWeight(s,i,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i,l);this.addWeightCode(s,u);let d=this.checkWeight(u),f=1e5;for(let g=0;g<5;++g)d/f===0&&s.append("0"),f/=10;s.append(d)}}class is extends Oc{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=is.HEADER_SIZE+Oc.GTIN_SIZE+is.WEIGHT_SIZE)throw new $;let s=new de;return this.encodeCompressedGtin(s,is.HEADER_SIZE),this.encodeCompressedWeight(s,is.HEADER_SIZE+Oc.GTIN_SIZE,is.WEIGHT_SIZE),s.toString()}}is.HEADER_SIZE=5,is.WEIGHT_SIZE=15;class zS extends is{constructor(s){super(s)}addWeightCode(s,i){s.append("(3103)")}checkWeight(s){return s}}class VS extends is{constructor(s){super(s)}addWeightCode(s,i){i<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class os extends qn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<os.HEADER_SIZE+qn.GTIN_SIZE)throw new $;let s=new de;this.encodeCompressedGtin(s,os.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(os.HEADER_SIZE+qn.GTIN_SIZE,os.LAST_DIGIT_SIZE);s.append("(392"),s.append(i),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(os.HEADER_SIZE+qn.GTIN_SIZE+os.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}os.HEADER_SIZE=8,os.LAST_DIGIT_SIZE=2;class Un extends qn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Un.HEADER_SIZE+qn.GTIN_SIZE)throw new $;let s=new de;this.encodeCompressedGtin(s,Un.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Un.HEADER_SIZE+qn.GTIN_SIZE,Un.LAST_DIGIT_SIZE);s.append("(393"),s.append(i),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Un.HEADER_SIZE+qn.GTIN_SIZE+Un.LAST_DIGIT_SIZE,Un.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(Un.HEADER_SIZE+qn.GTIN_SIZE+Un.LAST_DIGIT_SIZE+Un.FIRST_THREE_DIGITS_SIZE,null);return s.append(u.getNewString()),s.toString()}}Un.HEADER_SIZE=8,Un.LAST_DIGIT_SIZE=2,Un.FIRST_THREE_DIGITS_SIZE=10;class Dt extends Oc{constructor(s,i,l){super(s),this.dateCode=l,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE+Dt.DATE_SIZE)throw new $;let s=new de;return this.encodeCompressedGtin(s,Dt.HEADER_SIZE),this.encodeCompressedWeight(s,Dt.HEADER_SIZE+Dt.GTIN_SIZE,Dt.WEIGHT_SIZE),this.encodeCompressedDate(s,Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Dt.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let u=l%32;l/=32;let d=l%12+1;l/=12;let f=l;f/10==0&&s.append("0"),s.append(f),d/10==0&&s.append("0"),s.append(d),u/10==0&&s.append("0"),s.append(u)}addWeightCode(s,i){s.append("("),s.append(this.firstAIdigits),s.append(i/1e5),s.append(")")}checkWeight(s){return s%1e5}}Dt.HEADER_SIZE=8,Dt.WEIGHT_SIZE=20,Dt.DATE_SIZE=16;function Up(k){try{if(k.get(1))return new Mo(k);if(!k.get(2))return new Rc(k);switch(ko.extractNumericValueFromBitArray(k,1,4)){case 4:return new zS(k);case 5:return new VS(k)}switch(ko.extractNumericValueFromBitArray(k,1,5)){case 12:return new os(k);case 13:return new Un(k)}switch(ko.extractNumericValueFromBitArray(k,1,7)){case 56:return new Dt(k,"310","11");case 57:return new Dt(k,"320","11");case 58:return new Dt(k,"310","13");case 59:return new Dt(k,"320","13");case 60:return new Dt(k,"310","15");case 61:return new Dt(k,"320","15");case 62:return new Dt(k,"310","17");case 63:return new Dt(k,"320","17")}}catch(s){throw console.log(s),new sn("unknown decoder: "+k)}}class Hs{constructor(s,i,l,u){this.leftchar=s,this.rightchar=i,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,i){return s instanceof Hs?Hs.equalsOrNull(s.leftchar,i.leftchar)&&Hs.equalsOrNull(s.rightchar,i.rightchar)&&Hs.equalsOrNull(s.finderpattern,i.finderpattern):!1}static equalsOrNull(s,i){return s===null?i===null:Hs.equals(s,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Sh{constructor(s,i,l){this.pairs=s,this.rowNumber=i,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,i){return s instanceof Sh?this.checkEqualitity(s,i)&&s.wasReversed===i.wasReversed:!1}checkEqualitity(s,i){if(!s||!i)return;let l;return s.forEach((u,d)=>{i.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class le extends Tn{constructor(s){super(...arguments),this.pairs=new Array(le.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,i,l){this.pairs.length=0,this.startFromEven=!1;try{return le.constructResult(this.decodeRow2pairs(s,i))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,le.constructResult(this.decodeRow2pairs(s,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,i){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,s))}catch(d){if(d instanceof $){if(!this.pairs.length)throw new $;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(s,!1),u){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new $}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),i}checkRows(s,i){for(let l=i;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let f of s)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!le.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(u);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new $}static isValidSequence(s){for(let i of le.FINDER_PATTERN_SEQUENCES){if(s.length>i.length)continue;let l=!0;for(let u=0;u<s.length;u++)if(s[u].getFinderPattern().getValue()!=i[u]){l=!1;break}if(l)return!0}return!1}storeRow(s,i){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>s){d=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),l++}d||u||le.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Sh(this.pairs,s,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,i){for(let l of i)if(l.getPairs().length!==s.length){for(let u of l.getPairs())for(let d of s)if(Hs.equals(u,d))break}}static isPartialRow(s,i){for(let l of i){let u=!0;for(let d of s){let f=!1;for(let g of l.getPairs())if(d.equals(g)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(s){let i=US.buildBitArray(s),u=Up(i).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),f=s[s.length-1].getFinderPattern().getResultPoints(),g=[d[0],d[1],f[0],f[1]];return new Q(u,null,null,g,Z.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),i=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),d=2;for(let g=1;g<this.pairs.size();++g){let y=this.pairs.get(g);u+=y.getLeftChar().getChecksumPortion(),d++;let b=y.getRightChar();b!=null&&(u+=b.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==i.getValue()}static getNextSecondBar(s,i){let l;return s.get(i)?(l=s.getNextUnset(i),l=s.getNextSet(l)):(l=s.getNextSet(i),l=s.getNextUnset(l)),l}retrieveNextPair(s,i,l){let u=i.length%2==0;this.startFromEven&&(u=!u);let d,f=!0,g=-1;do this.findNextPair(s,i,g),d=this.parseFoundFinderPattern(s,l,u),d==null?g=le.getNextSecondBar(s,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(s,d,u,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new $;let b;try{b=this.decodeDataCharacter(s,d,u,!1)}catch(A){b=null,this.verbose&&console.log(A)}return new Hs(y,b,d,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,i,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f;l>=0?f=l:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let g=i.length%2!=0;this.startFromEven&&(g=!g);let y=!1;for(;f<d&&(y=!s.get(f),!!y);)f++;let b=0,A=f;for(let M=f;M<d;M++)if(s.get(M)!=y)u[b]++;else{if(b==3){if(g&&le.reverseCounters(u),le.isFinderPattern(u)){this.startEnd[0]=A,this.startEnd[1]=M;return}g&&le.reverseCounters(u),A+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,b--}else b++;u[b]=1,y=!y}throw new $}static reverseCounters(s){let i=s.length;for(let l=0;l<i/2;++l){let u=s[l];s[l]=s[i-l-1],s[i-l-1]=u}}parseFoundFinderPattern(s,i,l){let u,d,f;if(l){let b=this.startEnd[0]-1;for(;b>=0&&!s.get(b);)b--;b++,u=this.startEnd[0]-b,d=b,f=this.startEnd[1]}else d=this.startEnd[0],f=s.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let g=this.getDecodeFinderCounters();T.arraycopy(g,0,g,1,g.length-1),g[0]=u;let y;try{y=this.parseFinderValue(g,le.FINDER_PATTERNS)}catch{return null}return new jc(y,[d,f],d,f,i)}decodeDataCharacter(s,i,l,u){let d=this.getDataCharacterCounters();for(let vt=0;vt<d.length;vt++)d[vt]=0;if(u)le.recordPatternInReverse(s,i.getStartEnd()[0],d);else{le.recordPattern(s,i.getStartEnd()[1],d);for(let vt=0,wn=d.length-1;vt<wn;vt++,wn--){let or=d[vt];d[vt]=d[wn],d[wn]=or}}let f=17,g=Be.sum(new Int32Array(d))/f,y=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new $;let b=this.getOddCounts(),A=this.getEvenCounts(),M=this.getOddRoundingErrors(),L=this.getEvenRoundingErrors();for(let vt=0;vt<d.length;vt++){let wn=1*d[vt]/g,or=wn+.5;if(or<1){if(wn<.3)throw new $;or=1}else if(or>8){if(wn>8.7)throw new $;or=8}let Fo=vt/2;vt&1?(A[Fo]=or,L[Fo]=wn-or):(b[Fo]=or,M[Fo]=wn-or)}this.adjustOddEvenCounts(f);let z=4*i.getValue()+(l?0:2)+(u?0:1)-1,H=0,W=0;for(let vt=b.length-1;vt>=0;vt--){if(le.isNotA1left(i,l,u)){let wn=le.WEIGHTS[z][2*vt];W+=b[vt]*wn}H+=b[vt]}let Y=0;for(let vt=A.length-1;vt>=0;vt--)if(le.isNotA1left(i,l,u)){let wn=le.WEIGHTS[z][2*vt+1];Y+=A[vt]*wn}let ee=W+Y;if(H&1||H>13||H<4)throw new $;let fe=(13-H)/2,pe=le.SYMBOL_WIDEST[fe],ue=9-pe,rt=ss.getRSSvalue(b,pe,!0),$e=ss.getRSSvalue(A,ue,!1),Kn=le.EVEN_TOTAL_SUBSET[fe],Ur=le.GSUM[fe],Qn=rt*Kn+$e+Ur;return new Oo(Qn,ee)}static isNotA1left(s,i,l){return!(s.getValue()==0&&i&&l)}adjustOddEvenCounts(s){let i=Be.sum(new Int32Array(this.getOddCounts())),l=Be.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;i>13?d=!0:i<4&&(u=!0);let f=!1,g=!1;l>13?g=!0:l<4&&(f=!0);let y=i+l-s,b=(i&1)==1,A=(l&1)==0;if(y==1)if(b){if(A)throw new $;d=!0}else{if(!A)throw new $;g=!0}else if(y==-1)if(b){if(A)throw new $;u=!0}else{if(!A)throw new $;f=!0}else if(y==0){if(b){if(!A)throw new $;i<l?(u=!0,g=!0):(d=!0,f=!0)}else if(A)throw new $}else throw new $;if(u){if(d)throw new $;le.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&le.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new $;le.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&le.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}le.SYMBOL_WIDEST=[7,5,4,3,1],le.EVEN_TOTAL_SUBSET=[4,20,52,104,204],le.GSUM=[0,348,1388,2948,3988],le.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],le.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],le.FINDER_PAT_A=0,le.FINDER_PAT_B=1,le.FINDER_PAT_C=2,le.FINDER_PAT_D=3,le.FINDER_PAT_E=4,le.FINDER_PAT_F=5,le.FINDER_PATTERN_SEQUENCES=[[le.FINDER_PAT_A,le.FINDER_PAT_A],[le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B],[le.FINDER_PAT_A,le.FINDER_PAT_C,le.FINDER_PAT_B,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_C],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F]],le.MAX_PAIRS=11;class HS extends Oo{constructor(s,i,l){super(s,i),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class $t extends Tn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,i,l){const u=this.decodePair(i,!1,s,l);$t.addOrTally(this.possibleLeftPairs,u),i.reverse();let d=this.decodePair(i,!0,s,l);$t.addOrTally(this.possibleRightPairs,d),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&$t.checkChecksum(f,g))return $t.constructResult(f,g)}throw new $}static addOrTally(s,i){if(i==null)return;let l=!1;for(let u of s)if(u.getValue()===i.getValue()){u.incrementCount(),l=!0;break}l||s.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,i){let l=4537077*s.getValue()+i.getValue(),u=new String(l).toString(),d=new de;for(let b=13-u.length;b>0;b--)d.append("0");d.append(u);let f=0;for(let b=0;b<13;b++){let A=d.charAt(b).charCodeAt(0)-48;f+=b&1?A:3*A}f=10-f%10,f===10&&(f=0),d.append(f.toString());let g=s.getFinderPattern().getResultPoints(),y=i.getFinderPattern().getResultPoints();return new Q(d.toString(),null,0,[g[0],g[1],y[0],y[1]],Z.RSS_14,new Date().getTime())}static checkChecksum(s,i){let l=(s.getChecksumPortion()+16*i.getChecksumPortion())%79,u=9*s.getFinderPattern().getValue()+i.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(s,i,l,u){try{let d=this.findFinderPattern(s,i),f=this.parseFoundFinderPattern(s,l,i,d),g=u==null?null:u.get(F.NEED_RESULT_POINT_CALLBACK);if(g!=null){let A=(d[0]+d[1])/2;i&&(A=s.getSize()-1-A),g.foundPossibleResultPoint(new Oe(A,l))}let y=this.decodeDataCharacter(s,f,!0),b=this.decodeDataCharacter(s,f,!1);return new HS(1597*y.getValue()+b.getValue(),y.getChecksumPortion()+4*b.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(s,i,l){let u=this.getDataCharacterCounters();for(let Y=0;Y<u.length;Y++)u[Y]=0;if(l)Bt.recordPatternInReverse(s,i.getStartEnd()[0],u);else{Bt.recordPattern(s,i.getStartEnd()[1]+1,u);for(let Y=0,ee=u.length-1;Y<ee;Y++,ee--){let fe=u[Y];u[Y]=u[ee],u[ee]=fe}}let d=l?16:15,f=Be.sum(new Int32Array(u))/d,g=this.getOddCounts(),y=this.getEvenCounts(),b=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Y=0;Y<u.length;Y++){let ee=u[Y]/f,fe=Math.floor(ee+.5);fe<1?fe=1:fe>8&&(fe=8);let pe=Math.floor(Y/2);Y&1?(y[pe]=fe,A[pe]=ee-fe):(g[pe]=fe,b[pe]=ee-fe)}this.adjustOddEvenCounts(l,d);let M=0,L=0;for(let Y=g.length-1;Y>=0;Y--)L*=9,L+=g[Y],M+=g[Y];let z=0,H=0;for(let Y=y.length-1;Y>=0;Y--)z*=9,z+=y[Y],H+=y[Y];let W=L+3*z;if(l){if(M&1||M>12||M<4)throw new $;let Y=(12-M)/2,ee=$t.OUTSIDE_ODD_WIDEST[Y],fe=9-ee,pe=ss.getRSSvalue(g,ee,!1),ue=ss.getRSSvalue(y,fe,!0),rt=$t.OUTSIDE_EVEN_TOTAL_SUBSET[Y],$e=$t.OUTSIDE_GSUM[Y];return new Oo(pe*rt+ue+$e,W)}else{if(H&1||H>10||H<4)throw new $;let Y=(10-H)/2,ee=$t.INSIDE_ODD_WIDEST[Y],fe=9-ee,pe=ss.getRSSvalue(g,ee,!0),ue=ss.getRSSvalue(y,fe,!1),rt=$t.INSIDE_ODD_TOTAL_SUBSET[Y],$e=$t.INSIDE_GSUM[Y];return new Oo(ue*rt+pe+$e,W)}}findFinderPattern(s,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=s.getSize(),d=!1,f=0;for(;f<u&&(d=!s.get(f),i!==d);)f++;let g=0,y=f;for(let b=f;b<u;b++)if(s.get(b)!==d)l[g]++;else{if(g===3){if(Tn.isFinderPattern(l))return[y,b];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,d=!d}throw new $}parseFoundFinderPattern(s,i,l,u){let d=s.get(u[0]),f=u[0]-1;for(;f>=0&&d!==s.get(f);)f--;f++;const g=u[0]-f,y=this.getDecodeFinderCounters(),b=new Int32Array(y.length);T.arraycopy(y,0,b,1,y.length-1),b[0]=g;const A=this.parseFinderValue(b,$t.FINDER_PATTERNS);let M=f,L=u[1];return l&&(M=s.getSize()-1-M,L=s.getSize()-1-L),new jc(A,[f,u[1]],M,L,i)}adjustOddEvenCounts(s,i){let l=Be.sum(new Int32Array(this.getOddCounts())),u=Be.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,g=!1,y=!1;s?(l>12?f=!0:l<4&&(d=!0),u>12?y=!0:u<4&&(g=!0)):(l>11?f=!0:l<5&&(d=!0),u>10?y=!0:u<4&&(g=!0));let b=l+u-i,A=(l&1)===(s?1:0),M=(u&1)===1;if(b===1)if(A){if(M)throw new $;f=!0}else{if(!M)throw new $;y=!0}else if(b===-1)if(A){if(M)throw new $;d=!0}else{if(!M)throw new $;g=!0}else if(b===0){if(A){if(!M)throw new $;l<u?(d=!0,y=!0):(f=!0,g=!0)}else if(M)throw new $}else throw new $;if(d){if(f)throw new $;Tn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Tn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new $;Tn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Tn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],$t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],$t.OUTSIDE_GSUM=[0,161,961,2015,2715],$t.INSIDE_GSUM=[0,336,1036,1516],$t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],$t.INSIDE_ODD_WIDEST=[2,4,6,8],$t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Do extends Bt{constructor(s,i){super(),this.readers=[],this.verbose=i===!0;const l=s?s.get(F.POSSIBLE_FORMATS):null,u=s&&s.get(F.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(Z.EAN_13)||l.includes(Z.UPC_A)||l.includes(Z.EAN_8)||l.includes(Z.UPC_E))&&this.readers.push(new wh(s)),l.includes(Z.CODE_39)&&this.readers.push(new Ft(u)),l.includes(Z.CODE_128)&&this.readers.push(new ye),l.includes(Z.ITF)&&this.readers.push(new nt),l.includes(Z.RSS_14)&&this.readers.push(new $t),l.includes(Z.RSS_EXPANDED)&&this.readers.push(new le(this.verbose))):(this.readers.push(new wh(s)),this.readers.push(new Ft),this.readers.push(new wh(s)),this.readers.push(new ye),this.readers.push(new nt),this.readers.push(new $t),this.readers.push(new le(this.verbose)))}decodeRow(s,i,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(s,i,l)}catch{}throw new $}reset(){this.readers.forEach(s=>s.reset())}}class WS extends ke{constructor(s=500,i){super(new Do(i),s,i)}}class ut{constructor(s,i,l){this.ecCodewords=s,this.ecBlocks=[i],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class lt{constructor(s,i){this.count=s,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class it{constructor(s,i,l,u,d,f){this.versionNumber=s,this.symbolSizeRows=i,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=f;let g=0;const y=f.getECCodewords(),b=f.getECBlocks();for(let A of b)g+=A.getCount()*(A.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,i){if(s&1||i&1)throw new D;for(let l of it.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===i)return l;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new it(1,10,10,8,8,new ut(5,new lt(1,3))),new it(2,12,12,10,10,new ut(7,new lt(1,5))),new it(3,14,14,12,12,new ut(10,new lt(1,8))),new it(4,16,16,14,14,new ut(12,new lt(1,12))),new it(5,18,18,16,16,new ut(14,new lt(1,18))),new it(6,20,20,18,18,new ut(18,new lt(1,22))),new it(7,22,22,20,20,new ut(20,new lt(1,30))),new it(8,24,24,22,22,new ut(24,new lt(1,36))),new it(9,26,26,24,24,new ut(28,new lt(1,44))),new it(10,32,32,14,14,new ut(36,new lt(1,62))),new it(11,36,36,16,16,new ut(42,new lt(1,86))),new it(12,40,40,18,18,new ut(48,new lt(1,114))),new it(13,44,44,20,20,new ut(56,new lt(1,144))),new it(14,48,48,22,22,new ut(68,new lt(1,174))),new it(15,52,52,24,24,new ut(42,new lt(2,102))),new it(16,64,64,14,14,new ut(56,new lt(2,140))),new it(17,72,72,16,16,new ut(36,new lt(4,92))),new it(18,80,80,18,18,new ut(48,new lt(4,114))),new it(19,88,88,20,20,new ut(56,new lt(4,144))),new it(20,96,96,22,22,new ut(68,new lt(4,174))),new it(21,104,104,24,24,new ut(56,new lt(6,136))),new it(22,120,120,18,18,new ut(68,new lt(6,175))),new it(23,132,132,20,20,new ut(62,new lt(8,163))),new it(24,144,144,22,22,new ut(62,new lt(8,156),new lt(2,155))),new it(25,8,18,6,16,new ut(7,new lt(1,5))),new it(26,8,32,6,14,new ut(11,new lt(1,10))),new it(27,12,26,10,24,new ut(14,new lt(1,16))),new it(28,12,36,10,16,new ut(18,new lt(1,22))),new it(29,16,36,14,16,new ut(24,new lt(1,32))),new it(30,16,48,14,22,new ut(28,new lt(1,49)))]}}it.VERSIONS=it.buildVersions();class Eh{constructor(s){const i=s.getHeight();if(i<8||i>144||i&1)throw new D;this.version=Eh.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new te(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const i=s.getHeight(),l=s.getWidth();return it.getVersionForDimensions(i,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let i=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,y=!1,b=!1,A=!1;do if(l===d&&u===0&&!g)s[i++]=this.readCorner1(d,f)&255,l-=2,u+=2,g=!0;else if(l===d-2&&u===0&&f&3&&!y)s[i++]=this.readCorner2(d,f)&255,l-=2,u+=2,y=!0;else if(l===d+4&&u===2&&!(f&7)&&!b)s[i++]=this.readCorner3(d,f)&255,l-=2,u+=2,b=!0;else if(l===d-2&&u===0&&(f&7)===4&&!A)s[i++]=this.readCorner4(d,f)&255,l-=2,u+=2,A=!0;else{do l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(s[i++]=this.readUtah(l,u,d,f)&255),l-=2,u+=2;while(l>=0&&u<f);l+=1,u+=3;do l>=0&&u<f&&!this.readMappingMatrix.get(u,l)&&(s[i++]=this.readUtah(l,u,d,f)&255),l+=2,u-=2;while(l<d&&u>=0);l+=3,u+=1}while(l<d||u<f);if(i!==this.version.getTotalCodewords())throw new D;return s}readModule(s,i,l,u){return s<0&&(s+=l,i+=4-(l+4&7)),i<0&&(i+=u,s+=4-(u+4&7)),this.readMappingMatrix.set(i,s),this.mappingBitMatrix.get(i,s)}readUtah(s,i,l,u){let d=0;return this.readModule(s-2,i-2,l,u)&&(d|=1),d<<=1,this.readModule(s-2,i-1,l,u)&&(d|=1),d<<=1,this.readModule(s-1,i-2,l,u)&&(d|=1),d<<=1,this.readModule(s-1,i-1,l,u)&&(d|=1),d<<=1,this.readModule(s-1,i,l,u)&&(d|=1),d<<=1,this.readModule(s,i-2,l,u)&&(d|=1),d<<=1,this.readModule(s,i-1,l,u)&&(d|=1),d<<=1,this.readModule(s,i,l,u)&&(d|=1),d}readCorner1(s,i){let l=0;return this.readModule(s-1,0,s,i)&&(l|=1),l<<=1,this.readModule(s-1,1,s,i)&&(l|=1),l<<=1,this.readModule(s-1,2,s,i)&&(l|=1),l<<=1,this.readModule(0,i-2,s,i)&&(l|=1),l<<=1,this.readModule(0,i-1,s,i)&&(l|=1),l<<=1,this.readModule(1,i-1,s,i)&&(l|=1),l<<=1,this.readModule(2,i-1,s,i)&&(l|=1),l<<=1,this.readModule(3,i-1,s,i)&&(l|=1),l}readCorner2(s,i){let l=0;return this.readModule(s-3,0,s,i)&&(l|=1),l<<=1,this.readModule(s-2,0,s,i)&&(l|=1),l<<=1,this.readModule(s-1,0,s,i)&&(l|=1),l<<=1,this.readModule(0,i-4,s,i)&&(l|=1),l<<=1,this.readModule(0,i-3,s,i)&&(l|=1),l<<=1,this.readModule(0,i-2,s,i)&&(l|=1),l<<=1,this.readModule(0,i-1,s,i)&&(l|=1),l<<=1,this.readModule(1,i-1,s,i)&&(l|=1),l}readCorner3(s,i){let l=0;return this.readModule(s-1,0,s,i)&&(l|=1),l<<=1,this.readModule(s-1,i-1,s,i)&&(l|=1),l<<=1,this.readModule(0,i-3,s,i)&&(l|=1),l<<=1,this.readModule(0,i-2,s,i)&&(l|=1),l<<=1,this.readModule(0,i-1,s,i)&&(l|=1),l<<=1,this.readModule(1,i-3,s,i)&&(l|=1),l<<=1,this.readModule(1,i-2,s,i)&&(l|=1),l<<=1,this.readModule(1,i-1,s,i)&&(l|=1),l}readCorner4(s,i){let l=0;return this.readModule(s-3,0,s,i)&&(l|=1),l<<=1,this.readModule(s-2,0,s,i)&&(l|=1),l<<=1,this.readModule(s-1,0,s,i)&&(l|=1),l<<=1,this.readModule(0,i-2,s,i)&&(l|=1),l<<=1,this.readModule(0,i-1,s,i)&&(l|=1),l<<=1,this.readModule(1,i-1,s,i)&&(l|=1),l<<=1,this.readModule(2,i-1,s,i)&&(l|=1),l<<=1,this.readModule(3,i-1,s,i)&&(l|=1),l}extractDataRegion(s){const i=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==i)throw new w("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=i/u|0,g=l/d|0,y=f*u,b=g*d,A=new te(b,y);for(let M=0;M<f;++M){const L=M*u;for(let z=0;z<g;++z){const H=z*d;for(let W=0;W<u;++W){const Y=M*(u+2)+1+W,ee=L+W;for(let fe=0;fe<d;++fe){const pe=z*(d+2)+1+fe;if(s.get(pe,Y)){const ue=H+fe;A.set(ue,ee)}}}}}return A}}class _h{constructor(s,i){this.numDataCodewords=s,this.codewords=i}static getDataBlocks(s,i){const l=i.getECBlocks();let u=0;const d=l.getECBlocks();for(let W of d)u+=W.getCount();const f=new Array(u);let g=0;for(let W of d)for(let Y=0;Y<W.getCount();Y++){const ee=W.getDataCodewords(),fe=l.getECCodewords()+ee;f[g++]=new _h(ee,new Uint8Array(fe))}const b=f[0].codewords.length-l.getECCodewords(),A=b-1;let M=0;for(let W=0;W<A;W++)for(let Y=0;Y<g;Y++)f[Y].codewords[W]=s[M++];const L=i.getVersionNumber()===24,z=L?8:g;for(let W=0;W<z;W++)f[W].codewords[b-1]=s[M++];const H=f[0].codewords.length;for(let W=b;W<H;W++)for(let Y=0;Y<g;Y++){const ee=L?(Y+8)%g:Y,fe=L&&ee>7?W-1:W;f[ee].codewords[fe]=s[M++]}if(M!==s.length)throw new w;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Nh{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new w(""+s);let i=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,g=s<f?s:f,y=f-g,b=255>>8-g<<y;i=(d[u]&b)>>y,s-=g,l+=g,l===8&&(l=0,u++)}if(s>0){for(;s>=8;)i=i<<8|d[u]&255,u++,s-=8;if(s>0){const f=8-s,g=255>>f<<f;i=i<<s|(d[u]&g)>>f,l+=s}}return this.bitOffset=l,this.byteOffset=u,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var on;(function(k){k[k.PAD_ENCODE=0]="PAD_ENCODE",k[k.ASCII_ENCODE=1]="ASCII_ENCODE",k[k.C40_ENCODE=2]="C40_ENCODE",k[k.TEXT_ENCODE=3]="TEXT_ENCODE",k[k.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",k[k.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",k[k.BASE256_ENCODE=6]="BASE256_ENCODE"})(on||(on={}));class Ws{static decode(s){const i=new Nh(s),l=new de,u=new de,d=new Array;let f=on.ASCII_ENCODE;do if(f===on.ASCII_ENCODE)f=this.decodeAsciiSegment(i,l,u);else{switch(f){case on.C40_ENCODE:this.decodeC40Segment(i,l);break;case on.TEXT_ENCODE:this.decodeTextSegment(i,l);break;case on.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,l);break;case on.EDIFACT_ENCODE:this.decodeEdifactSegment(i,l);break;case on.BASE256_ENCODE:this.decodeBase256Segment(i,l,d);break;default:throw new D}f=on.ASCII_ENCODE}while(f!==on.PAD_ENCODE&&i.available()>0);return u.length()>0&&l.append(u.toString()),new st(s,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(s,i,l){let u=!1;do{let d=s.readBits(8);if(d===0)throw new D;if(d<=128)return u&&(d+=128),i.append(String.fromCharCode(d-1)),on.ASCII_ENCODE;if(d===129)return on.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&i.append("0"),i.append(""+f)}else switch(d){case 230:return on.C40_ENCODE;case 231:return on.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:i.append("[)>05"),l.insert(0,"");break;case 237:i.append("[)>06"),l.insert(0,"");break;case 238:return on.ANSIX12_ENCODE;case 239:return on.TEXT_ENCODE;case 240:return on.EDIFACT_ENCODE;case 241:break;default:if(d!==254||s.available()!==0)throw new D;break}}while(s.available()>0);return on.ASCII_ENCODE}static decodeC40Segment(s,i){let l=!1;const u=[];let d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),u);for(let g=0;g<3;g++){const y=u[g];switch(d){case 0:if(y<3)d=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const b=this.C40_BASIC_SET_CHARS[y];l?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):i.append(b)}else throw new D;break;case 1:l?(i.append(String.fromCharCode(y+128)),l=!1):i.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const b=this.C40_SHIFT2_SET_CHARS[y];l?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):i.append(b)}else switch(y){case 27:i.append("");break;case 30:l=!0;break;default:throw new D}d=0;break;case 3:l?(i.append(String.fromCharCode(y+224)),l=!1):i.append(String.fromCharCode(y+96)),d=0;break;default:throw new D}}}while(s.available()>0)}static decodeTextSegment(s,i){let l=!1,u=[],d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),u);for(let g=0;g<3;g++){const y=u[g];switch(d){case 0:if(y<3)d=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const b=this.TEXT_BASIC_SET_CHARS[y];l?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):i.append(b)}else throw new D;break;case 1:l?(i.append(String.fromCharCode(y+128)),l=!1):i.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const b=this.TEXT_SHIFT2_SET_CHARS[y];l?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):i.append(b)}else switch(y){case 27:i.append("");break;case 30:l=!0;break;default:throw new D}d=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const b=this.TEXT_SHIFT3_SET_CHARS[y];l?(i.append(String.fromCharCode(b.charCodeAt(0)+128)),l=!1):i.append(b),d=0}else throw new D;break;default:throw new D}}}while(s.available()>0)}static decodeAnsiX12Segment(s,i){const l=[];do{if(s.available()===8)return;const u=s.readBits(8);if(u===254)return;this.parseTwoBytes(u,s.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new D;break}}}while(s.available()>0)}static parseTwoBytes(s,i,l){let u=(s<<8)+i-1,d=Math.floor(u/1600);l[0]=d,u-=d*1600,d=Math.floor(u/40),l[1]=d,l[2]=u-d*40}static decodeEdifactSegment(s,i){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let u=s.readBits(6);if(u===31){const d=8-s.getBitOffset();d!==8&&s.readBits(d);return}u&32||(u|=64),i.append(String.fromCharCode(u))}}while(s.available()>0)}static decodeBase256Segment(s,i,l){let u=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),u++);let f;if(d===0?f=s.available()/8|0:d<250?f=d:f=250*(d-249)+this.unrandomize255State(s.readBits(8),u++),f<0)throw new D;const g=new Uint8Array(f);for(let y=0;y<f;y++){if(s.available()<8)throw new D;g[y]=this.unrandomize255State(s.readBits(8),u++)}l.push(g);try{i.append(se.decode(g,X.ISO88591))}catch(y){throw new sn("Platform does not support required encoding: "+y.message)}}static unrandomize255State(s,i){const l=149*i%255+1,u=s-l;return u>=0?u:u+256}}Ws.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ws.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ws.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ws.TEXT_SHIFT2_SET_CHARS=Ws.C40_SHIFT2_SET_CHARS,Ws.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class $S{constructor(){this.rsDecoder=new dn(De.DATA_MATRIX_FIELD_256)}decode(s){const i=new Eh(s),l=i.getVersion(),u=i.readCodewords(),d=_h.getDataBlocks(u,l);let f=0;for(let b of d)f+=b.getNumDataCodewords();const g=new Uint8Array(f),y=d.length;for(let b=0;b<y;b++){const A=d[b],M=A.getCodewords(),L=A.getNumDataCodewords();this.correctErrors(M,L);for(let z=0;z<L;z++)g[z*y+b]=M[z]}return Ws.decode(g)}correctErrors(s,i){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-i)}catch{throw new I}for(let u=0;u<i;u++)s[u]=l[u]}}class Qt{constructor(s){this.image=s,this.rectangleDetector=new Lr(this.image)}detect(){const s=this.rectangleDetector.detect();let i=this.detectSolid1(s);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new $;i=this.shiftToModuleCenter(i);const l=i[0],u=i[1],d=i[2],f=i[3];let g=this.transitionsBetween(l,f)+1,y=this.transitionsBetween(d,f)+1;(g&1)===1&&(g+=1),(y&1)===1&&(y+=1),4*g<7*y&&4*y<7*g&&(g=y=Math.max(g,y));let b=Qt.sampleGrid(this.image,l,u,d,f,g,y);return new Io(b,[l,u,d,f])}static shiftPoint(s,i,l){let u=(i.getX()-s.getX())/(l+1),d=(i.getY()-s.getY())/(l+1);return new Oe(s.getX()+u,s.getY()+d)}static moveAway(s,i,l){let u=s.getX(),d=s.getY();return u<i?u-=1:u+=1,d<l?d-=1:d+=1,new Oe(u,d)}detectSolid1(s){let i=s[0],l=s[1],u=s[3],d=s[2],f=this.transitionsBetween(i,l),g=this.transitionsBetween(l,u),y=this.transitionsBetween(u,d),b=this.transitionsBetween(d,i),A=f,M=[d,i,l,u];return A>g&&(A=g,M[0]=i,M[1]=l,M[2]=u,M[3]=d),A>y&&(A=y,M[0]=l,M[1]=u,M[2]=d,M[3]=i),A>b&&(M[0]=u,M[1]=d,M[2]=i,M[3]=l),M}detectSolid2(s){let i=s[0],l=s[1],u=s[2],d=s[3],f=this.transitionsBetween(i,d),g=Qt.shiftPoint(l,u,(f+1)*4),y=Qt.shiftPoint(u,l,(f+1)*4),b=this.transitionsBetween(g,i),A=this.transitionsBetween(y,d);return b<A?(s[0]=i,s[1]=l,s[2]=u,s[3]=d):(s[0]=l,s[1]=u,s[2]=d,s[3]=i),s}correctTopRight(s){let i=s[0],l=s[1],u=s[2],d=s[3],f=this.transitionsBetween(i,d),g=this.transitionsBetween(l,d),y=Qt.shiftPoint(i,l,(g+1)*4),b=Qt.shiftPoint(u,l,(f+1)*4);f=this.transitionsBetween(y,d),g=this.transitionsBetween(b,d);let A=new Oe(d.getX()+(u.getX()-l.getX())/(f+1),d.getY()+(u.getY()-l.getY())/(f+1)),M=new Oe(d.getX()+(i.getX()-l.getX())/(g+1),d.getY()+(i.getY()-l.getY())/(g+1));if(!this.isValid(A))return this.isValid(M)?M:null;if(!this.isValid(M))return A;let L=this.transitionsBetween(y,A)+this.transitionsBetween(b,A),z=this.transitionsBetween(y,M)+this.transitionsBetween(b,M);return L>z?A:M}shiftToModuleCenter(s){let i=s[0],l=s[1],u=s[2],d=s[3],f=this.transitionsBetween(i,d)+1,g=this.transitionsBetween(u,d)+1,y=Qt.shiftPoint(i,l,g*4),b=Qt.shiftPoint(u,l,f*4);f=this.transitionsBetween(y,d)+1,g=this.transitionsBetween(b,d)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let A=(i.getX()+l.getX()+u.getX()+d.getX())/4,M=(i.getY()+l.getY()+u.getY()+d.getY())/4;i=Qt.moveAway(i,A,M),l=Qt.moveAway(l,A,M),u=Qt.moveAway(u,A,M),d=Qt.moveAway(d,A,M);let L,z;return y=Qt.shiftPoint(i,l,g*4),y=Qt.shiftPoint(y,d,f*4),L=Qt.shiftPoint(l,i,g*4),L=Qt.shiftPoint(L,u,f*4),b=Qt.shiftPoint(u,d,g*4),b=Qt.shiftPoint(b,l,f*4),z=Qt.shiftPoint(d,u,g*4),z=Qt.shiftPoint(z,i,f*4),[y,L,b,z]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,i,l,u,d,f,g){return Br.getInstance().sampleGrid(s,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,i.getX(),i.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(s,i){let l=Math.trunc(s.getX()),u=Math.trunc(s.getY()),d=Math.trunc(i.getX()),f=Math.trunc(i.getY()),g=Math.abs(f-u)>Math.abs(d-l);if(g){let W=l;l=u,u=W,W=d,d=f,f=W}let y=Math.abs(d-l),b=Math.abs(f-u),A=-y/2,M=u<f?1:-1,L=l<d?1:-1,z=0,H=this.image.get(g?u:l,g?l:u);for(let W=l,Y=u;W!==d;W+=L){let ee=this.image.get(g?Y:W,g?W:Y);if(ee!==H&&(z++,H=ee),A+=b,A>0){if(Y===f)break;Y+=M,A-=y}}return z}}class $s{constructor(){this.decoder=new $S}decode(s,i=null){let l,u;if(i!=null&&i.has(F.PURE_BARCODE)){const b=$s.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(b),u=$s.NO_POINTS}else{const b=new Qt(s.getBlackMatrix()).detect();l=this.decoder.decode(b.getBits()),u=b.getPoints()}const d=l.getRawBytes(),f=new Q(l.getText(),d,8*d.length,u,Z.DATA_MATRIX,T.currentTimeMillis()),g=l.getByteSegments();g!=null&&f.putMetadata(Re.BYTE_SEGMENTS,g);const y=l.getECLevel();return y!=null&&f.putMetadata(Re.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(s){const i=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(i==null||l==null)throw new $;const u=this.moduleSize(i,s);let d=i[1];const f=l[1];let g=i[0];const b=(l[0]-g+1)/u,A=(f-d+1)/u;if(b<=0||A<=0)throw new $;const M=u/2;d+=M,g+=M;const L=new te(b,A);for(let z=0;z<A;z++){const H=d+z*u;for(let W=0;W<b;W++)s.get(g+W*u,H)&&L.set(W,z)}return L}static moduleSize(s,i){const l=i.getWidth();let u=s[0];const d=s[1];for(;u<l&&i.get(u,d);)u++;if(u===l)throw new $;const f=u-s[0];if(f===0)throw new $;return f}}$s.NO_POINTS=[];class GS extends ke{constructor(s=500){super(new $s,s)}}var Po;(function(k){k[k.L=0]="L",k[k.M=1]="M",k[k.Q=2]="Q",k[k.H=3]="H"})(Po||(Po={}));class bt{constructor(s,i,l){this.value=s,this.stringValue=i,this.bits=l,bt.FOR_BITS.set(l,this),bt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return bt.L;case"M":return bt.M;case"Q":return bt.Q;case"H":return bt.H;default:throw new v(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof bt))return!1;const i=s;return this.value===i.value}static forBits(s){if(s<0||s>=bt.FOR_BITS.size)throw new w;return bt.FOR_BITS.get(s)}}bt.FOR_BITS=new Map,bt.FOR_VALUE=new Map,bt.L=new bt(Po.L,"L",1),bt.M=new bt(Po.M,"M",0),bt.Q=new bt(Po.Q,"Q",3),bt.H=new bt(Po.H,"H",2);class In{constructor(s){this.errorCorrectionLevel=bt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,i){return N.bitCount(s^i)}static decodeFormatInformation(s,i){const l=In.doDecodeFormatInformation(s,i);return l!==null?l:In.doDecodeFormatInformation(s^In.FORMAT_INFO_MASK_QR,i^In.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,i){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of In.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===s||f===i)return new In(d[1]);let g=In.numBitsDiffering(s,f);g<l&&(u=d[1],l=g),s!==i&&(g=In.numBitsDiffering(i,f),g<l&&(u=d[1],l=g))}return l<=3?new In(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof In))return!1;const i=s;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}In.FORMAT_INFO_MASK_QR=21522,In.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class q{constructor(s,...i){this.ecCodewordsPerBlock=s,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const i=this.ecBlocks;for(const l of i)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(s,i){this.count=s,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Me{constructor(s,i,...l){this.versionNumber=s,this.alignmentPatternCenters=i,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const g of f)u+=g.getCount()*(g.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new D;try{return this.getVersionForNumber((s-17)/4)}catch{throw new D}}static getVersionForNumber(s){if(s<1||s>40)throw new w;return Me.VERSIONS[s-1]}static decodeVersionInformation(s){let i=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<Me.VERSION_DECODE_INFO.length;u++){const d=Me.VERSION_DECODE_INFO[u];if(d===s)return Me.getVersionForNumber(u+7);const f=In.numBitsDiffering(s,d);f<i&&(l=u+7,i=f)}return i<=3?Me.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),i=new te(s);i.setRegion(0,0,9,9),i.setRegion(s-8,0,8,9),i.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let f=0;f<l;f++)u===0&&(f===0||f===l-1)||u===l-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return i.setRegion(6,9,1,s-17),i.setRegion(9,6,s-17,1),this.versionNumber>6&&(i.setRegion(s-11,0,3,6),i.setRegion(0,s-11,6,3)),i}toString(){return""+this.versionNumber}}Me.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Me.VERSIONS=[new Me(1,new Int32Array(0),new q(7,new B(1,19)),new q(10,new B(1,16)),new q(13,new B(1,13)),new q(17,new B(1,9))),new Me(2,Int32Array.from([6,18]),new q(10,new B(1,34)),new q(16,new B(1,28)),new q(22,new B(1,22)),new q(28,new B(1,16))),new Me(3,Int32Array.from([6,22]),new q(15,new B(1,55)),new q(26,new B(1,44)),new q(18,new B(2,17)),new q(22,new B(2,13))),new Me(4,Int32Array.from([6,26]),new q(20,new B(1,80)),new q(18,new B(2,32)),new q(26,new B(2,24)),new q(16,new B(4,9))),new Me(5,Int32Array.from([6,30]),new q(26,new B(1,108)),new q(24,new B(2,43)),new q(18,new B(2,15),new B(2,16)),new q(22,new B(2,11),new B(2,12))),new Me(6,Int32Array.from([6,34]),new q(18,new B(2,68)),new q(16,new B(4,27)),new q(24,new B(4,19)),new q(28,new B(4,15))),new Me(7,Int32Array.from([6,22,38]),new q(20,new B(2,78)),new q(18,new B(4,31)),new q(18,new B(2,14),new B(4,15)),new q(26,new B(4,13),new B(1,14))),new Me(8,Int32Array.from([6,24,42]),new q(24,new B(2,97)),new q(22,new B(2,38),new B(2,39)),new q(22,new B(4,18),new B(2,19)),new q(26,new B(4,14),new B(2,15))),new Me(9,Int32Array.from([6,26,46]),new q(30,new B(2,116)),new q(22,new B(3,36),new B(2,37)),new q(20,new B(4,16),new B(4,17)),new q(24,new B(4,12),new B(4,13))),new Me(10,Int32Array.from([6,28,50]),new q(18,new B(2,68),new B(2,69)),new q(26,new B(4,43),new B(1,44)),new q(24,new B(6,19),new B(2,20)),new q(28,new B(6,15),new B(2,16))),new Me(11,Int32Array.from([6,30,54]),new q(20,new B(4,81)),new q(30,new B(1,50),new B(4,51)),new q(28,new B(4,22),new B(4,23)),new q(24,new B(3,12),new B(8,13))),new Me(12,Int32Array.from([6,32,58]),new q(24,new B(2,92),new B(2,93)),new q(22,new B(6,36),new B(2,37)),new q(26,new B(4,20),new B(6,21)),new q(28,new B(7,14),new B(4,15))),new Me(13,Int32Array.from([6,34,62]),new q(26,new B(4,107)),new q(22,new B(8,37),new B(1,38)),new q(24,new B(8,20),new B(4,21)),new q(22,new B(12,11),new B(4,12))),new Me(14,Int32Array.from([6,26,46,66]),new q(30,new B(3,115),new B(1,116)),new q(24,new B(4,40),new B(5,41)),new q(20,new B(11,16),new B(5,17)),new q(24,new B(11,12),new B(5,13))),new Me(15,Int32Array.from([6,26,48,70]),new q(22,new B(5,87),new B(1,88)),new q(24,new B(5,41),new B(5,42)),new q(30,new B(5,24),new B(7,25)),new q(24,new B(11,12),new B(7,13))),new Me(16,Int32Array.from([6,26,50,74]),new q(24,new B(5,98),new B(1,99)),new q(28,new B(7,45),new B(3,46)),new q(24,new B(15,19),new B(2,20)),new q(30,new B(3,15),new B(13,16))),new Me(17,Int32Array.from([6,30,54,78]),new q(28,new B(1,107),new B(5,108)),new q(28,new B(10,46),new B(1,47)),new q(28,new B(1,22),new B(15,23)),new q(28,new B(2,14),new B(17,15))),new Me(18,Int32Array.from([6,30,56,82]),new q(30,new B(5,120),new B(1,121)),new q(26,new B(9,43),new B(4,44)),new q(28,new B(17,22),new B(1,23)),new q(28,new B(2,14),new B(19,15))),new Me(19,Int32Array.from([6,30,58,86]),new q(28,new B(3,113),new B(4,114)),new q(26,new B(3,44),new B(11,45)),new q(26,new B(17,21),new B(4,22)),new q(26,new B(9,13),new B(16,14))),new Me(20,Int32Array.from([6,34,62,90]),new q(28,new B(3,107),new B(5,108)),new q(26,new B(3,41),new B(13,42)),new q(30,new B(15,24),new B(5,25)),new q(28,new B(15,15),new B(10,16))),new Me(21,Int32Array.from([6,28,50,72,94]),new q(28,new B(4,116),new B(4,117)),new q(26,new B(17,42)),new q(28,new B(17,22),new B(6,23)),new q(30,new B(19,16),new B(6,17))),new Me(22,Int32Array.from([6,26,50,74,98]),new q(28,new B(2,111),new B(7,112)),new q(28,new B(17,46)),new q(30,new B(7,24),new B(16,25)),new q(24,new B(34,13))),new Me(23,Int32Array.from([6,30,54,78,102]),new q(30,new B(4,121),new B(5,122)),new q(28,new B(4,47),new B(14,48)),new q(30,new B(11,24),new B(14,25)),new q(30,new B(16,15),new B(14,16))),new Me(24,Int32Array.from([6,28,54,80,106]),new q(30,new B(6,117),new B(4,118)),new q(28,new B(6,45),new B(14,46)),new q(30,new B(11,24),new B(16,25)),new q(30,new B(30,16),new B(2,17))),new Me(25,Int32Array.from([6,32,58,84,110]),new q(26,new B(8,106),new B(4,107)),new q(28,new B(8,47),new B(13,48)),new q(30,new B(7,24),new B(22,25)),new q(30,new B(22,15),new B(13,16))),new Me(26,Int32Array.from([6,30,58,86,114]),new q(28,new B(10,114),new B(2,115)),new q(28,new B(19,46),new B(4,47)),new q(28,new B(28,22),new B(6,23)),new q(30,new B(33,16),new B(4,17))),new Me(27,Int32Array.from([6,34,62,90,118]),new q(30,new B(8,122),new B(4,123)),new q(28,new B(22,45),new B(3,46)),new q(30,new B(8,23),new B(26,24)),new q(30,new B(12,15),new B(28,16))),new Me(28,Int32Array.from([6,26,50,74,98,122]),new q(30,new B(3,117),new B(10,118)),new q(28,new B(3,45),new B(23,46)),new q(30,new B(4,24),new B(31,25)),new q(30,new B(11,15),new B(31,16))),new Me(29,Int32Array.from([6,30,54,78,102,126]),new q(30,new B(7,116),new B(7,117)),new q(28,new B(21,45),new B(7,46)),new q(30,new B(1,23),new B(37,24)),new q(30,new B(19,15),new B(26,16))),new Me(30,Int32Array.from([6,26,52,78,104,130]),new q(30,new B(5,115),new B(10,116)),new q(28,new B(19,47),new B(10,48)),new q(30,new B(15,24),new B(25,25)),new q(30,new B(23,15),new B(25,16))),new Me(31,Int32Array.from([6,30,56,82,108,134]),new q(30,new B(13,115),new B(3,116)),new q(28,new B(2,46),new B(29,47)),new q(30,new B(42,24),new B(1,25)),new q(30,new B(23,15),new B(28,16))),new Me(32,Int32Array.from([6,34,60,86,112,138]),new q(30,new B(17,115)),new q(28,new B(10,46),new B(23,47)),new q(30,new B(10,24),new B(35,25)),new q(30,new B(19,15),new B(35,16))),new Me(33,Int32Array.from([6,30,58,86,114,142]),new q(30,new B(17,115),new B(1,116)),new q(28,new B(14,46),new B(21,47)),new q(30,new B(29,24),new B(19,25)),new q(30,new B(11,15),new B(46,16))),new Me(34,Int32Array.from([6,34,62,90,118,146]),new q(30,new B(13,115),new B(6,116)),new q(28,new B(14,46),new B(23,47)),new q(30,new B(44,24),new B(7,25)),new q(30,new B(59,16),new B(1,17))),new Me(35,Int32Array.from([6,30,54,78,102,126,150]),new q(30,new B(12,121),new B(7,122)),new q(28,new B(12,47),new B(26,48)),new q(30,new B(39,24),new B(14,25)),new q(30,new B(22,15),new B(41,16))),new Me(36,Int32Array.from([6,24,50,76,102,128,154]),new q(30,new B(6,121),new B(14,122)),new q(28,new B(6,47),new B(34,48)),new q(30,new B(46,24),new B(10,25)),new q(30,new B(2,15),new B(64,16))),new Me(37,Int32Array.from([6,28,54,80,106,132,158]),new q(30,new B(17,122),new B(4,123)),new q(28,new B(29,46),new B(14,47)),new q(30,new B(49,24),new B(10,25)),new q(30,new B(24,15),new B(46,16))),new Me(38,Int32Array.from([6,32,58,84,110,136,162]),new q(30,new B(4,122),new B(18,123)),new q(28,new B(13,46),new B(32,47)),new q(30,new B(48,24),new B(14,25)),new q(30,new B(42,15),new B(32,16))),new Me(39,Int32Array.from([6,26,54,82,110,138,166]),new q(30,new B(20,117),new B(4,118)),new q(28,new B(40,47),new B(7,48)),new q(30,new B(43,24),new B(22,25)),new q(30,new B(10,15),new B(67,16))),new Me(40,Int32Array.from([6,30,58,86,114,142,170]),new q(30,new B(19,118),new B(6,119)),new q(28,new B(18,47),new B(31,48)),new q(30,new B(34,24),new B(34,25)),new q(30,new B(20,15),new B(61,16)))];var fn;(function(k){k[k.DATA_MASK_000=0]="DATA_MASK_000",k[k.DATA_MASK_001=1]="DATA_MASK_001",k[k.DATA_MASK_010=2]="DATA_MASK_010",k[k.DATA_MASK_011=3]="DATA_MASK_011",k[k.DATA_MASK_100=4]="DATA_MASK_100",k[k.DATA_MASK_101=5]="DATA_MASK_101",k[k.DATA_MASK_110=6]="DATA_MASK_110",k[k.DATA_MASK_111=7]="DATA_MASK_111"})(fn||(fn={}));class Cr{constructor(s,i){this.value=s,this.isMasked=i}unmaskBitMatrix(s,i){for(let l=0;l<i;l++)for(let u=0;u<i;u++)this.isMasked(l,u)&&s.flip(u,l)}}Cr.values=new Map([[fn.DATA_MASK_000,new Cr(fn.DATA_MASK_000,(k,s)=>(k+s&1)===0)],[fn.DATA_MASK_001,new Cr(fn.DATA_MASK_001,(k,s)=>(k&1)===0)],[fn.DATA_MASK_010,new Cr(fn.DATA_MASK_010,(k,s)=>s%3===0)],[fn.DATA_MASK_011,new Cr(fn.DATA_MASK_011,(k,s)=>(k+s)%3===0)],[fn.DATA_MASK_100,new Cr(fn.DATA_MASK_100,(k,s)=>(Math.floor(k/2)+Math.floor(s/3)&1)===0)],[fn.DATA_MASK_101,new Cr(fn.DATA_MASK_101,(k,s)=>k*s%6===0)],[fn.DATA_MASK_110,new Cr(fn.DATA_MASK_110,(k,s)=>k*s%6<3)],[fn.DATA_MASK_111,new Cr(fn.DATA_MASK_111,(k,s)=>(k+s+k*s%3&1)===0)]]);class YS{constructor(s){const i=s.getHeight();if(i<21||(i&3)!==1)throw new D;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const i=this.bitMatrix.getHeight();let l=0;const u=i-7;for(let d=i-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=i-8;d<i;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=In.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),i=Math.floor((s-17)/4);if(i<=6)return Me.getVersionForNumber(i);let l=0;const u=s-11;for(let f=5;f>=0;f--)for(let g=s-9;g>=u;g--)l=this.copyBit(g,f,l);let d=Me.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let g=s-9;g>=u;g--)l=this.copyBit(f,g,l);if(d=Me.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new D}copyBit(s,i,l){return(this.isMirror?this.bitMatrix.get(i,s):this.bitMatrix.get(s,i))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),i=this.readVersion(),l=Cr.values.get(s.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=i.buildFunctionPattern();let f=!0;const g=new Uint8Array(i.getTotalCodewords());let y=0,b=0,A=0;for(let M=u-1;M>0;M-=2){M===6&&M--;for(let L=0;L<u;L++){const z=f?u-1-L:L;for(let H=0;H<2;H++)d.get(M-H,z)||(A++,b<<=1,this.bitMatrix.get(M-H,z)&&(b|=1),A===8&&(g[y++]=b,A=0,b=0))}f=!f}if(y!==i.getTotalCodewords())throw new D;return g}remask(){if(this.parsedFormatInfo===null)return;const s=Cr.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,i)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let i=0,l=s.getWidth();i<l;i++)for(let u=i+1,d=s.getHeight();u<d;u++)s.get(i,u)!==s.get(u,i)&&(s.flip(u,i),s.flip(i,u))}}class Ah{constructor(s,i){this.numDataCodewords=s,this.codewords=i}static getDataBlocks(s,i,l){if(s.length!==i.getTotalCodewords())throw new w;const u=i.getECBlocksForLevel(l);let d=0;const f=u.getECBlocks();for(const H of f)d+=H.getCount();const g=new Array(d);let y=0;for(const H of f)for(let W=0;W<H.getCount();W++){const Y=H.getDataCodewords(),ee=u.getECCodewordsPerBlock()+Y;g[y++]=new Ah(Y,new Uint8Array(ee))}const b=g[0].codewords.length;let A=g.length-1;for(;A>=0&&g[A].codewords.length!==b;)A--;A++;const M=b-u.getECCodewordsPerBlock();let L=0;for(let H=0;H<M;H++)for(let W=0;W<y;W++)g[W].codewords[H]=s[L++];for(let H=A;H<y;H++)g[H].codewords[M]=s[L++];const z=g[0].codewords.length;for(let H=M;H<z;H++)for(let W=0;W<y;W++){const Y=W<A?H:H+1;g[W].codewords[Y]=s[L++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Sr;(function(k){k[k.TERMINATOR=0]="TERMINATOR",k[k.NUMERIC=1]="NUMERIC",k[k.ALPHANUMERIC=2]="ALPHANUMERIC",k[k.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",k[k.BYTE=4]="BYTE",k[k.ECI=5]="ECI",k[k.KANJI=6]="KANJI",k[k.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",k[k.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",k[k.HANZI=9]="HANZI"})(Sr||(Sr={}));class Le{constructor(s,i,l,u){this.value=s,this.stringValue=i,this.characterCountBitsForVersions=l,this.bits=u,Le.FOR_BITS.set(u,this),Le.FOR_VALUE.set(s,this)}static forBits(s){const i=Le.FOR_BITS.get(s);if(i===void 0)throw new w;return i}getCharacterCountBits(s){const i=s.getVersionNumber();let l;return i<=9?l=0:i<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Le))return!1;const i=s;return this.value===i.value}toString(){return this.stringValue}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.TERMINATOR=new Le(Sr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Le.NUMERIC=new Le(Sr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Le.ALPHANUMERIC=new Le(Sr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Le.STRUCTURED_APPEND=new Le(Sr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Le.BYTE=new Le(Sr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Le.ECI=new Le(Sr.ECI,"ECI",Int32Array.from([0,0,0]),7),Le.KANJI=new Le(Sr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Le.FNC1_FIRST_POSITION=new Le(Sr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Le.FNC1_SECOND_POSITION=new Le(Sr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Le.HANZI=new Le(Sr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(s,i,l,u){const d=new Nh(s);let f=new de;const g=new Array;let y=-1,b=-1;try{let A=null,M=!1,L;do{if(d.available()<4)L=Le.TERMINATOR;else{const z=d.readBits(4);L=Le.forBits(z)}switch(L){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:M=!0;break;case Le.STRUCTURED_APPEND:if(d.available()<16)throw new D;y=d.readBits(8),b=d.readBits(8);break;case Le.ECI:const z=Ut.parseECIValue(d);if(A=V.getCharacterSetECIByValue(z),A===null)throw new D;break;case Le.HANZI:const H=d.readBits(4),W=d.readBits(L.getCharacterCountBits(i));H===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(d,f,W);break;default:const Y=d.readBits(L.getCharacterCountBits(i));switch(L){case Le.NUMERIC:Ut.decodeNumericSegment(d,f,Y);break;case Le.ALPHANUMERIC:Ut.decodeAlphanumericSegment(d,f,Y,M);break;case Le.BYTE:Ut.decodeByteSegment(d,f,Y,A,g,u);break;case Le.KANJI:Ut.decodeKanjiSegment(d,f,Y);break;default:throw new D}break}}while(L!==Le.TERMINATOR)}catch{throw new D}return new st(s,f.toString(),g.length===0?null:g,l===null?null:l.toString(),y,b)}static decodeHanziSegment(s,i,l){if(l*13>s.available())throw new D;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,u[d]=g>>8&255,u[d+1]=g&255,d+=2,l--}try{i.append(se.decode(u,X.GB2312))}catch(f){throw new D(f)}}static decodeKanjiSegment(s,i,l){if(l*13>s.available())throw new D;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,u[d]=g>>8,u[d+1]=g,d+=2,l--}try{i.append(se.decode(u,X.SHIFT_JIS))}catch(f){throw new D(f)}}static decodeByteSegment(s,i,l,u,d,f){if(8*l>s.available())throw new D;const g=new Uint8Array(l);for(let b=0;b<l;b++)g[b]=s.readBits(8);let y;u===null?y=X.guessEncoding(g,f):y=u.getName();try{i.append(se.decode(g,y))}catch(b){throw new D(b)}d.push(g)}static toAlphaNumericChar(s){if(s>=Ut.ALPHANUMERIC_CHARS.length)throw new D;return Ut.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,i,l,u){const d=i.length();for(;l>1;){if(s.available()<11)throw new D;const f=s.readBits(11);i.append(Ut.toAlphaNumericChar(Math.floor(f/45))),i.append(Ut.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(s.available()<6)throw new D;i.append(Ut.toAlphaNumericChar(s.readBits(6)))}if(u)for(let f=d;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,""))}static decodeNumericSegment(s,i,l){for(;l>=3;){if(s.available()<10)throw new D;const u=s.readBits(10);if(u>=1e3)throw new D;i.append(Ut.toAlphaNumericChar(Math.floor(u/100))),i.append(Ut.toAlphaNumericChar(Math.floor(u/10)%10)),i.append(Ut.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(s.available()<7)throw new D;const u=s.readBits(7);if(u>=100)throw new D;i.append(Ut.toAlphaNumericChar(Math.floor(u/10))),i.append(Ut.toAlphaNumericChar(u%10))}else if(l===1){if(s.available()<4)throw new D;const u=s.readBits(4);if(u>=10)throw new D;i.append(Ut.toAlphaNumericChar(u))}}static parseECIValue(s){const i=s.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const l=s.readBits(8);return(i&63)<<8&4294967295|l}if((i&224)===192){const l=s.readBits(16);return(i&31)<<16&4294967295|l}throw new D}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class zp{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const i=s[0];s[0]=s[2],s[2]=i}}class qS{constructor(){this.rsDecoder=new dn(De.QR_CODE_FIELD_256)}decodeBooleanArray(s,i){return this.decodeBitMatrix(te.parseFromBooleanArray(s),i)}decodeBitMatrix(s,i){const l=new YS(s);let u=null;try{return this.decodeBitMatrixParser(l,i)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,i);return d.setOther(new zp(!0)),d}catch(d){throw u!==null?u:d}}decodeBitMatrixParser(s,i){const l=s.readVersion(),u=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),f=Ah.getDataBlocks(d,l,u);let g=0;for(const A of f)g+=A.getNumDataCodewords();const y=new Uint8Array(g);let b=0;for(const A of f){const M=A.getCodewords(),L=A.getNumDataCodewords();this.correctErrors(M,L);for(let z=0;z<L;z++)y[b++]=M[z]}return Ut.decode(y,l,u,i)}correctErrors(s,i){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-i)}catch{throw new I}for(let u=0;u<i;u++)s[u]=l[u]}}class Th extends Oe{constructor(s,i,l){super(s,i),this.estimatedModuleSize=l}aboutEquals(s,i,l){if(Math.abs(i-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,i,l){const u=(this.getX()+i)/2,d=(this.getY()+s)/2,f=(this.estimatedModuleSize+l)/2;return new Th(u,d,f)}}class kc{constructor(s,i,l,u,d,f,g){this.image=s,this.startX=i,this.startY=l,this.width=u,this.height=d,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,i=this.height,l=this.width,u=s+l,d=this.startY+i/2,f=new Int32Array(3),g=this.image;for(let y=0;y<i;y++){const b=d+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let A=s;for(;A<u&&!g.get(A,b);)A++;let M=0;for(;A<u;){if(g.get(A,b))if(M===1)f[1]++;else if(M===2){if(this.foundPatternCross(f)){const L=this.handlePossibleCenter(f,b,A);if(L!==null)return L}f[0]=f[2],f[1]=1,f[2]=0,M=1}else f[++M]++;else M===1&&M++,f[M]++;A++}if(this.foundPatternCross(f)){const L=this.handlePossibleCenter(f,b,u);if(L!==null)return L}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(s,i){return i-s[2]-s[1]/2}foundPatternCross(s){const i=this.moduleSize,l=i/2;for(let u=0;u<3;u++)if(Math.abs(i-s[u])>=l)return!1;return!0}crossCheckVertical(s,i,l,u){const d=this.image,f=d.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let y=s;for(;y>=0&&d.get(i,y)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&!d.get(i,y)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=s+1;y<f&&d.get(i,y)&&g[1]<=l;)g[1]++,y++;if(y===f||g[1]>l)return NaN;for(;y<f&&!d.get(i,y)&&g[2]<=l;)g[2]++,y++;if(g[2]>l)return NaN;const b=g[0]+g[1]+g[2];return 5*Math.abs(b-u)>=2*u?NaN:this.foundPatternCross(g)?kc.centerFromEnd(g,y):NaN}handlePossibleCenter(s,i,l){const u=s[0]+s[1]+s[2],d=kc.centerFromEnd(s,l),f=this.crossCheckVertical(i,d,2*s[1],u);if(!isNaN(f)){const g=(s[0]+s[1]+s[2])/3;for(const b of this.possibleCenters)if(b.aboutEquals(g,f,d))return b.combineEstimate(f,d,g);const y=new Th(d,f,g);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class Ih extends Oe{constructor(s,i,l,u){super(s,i),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,i,l){if(Math.abs(i-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,i,l){const u=this.count+1,d=(this.count*this.getX()+i)/u,f=(this.count*this.getY()+s)/u,g=(this.count*this.estimatedModuleSize+l)/u;return new Ih(d,f,g,u)}}class XS{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class pn{constructor(s,i){this.image=s,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const i=s!=null&&s.get(F.TRY_HARDER)!==void 0,l=s!=null&&s.get(F.PURE_BARCODE)!==void 0,u=this.image,d=u.getHeight(),f=u.getWidth();let g=Math.floor(3*d/(4*pn.MAX_MODULES));(g<pn.MIN_SKIP||i)&&(g=pn.MIN_SKIP);let y=!1;const b=new Int32Array(5);for(let M=g-1;M<d&&!y;M+=g){b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0;let L=0;for(let z=0;z<f;z++)if(u.get(z,M))(L&1)===1&&L++,b[L]++;else if(L&1)b[L]++;else if(L===4)if(pn.foundPatternCross(b)){if(this.handlePossibleCenter(b,M,z,l)===!0)if(g=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const W=this.findRowSkip();W>b[2]&&(M+=W-b[2]-g,z=f-1)}else{b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,L=3;continue}L=0,b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0}else b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,L=3;else b[++L]++;pn.foundPatternCross(b)&&this.handlePossibleCenter(b,M,f,l)===!0&&(g=b[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return Oe.orderBestPatterns(A),new XS(A)}static centerFromEnd(s,i){return i-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let i=0;for(let d=0;d<5;d++){const f=s[d];if(f===0)return!1;i+=f}if(i<7)return!1;const l=i/7,u=l/2;return Math.abs(l-s[0])<u&&Math.abs(l-s[1])<u&&Math.abs(3*l-s[2])<3*u&&Math.abs(l-s[3])<u&&Math.abs(l-s[4])<u}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,i,l,u){const d=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;s>=f&&i>=f&&g.get(i-f,s-f);)d[2]++,f++;if(s<f||i<f)return!1;for(;s>=f&&i>=f&&!g.get(i-f,s-f)&&d[1]<=l;)d[1]++,f++;if(s<f||i<f||d[1]>l)return!1;for(;s>=f&&i>=f&&g.get(i-f,s-f)&&d[0]<=l;)d[0]++,f++;if(d[0]>l)return!1;const y=g.getHeight(),b=g.getWidth();for(f=1;s+f<y&&i+f<b&&g.get(i+f,s+f);)d[2]++,f++;if(s+f>=y||i+f>=b)return!1;for(;s+f<y&&i+f<b&&!g.get(i+f,s+f)&&d[3]<l;)d[3]++,f++;if(s+f>=y||i+f>=b||d[3]>=l)return!1;for(;s+f<y&&i+f<b&&g.get(i+f,s+f)&&d[4]<l;)d[4]++,f++;if(d[4]>=l)return!1;const A=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(A-u)<2*u&&pn.foundPatternCross(d)}crossCheckVertical(s,i,l,u){const d=this.image,f=d.getHeight(),g=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(i,y);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(i,y)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&d.get(i,y)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=s+1;y<f&&d.get(i,y);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(i,y)&&g[3]<l;)g[3]++,y++;if(y===f||g[3]>=l)return NaN;for(;y<f&&d.get(i,y)&&g[4]<l;)g[4]++,y++;if(g[4]>=l)return NaN;const b=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(b-u)>=2*u?NaN:pn.foundPatternCross(g)?pn.centerFromEnd(g,y):NaN}crossCheckHorizontal(s,i,l,u){const d=this.image,f=d.getWidth(),g=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(y,i);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,i)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&d.get(y,i)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=s+1;y<f&&d.get(y,i);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(y,i)&&g[3]<l;)g[3]++,y++;if(y===f||g[3]>=l)return NaN;for(;y<f&&d.get(y,i)&&g[4]<l;)g[4]++,y++;if(g[4]>=l)return NaN;const b=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(b-u)>=u?NaN:pn.foundPatternCross(g)?pn.centerFromEnd(g,y):NaN}handlePossibleCenter(s,i,l,u){const d=s[0]+s[1]+s[2]+s[3]+s[4];let f=pn.centerFromEnd(s,l),g=this.crossCheckVertical(i,Math.floor(f),s[2],d);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),s[2],d),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),s[2],d)))){const y=d/7;let b=!1;const A=this.possibleCenters;for(let M=0,L=A.length;M<L;M++){const z=A[M];if(z.aboutEquals(y,g,f)){A[M]=z.combineEstimate(g,f,y),b=!0;break}}if(!b){const M=new Ih(f,g,y);A.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const l of this.possibleCenters)if(l.getCount()>=pn.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,i=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=pn.CENTER_QUORUM&&(s++,i+=f.getEstimatedModuleSize());if(s<3)return!1;const u=i/l;let d=0;for(const f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-u);return d<=.05*i}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new $;const i=this.possibleCenters;let l;if(s>3){let u=0,d=0;for(const y of this.possibleCenters){const b=y.getEstimatedModuleSize();u+=b,d+=b*b}l=u/s;let f=Math.sqrt(d/s-l*l);i.sort((y,b)=>{const A=Math.abs(b.getEstimatedModuleSize()-l),M=Math.abs(y.getEstimatedModuleSize()-l);return A<M?-1:A>M?1:0});const g=Math.max(.2*l,f);for(let y=0;y<i.length&&i.length>3;y++){const b=i[y];Math.abs(b.getEstimatedModuleSize()-l)>g&&(i.splice(y,1),y--)}}if(i.length>3){let u=0;for(const d of i)u+=d.getEstimatedModuleSize();l=u/i.length,i.sort((d,f)=>{if(f.getCount()===d.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-l),y=Math.abs(d.getEstimatedModuleSize()-l);return g<y?1:g>y?-1:0}else return f.getCount()-d.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}pn.CENTER_QUORUM=2,pn.MIN_SKIP=3,pn.MAX_MODULES=57;class Za{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(F.NEED_RESULT_POINT_CALLBACK);const l=new pn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const i=s.getTopLeft(),l=s.getTopRight(),u=s.getBottomLeft(),d=this.calculateModuleSize(i,l,u);if(d<1)throw new $("No pattern found in proccess finder.");const f=Za.computeDimension(i,l,u,d),g=Me.getProvisionalVersionForDimension(f),y=g.getDimensionForVersion()-7;let b=null;if(g.getAlignmentPatternCenters().length>0){const z=l.getX()-i.getX()+u.getX(),H=l.getY()-i.getY()+u.getY(),W=1-3/y,Y=Math.floor(i.getX()+W*(z-i.getX())),ee=Math.floor(i.getY()+W*(H-i.getY()));for(let fe=4;fe<=16;fe<<=1)try{b=this.findAlignmentInRegion(d,Y,ee,fe);break}catch(pe){if(!(pe instanceof $))throw pe}}const A=Za.createTransform(i,l,u,b,f),M=Za.sampleGrid(this.image,A,f);let L;return b===null?L=[u,i,l]:L=[u,i,l,b],new Io(M,L)}static createTransform(s,i,l,u,d){const f=d-3.5;let g,y,b,A;return u!==null?(g=u.getX(),y=u.getY(),b=f-3,A=b):(g=i.getX()-s.getX()+l.getX(),y=i.getY()-s.getY()+l.getY(),b=f,A=f),Fn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,b,A,3.5,f,s.getX(),s.getY(),i.getX(),i.getY(),g,y,l.getX(),l.getY())}static sampleGrid(s,i,l){return Br.getInstance().sampleGridWithTransform(s,l,l,i)}static computeDimension(s,i,l,u){const d=Be.round(Oe.distance(s,i)/u),f=Be.round(Oe.distance(s,l)/u);let g=Math.floor((d+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new $("Dimensions could be not found.")}return g}calculateModuleSize(s,i,l){return(this.calculateModuleSizeOneWay(s,i)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,i){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(i.getX()),Math.floor(i.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(s,i,l,u){let d=this.sizeOfBlackWhiteBlackRun(s,i,l,u),f=1,g=s-(l-s);g<0?(f=s/(s-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-s)/(g-s),g=this.image.getWidth()-1);let y=Math.floor(i-(u-i)*f);return f=1,y<0?(f=i/(i-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(y-i),y=this.image.getHeight()-1),g=Math.floor(s+(g-s)*f),d+=this.sizeOfBlackWhiteBlackRun(s,i,g,y),d-1}sizeOfBlackWhiteBlackRun(s,i,l,u){const d=Math.abs(u-i)>Math.abs(l-s);if(d){let z=s;s=i,i=z,z=l,l=u,u=z}const f=Math.abs(l-s),g=Math.abs(u-i);let y=-f/2;const b=s<l?1:-1,A=i<u?1:-1;let M=0;const L=l+b;for(let z=s,H=i;z!==L;z+=b){const W=d?H:z,Y=d?z:H;if(M===1===this.image.get(W,Y)){if(M===2)return Be.distance(z,H,s,i);M++}if(y+=g,y>0){if(H===u)break;H+=A,y-=f}}return M===2?Be.distance(l+b,u,s,i):NaN}findAlignmentInRegion(s,i,l,u){const d=Math.floor(u*s),f=Math.max(0,i-d),g=Math.min(this.image.getWidth()-1,i+d);if(g-f<s*3)throw new $("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),b=Math.min(this.image.getHeight()-1,l+d);if(b-y<s*3)throw new $("Alignment bottom exceeds estimated module size.");return new kc(this.image,f,y,g-f,b-y,s,this.resultPointCallback).find()}}class Gs{constructor(){this.decoder=new qS}getDecoder(){return this.decoder}decode(s,i){let l,u;if(i!=null&&i.get(F.PURE_BARCODE)!==void 0){const y=Gs.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,i),u=Gs.NO_POINTS}else{const y=new Za(s.getBlackMatrix()).detect(i);l=this.decoder.decodeBitMatrix(y.getBits(),i),u=y.getPoints()}l.getOther()instanceof zp&&l.getOther().applyMirroredCorrection(u);const d=new Q(l.getText(),l.getRawBytes(),void 0,u,Z.QR_CODE,void 0),f=l.getByteSegments();f!==null&&d.putMetadata(Re.BYTE_SEGMENTS,f);const g=l.getECLevel();return g!==null&&d.putMetadata(Re.ERROR_CORRECTION_LEVEL,g),l.hasStructuredAppend()&&(d.putMetadata(Re.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(Re.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const i=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(i===null||l===null)throw new $;const u=this.moduleSize(i,s);let d=i[1],f=l[1],g=i[0],y=l[0];if(g>=y||d>=f)throw new $;if(f-d!==y-g&&(y=g+(f-d),y>=s.getWidth()))throw new $;const b=Math.round((y-g+1)/u),A=Math.round((f-d+1)/u);if(b<=0||A<=0)throw new $;if(A!==b)throw new $;const M=Math.floor(u/2);d+=M,g+=M;const L=g+Math.floor((b-1)*u)-y;if(L>0){if(L>M)throw new $;g-=L}const z=d+Math.floor((A-1)*u)-f;if(z>0){if(z>M)throw new $;d-=z}const H=new te(b,A);for(let W=0;W<A;W++){const Y=d+Math.floor(W*u);for(let ee=0;ee<b;ee++)s.get(g+Math.floor(ee*u),Y)&&H.set(ee,W)}return H}static moduleSize(s,i){const l=i.getHeight(),u=i.getWidth();let d=s[0],f=s[1],g=!0,y=0;for(;d<u&&f<l;){if(g!==i.get(d,f)){if(++y===5)break;g=!g}d++,f++}if(d===u||f===l)throw new $;return(d-s[0])/7}}Gs.NO_POINTS=new Array;class ze{PDF417Common(){}static getBitCountSum(s){return Be.sum(s)}static toIntArray(s){if(s==null||!s.length)return ze.EMPTY_INT_ARRAY;const i=new Int32Array(s.length);let l=0;for(const u of s)i[l++]=u;return i}static getCodeword(s){const i=S.binarySearch(ze.SYMBOL_TABLE,s&262143);return i<0?-1:(ze.CODEWORD_TABLE[i]-1)%ze.NUMBER_OF_CODEWORDS}}ze.NUMBER_OF_CODEWORDS=929,ze.MAX_CODEWORDS_IN_BARCODE=ze.NUMBER_OF_CODEWORDS-1,ze.MIN_ROWS_IN_BARCODE=3,ze.MAX_ROWS_IN_BARCODE=90,ze.MODULES_IN_CODEWORD=17,ze.MODULES_IN_STOP_PATTERN=18,ze.BARS_IN_MODULE=8,ze.EMPTY_INT_ARRAY=new Int32Array([]),ze.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ze.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class KS{constructor(s,i){this.bits=s,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class qe{static detectMultiple(s,i,l){let u=s.getBlackMatrix(),d=qe.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=qe.detect(l,u)),new KS(u,d)}static detect(s,i){const l=new Array;let u=0,d=0,f=!1;for(;u<i.getHeight();){const g=qe.findVertices(i,u,d);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,d=0;for(const y of l)y[1]!=null&&(u=Math.trunc(Math.max(u,y[1].getY()))),y[3]!=null&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=qe.ROW_STEP;continue}if(f=!0,l.push(g),!s)break;g[2]!=null?(d=Math.trunc(g[2].getX()),u=Math.trunc(g[2].getY())):(d=Math.trunc(g[4].getX()),u=Math.trunc(g[4].getY()))}return l}static findVertices(s,i,l){const u=s.getHeight(),d=s.getWidth(),f=new Array(8);return qe.copyToResult(f,qe.findRowsWithPattern(s,u,d,i,l,qe.START_PATTERN),qe.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),qe.copyToResult(f,qe.findRowsWithPattern(s,u,d,i,l,qe.STOP_PATTERN),qe.INDEXES_STOP_PATTERN),f}static copyToResult(s,i,l){for(let u=0;u<l.length;u++)s[l[u]]=i[u]}static findRowsWithPattern(s,i,l,u,d,f){const g=new Array(4);let y=!1;const b=new Int32Array(f.length);for(;u<i;u+=qe.ROW_STEP){let M=qe.findGuardPattern(s,d,u,l,!1,f,b);if(M!=null){for(;u>0;){const L=qe.findGuardPattern(s,d,--u,l,!1,f,b);if(L!=null)M=L;else{u++;break}}g[0]=new Oe(M[0],u),g[1]=new Oe(M[1],u),y=!0;break}}let A=u+1;if(y){let M=0,L=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;A<i;A++){const z=qe.findGuardPattern(s,L[0],A,l,!1,f,b);if(z!=null&&Math.abs(L[0]-z[0])<qe.MAX_PATTERN_DRIFT&&Math.abs(L[1]-z[1])<qe.MAX_PATTERN_DRIFT)L=z,M=0;else{if(M>qe.SKIPPED_ROW_COUNT_MAX)break;M++}}A-=M+1,g[2]=new Oe(L[0],A),g[3]=new Oe(L[1],A)}return A-u<qe.BARCODE_MIN_HEIGHT&&S.fill(g,null),g}static findGuardPattern(s,i,l,u,d,f,g){S.fillWithin(g,0,g.length,0);let y=i,b=0;for(;s.get(y,l)&&y>0&&b++<qe.MAX_PIXEL_DRIFT;)y--;let A=y,M=0,L=f.length;for(let z=d;A<u;A++)if(s.get(A,l)!==z)g[M]++;else{if(M===L-1){if(qe.patternMatchVariance(g,f,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return new Int32Array([y,A]);y+=g[0]+g[1],T.arraycopy(g,2,g,0,M-1),g[M-1]=0,g[M]=0,M--}else M++;g[M]=1,z=!z}return M===L-1&&qe.patternMatchVariance(g,f,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE?new Int32Array([y,A-1]):null}static patternMatchVariance(s,i,l){let u=s.length,d=0,f=0;for(let b=0;b<u;b++)d+=s[b],f+=i[b];if(d<f)return 1/0;let g=d/f;l*=g;let y=0;for(let b=0;b<u;b++){let A=s[b],M=i[b]*g,L=A>M?A-M:M-A;if(L>l)return 1/0;y+=L}return y/d}}qe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),qe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),qe.MAX_AVG_VARIANCE=.42,qe.MAX_INDIVIDUAL_VARIANCE=.8,qe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),qe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),qe.MAX_PIXEL_DRIFT=3,qe.MAX_PATTERN_DRIFT=5,qe.SKIPPED_ROW_COUNT_MAX=25,qe.ROW_STEP=5,qe.BARCODE_MIN_HEIGHT=10;class yn{constructor(s,i){if(i.length===0)throw new w;this.field=s;let l=i.length;if(l>1&&i[0]===0){let u=1;for(;u<l&&i[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),T.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let i=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)i=this.field.add(this.field.multiply(s,i),this.coefficients[u]);return i}add(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let i=this.coefficients,l=s.coefficients;if(i.length>l.length){let f=i;i=l,l=f}let u=new Int32Array(l.length),d=l.length-i.length;T.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=this.field.add(i[f-d],l[f]);return new yn(this.field,u)}subtract(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof yn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new yn(this.field,new Int32Array([0]));let i=this.coefficients,l=i.length,u=s.coefficients,d=u.length,f=new Int32Array(l+d-1);for(let g=0;g<l;g++){let y=i[g];for(let b=0;b<d;b++)f[g+b]=this.field.add(f[g+b],this.field.multiply(y,u[b]))}return new yn(this.field,f)}negative(){let s=this.coefficients.length,i=new Int32Array(s);for(let l=0;l<s;l++)i[l]=this.field.subtract(0,this.coefficients[l]);return new yn(this.field,i)}multiplyScalar(s){if(s===0)return new yn(this.field,new Int32Array([0]));if(s===1)return this;let i=this.coefficients.length,l=new Int32Array(i);for(let u=0;u<i;u++)l[u]=this.field.multiply(this.coefficients[u],s);return new yn(this.field,l)}multiplyByMonomial(s,i){if(s<0)throw new w;if(i===0)return new yn(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+s);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],i);return new yn(this.field,u)}toString(){let s=new de;for(let i=this.getDegree();i>=0;i--){let l=this.getCoefficient(i);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(i===0||l!==1)&&s.append(l),i!==0&&(i===1?s.append("x"):(s.append("x^"),s.append(i))))}return s.toString()}}class QS{add(s,i){return(s+i)%this.modulus}subtract(s,i){return(this.modulus+s-i)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}inverse(s){if(s===0)throw new Ce;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,i){return s===0||i===0?0:this.expTable[(this.logTable[s]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class jh extends QS{constructor(s,i){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let u=0;u<s;u++)this.expTable[u]=l,l=l*i%s;for(let u=0;u<s-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new yn(this,new Int32Array([0])),this.one=new yn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,i){if(s<0)throw new w;if(i===0)return this.zero;let l=new Int32Array(s+1);return l[0]=i,new yn(this,l)}}jh.PDF417_GF=new jh(ze.NUMBER_OF_CODEWORDS,3);class Vp{constructor(){this.field=jh.PDF417_GF}decode(s,i,l){let u=new yn(this.field,s),d=new Int32Array(i),f=!1;for(let H=i;H>0;H--){let W=u.evaluateAt(this.field.exp(H));d[i-H]=W,W!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(l!=null)for(const H of l){let W=this.field.exp(s.length-1-H),Y=new yn(this.field,new Int32Array([this.field.subtract(0,W),1]));g=g.multiply(Y)}let y=new yn(this.field,d),b=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),y,i),A=b[0],M=b[1],L=this.findErrorLocations(A),z=this.findErrorMagnitudes(M,A,L);for(let H=0;H<L.length;H++){let W=s.length-1-this.field.log(L[H]);if(W<0)throw I.getChecksumInstance();s[W]=this.field.subtract(s[W],z[H])}return L.length}runEuclideanAlgorithm(s,i,l){if(s.getDegree()<i.getDegree()){let L=s;s=i,i=L}let u=s,d=i,f=this.field.getZero(),g=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let L=u,z=f;if(u=d,f=g,u.isZero())throw I.getChecksumInstance();d=L;let H=this.field.getZero(),W=u.getCoefficient(u.getDegree()),Y=this.field.inverse(W);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let ee=d.getDegree()-u.getDegree(),fe=this.field.multiply(d.getCoefficient(d.getDegree()),Y);H=H.add(this.field.buildMonomial(ee,fe)),d=d.subtract(u.multiplyByMonomial(ee,fe))}g=H.multiply(f).subtract(z).negative()}let y=g.getCoefficient(0);if(y===0)throw I.getChecksumInstance();let b=this.field.inverse(y),A=g.multiply(b),M=d.multiply(b);return[A,M]}findErrorLocations(s){let i=s.getDegree(),l=new Int32Array(i),u=0;for(let d=1;d<this.field.getSize()&&u<i;d++)s.evaluateAt(d)===0&&(l[u]=this.field.inverse(d),u++);if(u!==i)throw I.getChecksumInstance();return l}findErrorMagnitudes(s,i,l){let u=i.getDegree(),d=new Int32Array(u);for(let b=1;b<=u;b++)d[u-b]=this.field.multiply(b,i.getCoefficient(b));let f=new yn(this.field,d),g=l.length,y=new Int32Array(g);for(let b=0;b<g;b++){let A=this.field.inverse(l[b]),M=this.field.subtract(0,s.evaluateAt(A)),L=this.field.inverse(f.evaluateAt(A));y[b]=this.field.multiply(M,L)}return y}}class qi{constructor(s,i,l,u,d){s instanceof qi?this.constructor_2(s):this.constructor_1(s,i,l,u,d)}constructor_1(s,i,l,u,d){const f=i==null||l==null,g=u==null||d==null;if(f&&g)throw new $;f?(i=new Oe(0,u.getY()),l=new Oe(0,d.getY())):g&&(u=new Oe(s.getWidth()-1,i.getY()),d=new Oe(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=i,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(i.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(i.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,i){return s==null?i:i==null?s:new qi(s.image,s.topLeft,s.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(s,i,l){let u=this.topLeft,d=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(s>0){let y=l?this.topLeft:this.topRight,b=Math.trunc(y.getY()-s);b<0&&(b=0);let A=new Oe(y.getX(),b);l?u=A:f=A}if(i>0){let y=l?this.bottomLeft:this.bottomRight,b=Math.trunc(y.getY()+i);b>=this.image.getHeight()&&(b=this.image.getHeight()-1);let A=new Oe(y.getX(),b);l?d=A:g=A}return new qi(this.image,u,d,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ZS{constructor(s,i,l,u){this.columnCount=s,this.errorCorrectionLevel=u,this.rowCountUpperPart=i,this.rowCountLowerPart=l,this.rowCount=i+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ja{constructor(){this.buffer=""}static form(s,i){let l=-1;function u(f,g,y,b,A,M){if(f==="%%")return"%";if(i[++l]===void 0)return;f=b?parseInt(b.substr(1)):void 0;let L=A?parseInt(A.substr(1)):void 0,z;switch(M){case"s":z=i[l];break;case"c":z=i[l][0];break;case"f":z=parseFloat(i[l]).toFixed(f);break;case"p":z=parseFloat(i[l]).toPrecision(f);break;case"e":z=parseFloat(i[l]).toExponential(f);break;case"x":z=parseInt(i[l]).toString(L||16);break;case"d":z=parseFloat(parseInt(i[l],L||10).toPrecision(f)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(L);let H=parseInt(y),W=y&&y[0]+""=="0"?"0":" ";for(;z.length<H;)z=g!==void 0?z+W:W+z;return z}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,u)}format(s,...i){this.buffer+=Ja.form(s,i)}toString(){return this.buffer}}class el{constructor(s){this.boundingBox=new qi(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let i=this.getCodeword(s);if(i!=null)return i;for(let l=1;l<el.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(s)-l;if(u>=0&&(i=this.codewords[u],i!=null)||(u=this.imageRowToCodewordIndex(s)+l,u<this.codewords.length&&(i=this.codewords[u],i!=null)))return i}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,i){this.codewords[this.imageRowToCodewordIndex(s)]=i}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Ja;let i=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",i++);continue}s.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}return s.toString()}}el.MAX_NEARBY_DISTANCE=5;class tl{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let i=this.values.get(s);i==null&&(i=0),i++,this.values.set(s,i)}getValue(){let s=-1,i=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>s?(s=d.getValue(),i=[],i.push(d.getKey())):d.getValue()===s&&i.push(d.getKey())}return ze.toIntArray(i)}getConfidence(s){return this.values.get(s)}}class Hp extends el{constructor(s,i){super(s),this._isLeft=i}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,s);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,b=1,A=0;for(let M=f;M<g;M++){if(i[M]==null)continue;let L=i[M],z=L.getRowNumber()-y;if(z===0)A++;else if(z===1)b=Math.max(b,A),A=1,y=L.getRowNumber();else if(z<0||L.getRowNumber()>=s.getRowCount()||z>M)i[M]=null;else{let H;b>2?H=(b-2)*z:H=z;let W=H>=M;for(let Y=1;Y<=H&&!W;Y++)W=i[M-Y]!=null;W?i[M]=null:(y=L.getRowNumber(),A=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let i=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=i.length)continue;i[u]++}return i}adjustIncompleteIndicatorColumnRowNumbers(s){let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.getCodewords(),y=-1;for(let b=d;b<f;b++){if(g[b]==null)continue;let A=g[b];A.setRowNumberAsRowIndicatorColumn();let M=A.getRowNumber()-y;M===0||(M===1?y=A.getRowNumber():A.getRowNumber()>=s.getRowCount()?g[b]=null:y=A.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),i=new tl,l=new tl,u=new tl,d=new tl;for(let g of s){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let y=g.getValue()%30,b=g.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:l.setValue(y*3+1);break;case 1:d.setValue(y/3),u.setValue(y%3);break;case 2:i.setValue(y+1);break}}if(i.getValue().length===0||l.getValue().length===0||u.getValue().length===0||d.getValue().length===0||i.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<ze.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>ze.MAX_ROWS_IN_BARCODE)return null;let f=new ZS(i.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,f),f}removeIncorrectCodewords(s,i){for(let l=0;l<s.length;l++){let u=s[l];if(s[l]==null)continue;let d=u.getValue()%30,f=u.getRowNumber();if(f>i.getRowCount()){s[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:d*3+1!==i.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(d/3)!==i.getErrorCorrectionLevel()||d%3!==i.getRowCountLowerPart())&&(s[l]=null);break;case 2:d+1!==i.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class nl{constructor(s,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=ze.MAX_CODEWORDS_IN_BARCODE,i;do i=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let l=this.detectionResultColumns[i].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(i,u,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&i[l]!=null&&s[l].getRowNumber()===i[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];d!=null&&(d.setRowNumber(s[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++){if(i[l]==null)continue;let u=i[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[l];g!=null&&(d=nl.adjustRowNumberIfValid(u,d,g),g.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,i=this.detectionResultColumns[0].getCodewords();for(let l=0;l<i.length;l++){if(i[l]==null)continue;let u=i[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[l];g!=null&&(d=nl.adjustRowNumberIfValid(u,d,g),g.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,i,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),i=0):++i),i}adjustRowNumbers(s,i,l){if(!this.detectionResultColumns[s-1])return;let u=l[i],d=this.detectionResultColumns[s-1].getCodewords(),f=d;this.detectionResultColumns[s+1]!=null&&(f=this.detectionResultColumns[s+1].getCodewords());let g=new Array(14);g[2]=d[i],g[3]=f[i],i>0&&(g[0]=l[i-1],g[4]=d[i-1],g[5]=f[i-1]),i>1&&(g[8]=l[i-2],g[10]=d[i-2],g[11]=f[i-2]),i<l.length-1&&(g[1]=l[i+1],g[6]=d[i+1],g[7]=f[i+1]),i<l.length-2&&(g[9]=l[i+2],g[12]=d[i+2],g[13]=f[i+2]);for(let y of g)if(nl.adjustRowNumber(u,y))return}static adjustRowNumber(s,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===s.getBucket()?(s.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,i){this.detectionResultColumns[s]=i}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Ja;for(let l=0;l<s.getCodewords().length;l++){i.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){i.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];if(d==null){i.format("    |   ");continue}i.format(" %3d|%3d",d.getRowNumber(),d.getValue())}i.format("%n")}return i.toString()}}class rl{constructor(s,i,l,u){this.rowNumber=rl.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(i),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==rl.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}rl.BARCODE_ROW_UNKNOWN=-1;class Xn{static initialize(){for(let s=0;s<ze.SYMBOL_TABLE.length;s++){let i=ze.SYMBOL_TABLE[s],l=i&1;for(let u=0;u<ze.BARS_IN_MODULE;u++){let d=0;for(;(i&1)===l;)d+=1,i>>=1;l=i&1,Xn.RATIOS_TABLE[s]||(Xn.RATIOS_TABLE[s]=new Array(ze.BARS_IN_MODULE)),Xn.RATIOS_TABLE[s][ze.BARS_IN_MODULE-u-1]=Math.fround(d/ze.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let i=Xn.getDecodedCodewordValue(Xn.sampleBitCounts(s));return i!==-1?i:Xn.getClosestDecodedValue(s)}static sampleBitCounts(s){let i=Be.sum(s),l=new Int32Array(ze.BARS_IN_MODULE),u=0,d=0;for(let f=0;f<ze.MODULES_IN_CODEWORD;f++){let g=i/(2*ze.MODULES_IN_CODEWORD)+f*i/ze.MODULES_IN_CODEWORD;d+s[u]<=g&&(d+=s[u],u++),l[u]++}return l}static getDecodedCodewordValue(s){let i=Xn.getBitValue(s);return ze.getCodeword(i)===-1?-1:i}static getBitValue(s){let i=0;for(let l=0;l<s.length;l++)for(let u=0;u<s[l];u++)i=i<<1|(l%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(s){let i=Be.sum(s),l=new Array(ze.BARS_IN_MODULE);if(i>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(s[f]/i);let u=Pr.MAX_VALUE,d=-1;this.bSymbolTableReady||Xn.initialize();for(let f=0;f<Xn.RATIOS_TABLE.length;f++){let g=0,y=Xn.RATIOS_TABLE[f];for(let b=0;b<ze.BARS_IN_MODULE;b++){let A=Math.fround(y[b]-l[b]);if(g+=Math.fround(A*A),g>=u)break}g<u&&(u=g,d=ze.SYMBOL_TABLE[f])}return d}}Xn.bSymbolTableReady=!1,Xn.RATIOS_TABLE=new Array(ze.SYMBOL_TABLE.length).map(k=>new Array(ze.BARS_IN_MODULE));class Wp{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class $p{static parseLong(s,i=void 0){return parseInt(s,i)}}class Gp extends m{}Gp.kind="NullPointerException";class JS{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,i,l){if(s==null)throw new Gp;if(i<0||i>s.length||l<0||i+l>s.length||i+l<0)throw new R;if(l===0)return;for(let u=0;u<l;u++)this.write(s[i+u])}flush(){}close(){}}class eE extends m{}class tE extends JS{constructor(s=32){if(super(),this.count=0,s<0)throw new w("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new eE;l=N.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,i,l){if(i<0||i>s.length||l<0||i+l-s.length>0)throw new R;this.ensureCapacity(this.count+l),T.arraycopy(s,i,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var mt;(function(k){k[k.ALPHA=0]="ALPHA",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.PUNCT=3]="PUNCT",k[k.ALPHA_SHIFT=4]="ALPHA_SHIFT",k[k.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(mt||(mt={}));function Yp(){if(typeof window<"u")return window.BigInt||null;if(typeof Cn<"u")return Cn.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Mc;function Ys(k){if(typeof Mc>"u"&&(Mc=Yp()),Mc===null)throw new Error("BigInt is not supported!");return Mc(k)}function nE(){let k=[];k[0]=Ys(1);let s=Ys(900);k[1]=s;for(let i=2;i<16;i++)k[i]=k[i-1]*s;return k}class J{static decode(s,i){let l=new de(""),u=V.ISO8859_1;l.enableDecoding(u);let d=1,f=s[d++],g=new Wp;for(;d<s[0];){switch(f){case J.TEXT_COMPACTION_MODE_LATCH:d=J.textCompaction(s,d,l);break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:d=J.byteCompaction(f,s,u,d,l);break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[d++]);break;case J.NUMERIC_COMPACTION_MODE_LATCH:d=J.numericCompaction(s,d,l);break;case J.ECI_CHARSET:V.getCharacterSetECIByValue(s[d++]);break;case J.ECI_GENERAL_PURPOSE:d+=2;break;case J.ECI_USER_DEFINED:d++;break;case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=J.decodeMacroBlock(s,d,g);break;case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:throw new D;default:d--,d=J.textCompaction(s,d,l);break}if(d<s.length)f=s[d++];else throw D.getFormatInstance()}if(l.length()===0)throw D.getFormatInstance();let y=new st(null,l.toString(),null,i);return y.setOther(g),y}static decodeMacroBlock(s,i,l){if(i+J.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw D.getFormatInstance();let u=new Int32Array(J.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<J.NUMBER_OF_SEQUENCE_CODEWORDS;g++,i++)u[g]=s[i];l.setSegmentIndex(N.parseInt(J.decodeBase900toBase10(u,J.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new de;i=J.textCompaction(s,i,d),l.setFileId(d.toString());let f=-1;for(s[i]===J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<s[0];)switch(s[i]){case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,s[i]){case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new de;i=J.textCompaction(s,i+1,g),l.setFileName(g.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new de;i=J.textCompaction(s,i+1,y),l.setSender(y.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let b=new de;i=J.textCompaction(s,i+1,b),l.setAddressee(b.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new de;i=J.numericCompaction(s,i+1,A),l.setSegmentCount(N.parseInt(A.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let M=new de;i=J.numericCompaction(s,i+1,M),l.setTimestamp($p.parseLong(M.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let L=new de;i=J.numericCompaction(s,i+1,L),l.setChecksum(N.parseInt(L.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let z=new de;i=J.numericCompaction(s,i+1,z),l.setFileSize($p.parseLong(z.toString()));break;default:throw D.getFormatInstance()}break;case J.MACRO_PDF417_TERMINATOR:i++,l.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(f!==-1){let g=i-f;l.isLastSegment()&&g--,l.setOptionalData(S.copyOfRange(s,f,f+g))}return i}static textCompaction(s,i,l){let u=new Int32Array((s[0]-i)*2),d=new Int32Array((s[0]-i)*2),f=0,g=!1;for(;i<s[0]&&!g;){let y=s[i++];if(y<J.TEXT_COMPACTION_MODE_LATCH)u[f]=y/30,u[f+1]=y%30,f+=2;else switch(y){case J.TEXT_COMPACTION_MODE_LATCH:u[f++]=J.TEXT_COMPACTION_MODE_LATCH;break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:i--,g=!0;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=s[i++],d[f]=y,f++;break}}return J.decodeTextCompaction(u,d,f,l),i}static decodeTextCompaction(s,i,l,u){let d=mt.ALPHA,f=mt.ALPHA,g=0;for(;g<l;){let y=s[g],b="";switch(d){case mt.ALPHA:if(y<26)b=String.fromCharCode(65+y);else switch(y){case 26:b=" ";break;case J.LL:d=mt.LOWER;break;case J.ML:d=mt.MIXED;break;case J.PS:f=d,d=mt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case J.TEXT_COMPACTION_MODE_LATCH:d=mt.ALPHA;break}break;case mt.LOWER:if(y<26)b=String.fromCharCode(97+y);else switch(y){case 26:b=" ";break;case J.AS:f=d,d=mt.ALPHA_SHIFT;break;case J.ML:d=mt.MIXED;break;case J.PS:f=d,d=mt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case J.TEXT_COMPACTION_MODE_LATCH:d=mt.ALPHA;break}break;case mt.MIXED:if(y<J.PL)b=J.MIXED_CHARS[y];else switch(y){case J.PL:d=mt.PUNCT;break;case 26:b=" ";break;case J.LL:d=mt.LOWER;break;case J.AL:d=mt.ALPHA;break;case J.PS:f=d,d=mt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case J.TEXT_COMPACTION_MODE_LATCH:d=mt.ALPHA;break}break;case mt.PUNCT:if(y<J.PAL)b=J.PUNCT_CHARS[y];else switch(y){case J.PAL:d=mt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case J.TEXT_COMPACTION_MODE_LATCH:d=mt.ALPHA;break}break;case mt.ALPHA_SHIFT:if(d=f,y<26)b=String.fromCharCode(65+y);else switch(y){case 26:b=" ";break;case J.TEXT_COMPACTION_MODE_LATCH:d=mt.ALPHA;break}break;case mt.PUNCT_SHIFT:if(d=f,y<J.PAL)b=J.PUNCT_CHARS[y];else switch(y){case J.PAL:d=mt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case J.TEXT_COMPACTION_MODE_LATCH:d=mt.ALPHA;break}break}b!==""&&u.append(b),g++}}static byteCompaction(s,i,l,u,d){let f=new tE,g=0,y=0,b=!1;switch(s){case J.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),M=i[u++];for(;u<i[0]&&!b;)switch(A[g++]=M,y=900*y+M,M=i[u++],M){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:u--,b=!0;break;default:if(g%5===0&&g>0){for(let L=0;L<6;++L)f.write(Number(Ys(y)>>Ys(8*(5-L))));y=0,g=0}break}u===i[0]&&M<J.TEXT_COMPACTION_MODE_LATCH&&(A[g++]=M);for(let L=0;L<g;L++)f.write(A[L]);break;case J.BYTE_COMPACTION_MODE_LATCH_6:for(;u<i[0]&&!b;){let L=i[u++];if(L<J.TEXT_COMPACTION_MODE_LATCH)g++,y=900*y+L;else switch(L){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:u--,b=!0;break}if(g%5===0&&g>0){for(let z=0;z<6;++z)f.write(Number(Ys(y)>>Ys(8*(5-z))));y=0,g=0}}break}return d.append(se.decode(f.toByteArray(),l)),u}static numericCompaction(s,i,l){let u=0,d=!1,f=new Int32Array(J.MAX_NUMERIC_CODEWORDS);for(;i<s[0]&&!d;){let g=s[i++];if(i===s[0]&&(d=!0),g<J.TEXT_COMPACTION_MODE_LATCH)f[u]=g,u++;else switch(g){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:i--,d=!0;break}(u%J.MAX_NUMERIC_CODEWORDS===0||g===J.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append(J.decodeBase900toBase10(f,u)),u=0)}return i}static decodeBase900toBase10(s,i){let l=Ys(0);for(let d=0;d<i;d++)l+=J.EXP900[i-d-1]*Ys(s[d]);let u=l.toString();if(u.charAt(0)!=="1")throw new D;return u.substring(1)}}J.TEXT_COMPACTION_MODE_LATCH=900,J.BYTE_COMPACTION_MODE_LATCH=901,J.NUMERIC_COMPACTION_MODE_LATCH=902,J.BYTE_COMPACTION_MODE_LATCH_6=924,J.ECI_USER_DEFINED=925,J.ECI_GENERAL_PURPOSE=926,J.ECI_CHARSET=927,J.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,J.MACRO_PDF417_TERMINATOR=922,J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,J.MAX_NUMERIC_CODEWORDS=15,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,J.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,J.PL=25,J.LL=27,J.AS=27,J.ML=28,J.AL=28,J.PS=29,J.PAL=29,J.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,J.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",J.EXP900=Yp()?nE():[],J.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ke{constructor(){}static decode(s,i,l,u,d,f,g){let y=new qi(s,i,l,u,d),b=null,A=null,M;for(let H=!0;;H=!1){if(i!=null&&(b=Ke.getRowIndicatorColumn(s,y,i,!0,f,g)),u!=null&&(A=Ke.getRowIndicatorColumn(s,y,u,!1,f,g)),M=Ke.merge(b,A),M==null)throw $.getNotFoundInstance();let W=M.getBoundingBox();if(H&&W!=null&&(W.getMinY()<y.getMinY()||W.getMaxY()>y.getMaxY()))y=W;else break}M.setBoundingBox(y);let L=M.getBarcodeColumnCount()+1;M.setDetectionResultColumn(0,b),M.setDetectionResultColumn(L,A);let z=b!=null;for(let H=1;H<=L;H++){let W=z?H:L-H;if(M.getDetectionResultColumn(W)!==void 0)continue;let Y;W===0||W===L?Y=new Hp(y,W===0):Y=new el(y),M.setDetectionResultColumn(W,Y);let ee=-1,fe=ee;for(let pe=y.getMinY();pe<=y.getMaxY();pe++){if(ee=Ke.getStartColumn(M,W,pe,z),ee<0||ee>y.getMaxX()){if(fe===-1)continue;ee=fe}let ue=Ke.detectCodeword(s,y.getMinX(),y.getMaxX(),z,ee,pe,f,g);ue!=null&&(Y.setCodeword(pe,ue),fe=ee,f=Math.min(f,ue.getWidth()),g=Math.max(g,ue.getWidth()))}}return Ke.createDecoderResult(M)}static merge(s,i){if(s==null&&i==null)return null;let l=Ke.getBarcodeMetadata(s,i);if(l==null)return null;let u=qi.merge(Ke.adjustBoundingBox(s),Ke.adjustBoundingBox(i));return new nl(l,u)}static adjustBoundingBox(s){if(s==null)return null;let i=s.getRowHeights();if(i==null)return null;let l=Ke.getMax(i),u=0;for(let g of i)if(u+=l-g,g>0)break;let d=s.getCodewords();for(let g=0;u>0&&d[g]==null;g++)u--;let f=0;for(let g=i.length-1;g>=0&&(f+=l-i[g],!(i[g]>0));g--);for(let g=d.length-1;f>0&&d[g]==null;g--)f--;return s.getBoundingBox().addMissingRows(u,f,s.isLeft())}static getMax(s){let i=-1;for(let l of s)i=Math.max(i,l);return i}static getBarcodeMetadata(s,i){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let u;return i==null||(u=i.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(s,i,l,u,d,f){let g=new Hp(i,u);for(let y=0;y<2;y++){let b=y===0?1:-1,A=Math.trunc(Math.trunc(l.getX()));for(let M=Math.trunc(Math.trunc(l.getY()));M<=i.getMaxY()&&M>=i.getMinY();M+=b){let L=Ke.detectCodeword(s,0,s.getWidth(),u,A,M,d,f);L!=null&&(g.setCodeword(M,L),u?A=L.getStartX():A=L.getEndX())}}return g}static adjustCodewordCount(s,i){let l=i[0][1],u=l.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Ke.getNumberOfECCodeWords(s.getBarcodeECLevel());if(u.length===0){if(d<1||d>ze.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(s){let i=Ke.createBarcodeMatrix(s);Ke.adjustCodewordCount(s,i);let l=new Array,u=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],f=new Array;for(let y=0;y<s.getBarcodeRowCount();y++)for(let b=0;b<s.getBarcodeColumnCount();b++){let A=i[y][b+1].getValue(),M=y*s.getBarcodeColumnCount()+b;A.length===0?l.push(M):A.length===1?u[M]=A[0]:(f.push(M),d.push(A))}let g=new Array(d.length);for(let y=0;y<g.length;y++)g[y]=d[y];return Ke.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),u,ze.toIntArray(l),ze.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(s,i,l,u,d){let f=new Int32Array(u.length),g=100;for(;g-- >0;){for(let y=0;y<f.length;y++)i[u[y]]=d[y][f[y]];try{return Ke.decodeCodewords(i,s,l)}catch(y){if(!(y instanceof I))throw y}if(f.length===0)throw I.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<d[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw I.getChecksumInstance()}throw I.getChecksumInstance()}static createBarcodeMatrix(s){let i=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let u=0;u<i.length;u++)for(let d=0;d<i[u].length;d++)i[u][d]=new tl;let l=0;for(let u of s.getDetectionResultColumns()){if(u!=null){for(let d of u.getCodewords())if(d!=null){let f=d.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][l].setValue(d.getValue())}}}l++}return i}static isValidBarcodeColumn(s,i){return i>=0&&i<=s.getBarcodeColumnCount()+1}static getStartColumn(s,i,l,u){let d=u?1:-1,f=null;if(Ke.isValidBarcodeColumn(s,i-d)&&(f=s.getDetectionResultColumn(i-d).getCodeword(l)),f!=null)return u?f.getEndX():f.getStartX();if(f=s.getDetectionResultColumn(i).getCodewordNearby(l),f!=null)return u?f.getStartX():f.getEndX();if(Ke.isValidBarcodeColumn(s,i-d)&&(f=s.getDetectionResultColumn(i-d).getCodewordNearby(l)),f!=null)return u?f.getEndX():f.getStartX();let g=0;for(;Ke.isValidBarcodeColumn(s,i-d);){i-=d;for(let y of s.getDetectionResultColumn(i).getCodewords())if(y!=null)return(u?y.getEndX():y.getStartX())+d*g*(y.getEndX()-y.getStartX());g++}return u?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,i,l,u,d,f,g,y){d=Ke.adjustCodewordStartColumn(s,i,l,u,d,f);let b=Ke.getModuleBitCount(s,i,l,u,d,f);if(b==null)return null;let A,M=Be.sum(b);if(u)A=d+M;else{for(let H=0;H<b.length/2;H++){let W=b[H];b[H]=b[b.length-1-H],b[b.length-1-H]=W}A=d,d=A-M}if(!Ke.checkCodewordSkew(M,g,y))return null;let L=Xn.getDecodedValue(b),z=ze.getCodeword(L);return z===-1?null:new rl(d,A,Ke.getCodewordBucketNumber(L),z)}static getModuleBitCount(s,i,l,u,d,f){let g=d,y=new Int32Array(8),b=0,A=u?1:-1,M=u;for(;(u?g<l:g>=i)&&b<y.length;)s.get(g,f)===M?(y[b]++,g+=A):(b++,M=!M);return b===y.length||g===(u?l:i)&&b===y.length-1?y:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,i,l,u,d,f){let g=d,y=u?-1:1;for(let b=0;b<2;b++){for(;(u?g>=i:g<l)&&u===s.get(g,f);){if(Math.abs(d-g)>Ke.CODEWORD_SKEW_SIZE)return d;g+=y}y=-y,u=!u}return g}static checkCodewordSkew(s,i,l){return i-Ke.CODEWORD_SKEW_SIZE<=s&&s<=l+Ke.CODEWORD_SKEW_SIZE}static decodeCodewords(s,i,l){if(s.length===0)throw D.getFormatInstance();let u=1<<i+1,d=Ke.correctErrors(s,l,u);Ke.verifyCodewordCount(s,u);let f=J.decode(s,""+i);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(s,i,l){if(i!=null&&i.length>l/2+Ke.MAX_ERRORS||l<0||l>Ke.MAX_EC_CODEWORDS)throw I.getChecksumInstance();return Ke.errorCorrection.decode(s,l,i)}static verifyCodewordCount(s,i){if(s.length<4)throw D.getFormatInstance();let l=s[0];if(l>s.length)throw D.getFormatInstance();if(l===0)if(i<s.length)s[0]=s.length-i;else throw D.getFormatInstance()}static getBitCountForCodeword(s){let i=new Int32Array(8),l=0,u=i.length-1;for(;!((s&1)!==l&&(l=s&1,u--,u<0));)i[u]++,s>>=1;return i}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Ke.getCodewordBucketNumber(Ke.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let i=new Ja;for(let l=0;l<s.length;l++){i.format("Row %2d: ",l);for(let u=0;u<s[l].length;u++){let d=s[l][u];d.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}i.format("%n")}return i.toString()}}Ke.CODEWORD_SKEW_SIZE=2,Ke.MAX_ERRORS=3,Ke.MAX_EC_CODEWORDS=512,Ke.errorCorrection=new Vp;class vn{decode(s,i=null){let l=vn.decode(s,i,!1);if(l==null||l.length===0||l[0]==null)throw $.getNotFoundInstance();return l[0]}decodeMultiple(s,i=null){try{return vn.decode(s,i,!0)}catch(l){throw l instanceof D||l instanceof I?$.getNotFoundInstance():l}}static decode(s,i,l){const u=new Array,d=qe.detectMultiple(s,i,l);for(const f of d.getPoints()){const g=Ke.decode(d.getBits(),f[4],f[5],f[6],f[7],vn.getMinCodewordWidth(f),vn.getMaxCodewordWidth(f)),y=new Q(g.getText(),g.getRawBytes(),void 0,f,Z.PDF_417);y.putMetadata(Re.ERROR_CORRECTION_LEVEL,g.getECLevel());const b=g.getOther();b!=null&&y.putMetadata(Re.PDF417_EXTRA_METADATA,b),u.push(y)}return u.map(f=>f)}static getMaxWidth(s,i){return s==null||i==null?0:Math.trunc(Math.abs(s.getX()-i.getX()))}static getMinWidth(s,i){return s==null||i==null?N.MAX_VALUE:Math.trunc(Math.abs(s.getX()-i.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(vn.getMaxWidth(s[0],s[4]),vn.getMaxWidth(s[6],s[2])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN),Math.max(vn.getMaxWidth(s[1],s[5]),vn.getMaxWidth(s[7],s[3])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(vn.getMinWidth(s[0],s[4]),vn.getMinWidth(s[6],s[2])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN),Math.min(vn.getMinWidth(s[1],s[5]),vn.getMinWidth(s[7],s[3])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN)))}reset(){}}class Dc extends m{}Dc.kind="ReaderException";class qp{constructor(s,i){this.verbose=s===!0,i&&this.setHints(i)}decode(s,i){return i&&this.setHints(i),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const i=!r(s)&&s.get(F.TRY_HARDER)===!0,l=r(s)?null:s.get(F.POSSIBLE_FORMATS),u=new Array;if(!r(l)){const d=l.some(f=>f===Z.UPC_A||f===Z.UPC_E||f===Z.EAN_13||f===Z.EAN_8||f===Z.CODABAR||f===Z.CODE_39||f===Z.CODE_93||f===Z.CODE_128||f===Z.ITF||f===Z.RSS_14||f===Z.RSS_EXPANDED);d&&!i&&u.push(new Do(s,this.verbose)),l.includes(Z.QR_CODE)&&u.push(new Gs),l.includes(Z.DATA_MATRIX)&&u.push(new $s),l.includes(Z.AZTEC)&&u.push(new Ro),l.includes(Z.PDF_417)&&u.push(new vn),d&&i&&u.push(new Do(s,this.verbose))}u.length===0&&(i||u.push(new Do(s,this.verbose)),u.push(new Gs),u.push(new $s),u.push(new Ro),u.push(new vn),i&&u.push(new Do(s,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Dc("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(s,this.hints)}catch(l){if(l instanceof Dc)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class rE extends ke{constructor(s=null,i=500){const l=new qp;l.setHints(s),super(l,i)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class sE extends ke{constructor(s=500){super(new vn,s)}}class iE extends ke{constructor(s=500){super(new Gs,s)}}var Rh;(function(k){k[k.ERROR_CORRECTION=0]="ERROR_CORRECTION",k[k.CHARACTER_SET=1]="CHARACTER_SET",k[k.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",k[k.MIN_SIZE=3]="MIN_SIZE",k[k.MAX_SIZE=4]="MAX_SIZE",k[k.MARGIN=5]="MARGIN",k[k.PDF417_COMPACT=6]="PDF417_COMPACT",k[k.PDF417_COMPACTION=7]="PDF417_COMPACTION",k[k.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",k[k.AZTEC_LAYERS=9]="AZTEC_LAYERS",k[k.QR_VERSION=10]="QR_VERSION"})(Rh||(Rh={}));var an=Rh;class Oh{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Se(s,Int32Array.from([1])))}buildGenerator(s){const i=this.cachedGenerators;if(s>=i.length){let l=i[i.length-1];const u=this.field;for(let d=i.length;d<=s;d++){const f=l.multiply(new Se(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));i.push(f),l=f}}return i[s]}encode(s,i){if(i===0)throw new w("No error correction bytes");const l=s.length-i;if(l<=0)throw new w("No data bytes provided");const u=this.buildGenerator(i),d=new Int32Array(l);T.arraycopy(s,0,d,0,l);let f=new Se(this.field,d);f=f.multiplyByMonomial(i,1);const y=f.divide(u)[1].getCoefficients(),b=i-y.length;for(let A=0;A<b;A++)s[l+A]=0;T.arraycopy(y,0,s,l+b,y.length)}}class Gt{constructor(){}static applyMaskPenaltyRule1(s){return Gt.applyMaskPenaltyRule1Internal(s,!0)+Gt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let i=0;const l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let f=0;f<d-1;f++){const g=l[f];for(let y=0;y<u-1;y++){const b=g[y];b===g[y+1]&&b===l[f+1][y]&&b===l[f+1][y+1]&&i++}}return Gt.N2*i}static applyMaskPenaltyRule3(s){let i=0;const l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let f=0;f<d;f++)for(let g=0;g<u;g++){const y=l[f];g+6<u&&y[g]===1&&y[g+1]===0&&y[g+2]===1&&y[g+3]===1&&y[g+4]===1&&y[g+5]===0&&y[g+6]===1&&(Gt.isWhiteHorizontal(y,g-4,g)||Gt.isWhiteHorizontal(y,g+7,g+11))&&i++,f+6<d&&l[f][g]===1&&l[f+1][g]===0&&l[f+2][g]===1&&l[f+3][g]===1&&l[f+4][g]===1&&l[f+5][g]===0&&l[f+6][g]===1&&(Gt.isWhiteVertical(l,g,f-4,f)||Gt.isWhiteVertical(l,g,f+7,f+11))&&i++}return i*Gt.N3}static isWhiteHorizontal(s,i,l){i=Math.max(i,0),l=Math.min(l,s.length);for(let u=i;u<l;u++)if(s[u]===1)return!1;return!0}static isWhiteVertical(s,i,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let d=l;d<u;d++)if(s[d][i]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let i=0;const l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let y=0;y<d;y++){const b=l[y];for(let A=0;A<u;A++)b[A]===1&&i++}const f=s.getHeight()*s.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*Gt.N4}static getDataMaskBit(s,i,l){let u,d;switch(s){case 0:u=l+i&1;break;case 1:u=l&1;break;case 2:u=i%3;break;case 3:u=(l+i)%3;break;case 4:u=Math.floor(l/2)+Math.floor(i/3)&1;break;case 5:d=l*i,u=(d&1)+d%3;break;case 6:d=l*i,u=(d&1)+d%3&1;break;case 7:d=l*i,u=d%3+(l+i&1)&1;break;default:throw new w("Invalid mask pattern: "+s)}return u===0}static applyMaskPenaltyRule1Internal(s,i){let l=0;const u=i?s.getHeight():s.getWidth(),d=i?s.getWidth():s.getHeight(),f=s.getArray();for(let g=0;g<u;g++){let y=0,b=-1;for(let A=0;A<d;A++){const M=i?f[g][A]:f[A][g];M===b?y++:(y>=5&&(l+=Gt.N1+(y-5)),y=1,b=M)}y>=5&&(l+=Gt.N1+(y-5))}return l}}Gt.N1=3,Gt.N2=3,Gt.N3=40,Gt.N4=10;class Pc{constructor(s,i){this.width=s,this.height=i;const l=new Array(i);for(let u=0;u!==i;u++)l[u]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,i){return this.bytes[i][s]}getArray(){return this.bytes}setNumber(s,i,l){this.bytes[i][s]=l}setBoolean(s,i,l){this.bytes[i][s]=l?1:0}clear(s){for(const i of this.bytes)S.fill(i,s)}equals(s){if(!(s instanceof Pc))return!1;const i=s;if(this.width!==i.width||this.height!==i.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],f=i.bytes[l];for(let g=0,y=this.width;g<y;++g)if(d[g]!==f[g])return!1}return!0}toString(){const s=new de;for(let i=0,l=this.height;i<l;++i){const u=this.bytes[i];for(let d=0,f=this.width;d<f;++d)switch(u[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Xi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new de;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Xi.NUM_MASK_PATTERNS}}Xi.NUM_MASK_PATTERNS=8;class yt extends m{}yt.kind="WriterException";class Fe{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,i,l,u,d){Fe.clearMatrix(d),Fe.embedBasicPatterns(l,d),Fe.embedTypeInfo(i,u,d),Fe.maybeEmbedVersionInfo(l,d),Fe.embedDataBits(s,u,d)}static embedBasicPatterns(s,i){Fe.embedPositionDetectionPatternsAndSeparators(i),Fe.embedDarkDotAtLeftBottomCorner(i),Fe.maybeEmbedPositionAdjustmentPatterns(s,i),Fe.embedTimingPatterns(i)}static embedTypeInfo(s,i,l){const u=new P;Fe.makeTypeInfoBits(s,i,u);for(let d=0,f=u.getSize();d<f;++d){const g=u.get(u.getSize()-1-d),y=Fe.TYPE_INFO_COORDINATES[d],b=y[0],A=y[1];if(l.setBoolean(b,A,g),d<8){const M=l.getWidth()-d-1;l.setBoolean(M,8,g)}else{const L=l.getHeight()-7+(d-8);l.setBoolean(8,L,g)}}}static maybeEmbedVersionInfo(s,i){if(s.getVersionNumber()<7)return;const l=new P;Fe.makeVersionInfoBits(s,l);let u=6*3-1;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const g=l.get(u);u--,i.setBoolean(d,i.getHeight()-11+f,g),i.setBoolean(i.getHeight()-11+f,d,g)}}static embedDataBits(s,i,l){let u=0,d=-1,f=l.getWidth()-1,g=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<l.getHeight();){for(let y=0;y<2;++y){const b=f-y;if(!Fe.isEmpty(l.get(b,g)))continue;let A;u<s.getSize()?(A=s.get(u),++u):A=!1,i!==255&&Gt.getDataMaskBit(i,b,g)&&(A=!A),l.setBoolean(b,g,A)}g+=d}d=-d,g+=d,f-=2}if(u!==s.getSize())throw new yt("Not all bits consumed: "+u+"/"+s.getSize())}static findMSBSet(s){return 32-N.numberOfLeadingZeros(s)}static calculateBCHCode(s,i){if(i===0)throw new w("0 polynomial");const l=Fe.findMSBSet(i);for(s<<=l-1;Fe.findMSBSet(s)>=l;)s^=i<<Fe.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,i,l){if(!Xi.isValidMaskPattern(i))throw new yt("Invalid mask pattern");const u=s.getBits()<<3|i;l.appendBits(u,5);const d=Fe.calculateBCHCode(u,Fe.TYPE_INFO_POLY);l.appendBits(d,10);const f=new P;if(f.appendBits(Fe.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new yt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,i){i.appendBits(s.getVersionNumber(),6);const l=Fe.calculateBCHCode(s.getVersionNumber(),Fe.VERSION_INFO_POLY);if(i.appendBits(l,12),i.getSize()!==18)throw new yt("should not happen but we got: "+i.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let i=8;i<s.getWidth()-8;++i){const l=(i+1)%2;Fe.isEmpty(s.get(i,6))&&s.setNumber(i,6,l),Fe.isEmpty(s.get(6,i))&&s.setNumber(6,i,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new yt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,i,l){for(let u=0;u<8;++u){if(!Fe.isEmpty(l.get(s+u,i)))throw new yt;l.setNumber(s+u,i,0)}}static embedVerticalSeparationPattern(s,i,l){for(let u=0;u<7;++u){if(!Fe.isEmpty(l.get(s,i+u)))throw new yt;l.setNumber(s,i+u,0)}}static embedPositionAdjustmentPattern(s,i,l){for(let u=0;u<5;++u){const d=Fe.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)l.setNumber(s+f,i+u,d[f])}}static embedPositionDetectionPattern(s,i,l){for(let u=0;u<7;++u){const d=Fe.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)l.setNumber(s+f,i+u,d[f])}}static embedPositionDetectionPatternsAndSeparators(s){const i=Fe.POSITION_DETECTION_PATTERN[0].length;Fe.embedPositionDetectionPattern(0,0,s),Fe.embedPositionDetectionPattern(s.getWidth()-i,0,s),Fe.embedPositionDetectionPattern(0,s.getWidth()-i,s);const l=8;Fe.embedHorizontalSeparationPattern(0,l-1,s),Fe.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),Fe.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const u=7;Fe.embedVerticalSeparationPattern(u,0,s),Fe.embedVerticalSeparationPattern(s.getHeight()-u-1,0,s),Fe.embedVerticalSeparationPattern(u,s.getHeight()-u,s)}static maybeEmbedPositionAdjustmentPatterns(s,i){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,u=Fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=u.length;d!==f;d++){const g=u[d];if(g>=0)for(let y=0;y!==f;y++){const b=u[y];b>=0&&Fe.isEmpty(i.get(b,g))&&Fe.embedPositionAdjustmentPattern(b-2,g-2,i)}}}}Fe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Fe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Fe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Fe.VERSION_INFO_POLY=7973,Fe.TYPE_INFO_POLY=1335,Fe.TYPE_INFO_MASK_PATTERN=21522;class oE{constructor(s,i){this.dataBytes=s,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class At{constructor(){}static calculateMaskPenalty(s){return Gt.applyMaskPenaltyRule1(s)+Gt.applyMaskPenaltyRule2(s)+Gt.applyMaskPenaltyRule3(s)+Gt.applyMaskPenaltyRule4(s)}static encode(s,i,l=null){let u=At.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(an.CHARACTER_SET)!==void 0;d&&(u=l.get(an.CHARACTER_SET).toString());const f=this.chooseMode(s,u),g=new P;if(f===Le.BYTE&&(d||At.DEFAULT_BYTE_MODE_ENCODING!==u)){const pe=V.getCharacterSetECIByName(u);pe!==void 0&&this.appendECI(pe,g)}this.appendModeInfo(f,g);const y=new P;this.appendBytes(s,f,y,u);let b;if(l!==null&&l.get(an.QR_VERSION)!==void 0){const pe=Number.parseInt(l.get(an.QR_VERSION).toString(),10);b=Me.getVersionForNumber(pe);const ue=this.calculateBitsNeeded(f,g,y,b);if(!this.willFit(ue,b,i))throw new yt("Data too big for requested version")}else b=this.recommendVersion(i,f,g,y);const A=new P;A.appendBitArray(g);const M=f===Le.BYTE?y.getSizeInBytes():s.length;this.appendLengthInfo(M,b,f,A),A.appendBitArray(y);const L=b.getECBlocksForLevel(i),z=b.getTotalCodewords()-L.getTotalECCodewords();this.terminateBits(z,A);const H=this.interleaveWithECBytes(A,b.getTotalCodewords(),z,L.getNumBlocks()),W=new Xi;W.setECLevel(i),W.setMode(f),W.setVersion(b);const Y=b.getDimensionForVersion(),ee=new Pc(Y,Y),fe=this.chooseMaskPattern(H,i,b,ee);return W.setMaskPattern(fe),Fe.buildMatrix(H,i,b,fe,ee),W.setMatrix(ee),W}static recommendVersion(s,i,l,u){const d=this.calculateBitsNeeded(i,l,u,Me.getVersionForNumber(1)),f=this.chooseVersion(d,s),g=this.calculateBitsNeeded(i,l,u,f);return this.chooseVersion(g,s)}static calculateBitsNeeded(s,i,l,u){return i.getSize()+s.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(s){return s<At.ALPHANUMERIC_TABLE.length?At.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,i=null){if(V.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(s))return Le.KANJI;let l=!1,u=!1;for(let d=0,f=s.length;d<f;++d){const g=s.charAt(d);if(At.isDigit(g))l=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)u=!0;else return Le.BYTE}return u?Le.ALPHANUMERIC:l?Le.NUMERIC:Le.BYTE}static isOnlyDoubleByteKanji(s){let i;try{i=se.encode(s,V.SJIS)}catch{return!1}const l=i.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const d=i[u]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,i,l,u){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<Xi.NUM_MASK_PATTERNS;g++){Fe.buildMatrix(s,i,l,g,u);let y=this.calculateMaskPenalty(u);y<d&&(d=y,f=g)}return f}static chooseVersion(s,i){for(let l=1;l<=40;l++){const u=Me.getVersionForNumber(l);if(At.willFit(s,u,i))return u}throw new yt("Data too big")}static willFit(s,i,l){const u=i.getTotalCodewords(),f=i.getECBlocksForLevel(l).getTotalECCodewords(),g=u-f,y=(s+7)/8;return g>=y}static terminateBits(s,i){const l=s*8;if(i.getSize()>l)throw new yt("data bits cannot fit in the QR Code"+i.getSize()+" > "+l);for(let f=0;f<4&&i.getSize()<l;++f)i.appendBit(!1);const u=i.getSize()&7;if(u>0)for(let f=u;f<8;f++)i.appendBit(!1);const d=s-i.getSizeInBytes();for(let f=0;f<d;++f)i.appendBits(f&1?17:236,8);if(i.getSize()!==l)throw new yt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,i,l,u,d,f){if(u>=l)throw new yt("Block ID too large");const g=s%l,y=l-g,b=Math.floor(s/l),A=b+1,M=Math.floor(i/l),L=M+1,z=b-M,H=A-L;if(z!==H)throw new yt("EC bytes mismatch");if(l!==y+g)throw new yt("RS blocks mismatch");if(s!==(M+z)*y+(L+H)*g)throw new yt("Total bytes mismatch");u<y?(d[0]=M,f[0]=z):(d[0]=L,f[0]=H)}static interleaveWithECBytes(s,i,l,u){if(s.getSizeInBytes()!==l)throw new yt("Number of bits and data bytes does not match");let d=0,f=0,g=0;const y=new Array;for(let A=0;A<u;++A){const M=new Int32Array(1),L=new Int32Array(1);At.getNumDataBytesAndNumECBytesForBlockID(i,l,u,A,M,L);const z=M[0],H=new Uint8Array(z);s.toBytes(8*d,H,0,z);const W=At.generateECBytes(H,L[0]);y.push(new oE(H,W)),f=Math.max(f,z),g=Math.max(g,W.length),d+=M[0]}if(l!==d)throw new yt("Data bytes does not match offset");const b=new P;for(let A=0;A<f;++A)for(const M of y){const L=M.getDataBytes();A<L.length&&b.appendBits(L[A],8)}for(let A=0;A<g;++A)for(const M of y){const L=M.getErrorCorrectionBytes();A<L.length&&b.appendBits(L[A],8)}if(i!==b.getSizeInBytes())throw new yt("Interleaving error: "+i+" and "+b.getSizeInBytes()+" differ.");return b}static generateECBytes(s,i){const l=s.length,u=new Int32Array(l+i);for(let f=0;f<l;f++)u[f]=s[f]&255;new Oh(De.QR_CODE_FIELD_256).encode(u,i);const d=new Uint8Array(i);for(let f=0;f<i;f++)d[f]=u[l+f];return d}static appendModeInfo(s,i){i.appendBits(s.getBits(),4)}static appendLengthInfo(s,i,l,u){const d=l.getCharacterCountBits(i);if(s>=1<<d)throw new yt(s+" is bigger than "+((1<<d)-1));u.appendBits(s,d)}static appendBytes(s,i,l,u){switch(i){case Le.NUMERIC:At.appendNumericBytes(s,l);break;case Le.ALPHANUMERIC:At.appendAlphanumericBytes(s,l);break;case Le.BYTE:At.append8BitBytes(s,l,u);break;case Le.KANJI:At.appendKanjiBytes(s,l);break;default:throw new yt("Invalid mode: "+i)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const i=At.getDigit(s);return i>=0&&i<=9}static appendNumericBytes(s,i){const l=s.length;let u=0;for(;u<l;){const d=At.getDigit(s.charAt(u));if(u+2<l){const f=At.getDigit(s.charAt(u+1)),g=At.getDigit(s.charAt(u+2));i.appendBits(d*100+f*10+g,10),u+=3}else if(u+1<l){const f=At.getDigit(s.charAt(u+1));i.appendBits(d*10+f,7),u+=2}else i.appendBits(d,4),u++}}static appendAlphanumericBytes(s,i){const l=s.length;let u=0;for(;u<l;){const d=At.getAlphanumericCode(s.charCodeAt(u));if(d===-1)throw new yt;if(u+1<l){const f=At.getAlphanumericCode(s.charCodeAt(u+1));if(f===-1)throw new yt;i.appendBits(d*45+f,11),u+=2}else i.appendBits(d,6),u++}}static append8BitBytes(s,i,l){let u;try{u=se.encode(s,l)}catch(d){throw new yt(d)}for(let d=0,f=u.length;d!==f;d++){const g=u[d];i.appendBits(g,8)}}static appendKanjiBytes(s,i){let l;try{l=se.encode(s,V.SJIS)}catch(d){throw new yt(d)}const u=l.length;for(let d=0;d<u;d+=2){const f=l[d]&255,g=l[d+1]&255,y=f<<8&4294967295|g;let b=-1;if(y>=33088&&y<=40956?b=y-33088:y>=57408&&y<=60351&&(b=y-49472),b===-1)throw new yt("Invalid byte sequence");const A=(b>>8)*192+(b&255);i.appendBits(A,13)}}static appendECI(s,i){i.appendBits(Le.ECI.getBits(),4),i.appendBits(s.getValue(),8)}}At.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),At.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class Ki{write(s,i,l,u=null){if(s.length===0)throw new w("Found empty contents");if(i<0||l<0)throw new w("Requested dimensions are too small: "+i+"x"+l);let d=bt.L,f=Ki.QUIET_ZONE_SIZE;u!==null&&(u.get(an.ERROR_CORRECTION)!==void 0&&(d=bt.fromString(u.get(an.ERROR_CORRECTION).toString())),u.get(an.MARGIN)!==void 0&&(f=Number.parseInt(u.get(an.MARGIN).toString(),10)));const g=At.encode(s,d,u);return this.renderResult(g,i,l,f)}writeToDom(s,i,l,u,d=null){typeof s=="string"&&(s=document.querySelector(s));const f=this.write(i,l,u,d);s&&s.appendChild(f)}renderResult(s,i,l,u){const d=s.getMatrix();if(d===null)throw new sn;const f=d.getWidth(),g=d.getHeight(),y=f+u*2,b=g+u*2,A=Math.max(i,y),M=Math.max(l,b),L=Math.min(Math.floor(A/y),Math.floor(M/b)),z=Math.floor((A-f*L)/2),H=Math.floor((M-g*L)/2),W=this.createSVGElement(A,M);for(let Y=0,ee=H;Y<g;Y++,ee+=L)for(let fe=0,pe=z;fe<f;fe++,pe+=L)if(d.get(fe,Y)===1){const ue=this.createSvgRectElement(pe,ee,L,L);W.appendChild(ue)}return W}createSVGElement(s,i){const l=document.createElementNS(Ki.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",i.toString()),l}createSvgRectElement(s,i,l,u){const d=document.createElementNS(Ki.SVG_NS,"rect");return d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",i.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",u.toString()),d.setAttributeNS(null,"fill","#000000"),d}}Ki.QUIET_ZONE_SIZE=4,Ki.SVG_NS="http://www.w3.org/2000/svg";class Lo{encode(s,i,l,u,d){if(s.length===0)throw new w("Found empty contents");if(i!==Z.QR_CODE)throw new w("Can only encode QR_CODE, but got "+i);if(l<0||u<0)throw new w(`Requested dimensions are too small: ${l}x${u}`);let f=bt.L,g=Lo.QUIET_ZONE_SIZE;d!==null&&(d.get(an.ERROR_CORRECTION)!==void 0&&(f=bt.fromString(d.get(an.ERROR_CORRECTION).toString())),d.get(an.MARGIN)!==void 0&&(g=Number.parseInt(d.get(an.MARGIN).toString(),10)));const y=At.encode(s,f,d);return Lo.renderResult(y,l,u,g)}static renderResult(s,i,l,u){const d=s.getMatrix();if(d===null)throw new sn;const f=d.getWidth(),g=d.getHeight(),y=f+u*2,b=g+u*2,A=Math.max(i,y),M=Math.max(l,b),L=Math.min(Math.floor(A/y),Math.floor(M/b)),z=Math.floor((A-f*L)/2),H=Math.floor((M-g*L)/2),W=new te(A,M);for(let Y=0,ee=H;Y<g;Y++,ee+=L)for(let fe=0,pe=z;fe<f;fe++,pe+=L)d.get(fe,Y)===1&&W.setRegion(pe,ee,L,L);return W}}Lo.QUIET_ZONE_SIZE=4;class aE{encode(s,i,l,u,d){let f;switch(i){case Z.QR_CODE:f=new Lo;break;default:throw new w("No encoder available for format "+i)}return f.encode(s,i,l,u,d)}}class as extends K{constructor(s,i,l,u,d,f,g,y){if(super(f,g),this.yuvData=s,this.dataWidth=i,this.dataHeight=l,this.left=u,this.top=d,u+f>i||d+g>l)throw new w("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,g)}getRow(s,i){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth();(i==null||i.length<l)&&(i=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,u,i,0,l),i}getMatrix(){const s=this.getWidth(),i=this.getHeight();if(s===this.dataWidth&&i===this.dataHeight)return this.yuvData;const l=s*i,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return T.arraycopy(this.yuvData,d,u,0,l),u;for(let f=0;f<i;f++){const g=f*s;T.arraycopy(this.yuvData,d,u,g,s),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,i,l,u){return new as(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+i,l,u,!1)}renderThumbnail(){const s=this.getWidth()/as.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/as.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*i),u=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const g=f*s;for(let y=0;y<s;y++){const b=u[d+y*as.THUMBNAIL_SCALE_FACTOR]&255;l[g+y]=4278190080|b*65793}d+=this.dataWidth*as.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/as.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/as.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,i){const l=this.yuvData;for(let u=0,d=this.top*this.dataWidth+this.left;u<i;u++,d+=this.dataWidth){const f=d+s/2;for(let g=d,y=d+s-1;g<f;g++,y--){const b=l[g];l[g]=l[y],l[y]=b}}}invert(){return new ae(this)}}as.THUMBNAIL_SCALE_FACTOR=2;class kh extends K{constructor(s,i,l,u,d,f,g){if(super(i,l),this.dataWidth=u,this.dataHeight=d,this.left=f,this.top=g,s.BYTES_PER_ELEMENT===4){const y=i*l,b=new Uint8ClampedArray(y);for(let A=0;A<y;A++){const M=s[A],L=M>>16&255,z=M>>7&510,H=M&255;b[A]=(L+z+H)/4&255}this.luminances=b}else this.luminances=s;if(u===void 0&&(this.dataWidth=i),d===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+l>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(s,i){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth();(i==null||i.length<l)&&(i=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,u,i,0,l),i}getMatrix(){const s=this.getWidth(),i=this.getHeight();if(s===this.dataWidth&&i===this.dataHeight)return this.luminances;const l=s*i,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return T.arraycopy(this.luminances,d,u,0,l),u;for(let f=0;f<i;f++){const g=f*s;T.arraycopy(this.luminances,d,u,g,s),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,i,l,u){return new kh(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+s,this.top+i)}invert(){return new ae(this)}}class Xp extends V{static forName(s){return this.getCharacterSetECIByName(s)}}class Mh{}Mh.ISO_8859_1=V.ISO8859_1;class Kp{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Qp{static singletonList(s){return[s]}static min(s,i){return s.sort(i)[0]}}class lE{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Bo extends lE{constructor(s,i,l){super(s),this.value=i,this.bitCount=l}appendTo(s,i){s.appendBits(this.value,this.bitCount)}add(s,i){return new Bo(this,s,i)}addBinaryShift(s,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Bo(this,s,i)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+N.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Dh extends Bo{constructor(s,i,l){super(s,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=l}appendTo(s,i){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(i[this.binaryShiftStart+l],8)}addBinaryShift(s,i){return new Dh(this,s,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function cE(k,s,i){return new Dh(k,s,i)}function sl(k,s,i){return new Bo(k,s,i)}const uE=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qs=0,Lc=1,Er=2,Zp=3,ls=4,dE=new Bo(null,0,0),Ph=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function hE(k){for(let s of k)S.fill(s,-1);return k[qs][ls]=0,k[Lc][ls]=0,k[Lc][qs]=28,k[Zp][ls]=0,k[Er][ls]=0,k[Er][qs]=15,k}const Jp=hE(S.createInt32Array(6,6));class cs{constructor(s,i,l,u){this.token=s,this.mode=i,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,i){let l=this.bitCount,u=this.token;if(s!==this.mode){let f=Ph[this.mode][s];u=sl(u,f&65535,f>>16),l+=f>>16}let d=s===Er?4:5;return u=sl(u,i,d),new cs(u,s,0,l+d)}shiftAndAppend(s,i){let l=this.token,u=this.mode===Er?4:5;return l=sl(l,Jp[this.mode][s],u),l=sl(l,i,5),new cs(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(s){let i=this.token,l=this.mode,u=this.bitCount;if(this.mode===ls||this.mode===Er){let g=Ph[l][qs];i=sl(i,g&65535,g>>16),u+=g>>16,l=qs}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new cs(i,l,this.binaryShiftByteCount+1,u+d);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(s+1)),f}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=cE(i,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new cs(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let i=this.bitCount+(Ph[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?i+=cs.calculateBinaryShiftCost(s)-cs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(i+=10),i<=s.bitCount}toBitArray(s){let i=[];for(let u=this.endBinaryShift(s.length).token;u!==null;u=u.getPrevious())i.unshift(u);let l=new P;for(const u of i)u.appendTo(l,s);return l}toString(){return X.format("%s bits=%d bytes=%d",uE[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}cs.INITIAL_STATE=new cs(dE,qs,0,0);function fE(k){const s=X.getCharCode(" "),i=X.getCharCode("."),l=X.getCharCode(",");k[qs][s]=1;const u=X.getCharCode("Z"),d=X.getCharCode("A");for(let L=d;L<=u;L++)k[qs][L]=L-d+2;k[Lc][s]=1;const f=X.getCharCode("z"),g=X.getCharCode("a");for(let L=g;L<=f;L++)k[Lc][L]=L-g+2;k[Er][s]=1;const y=X.getCharCode("9"),b=X.getCharCode("0");for(let L=b;L<=y;L++)k[Er][L]=L-b+2;k[Er][l]=12,k[Er][i]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let L=0;L<A.length;L++)k[Zp][X.getCharCode(A[L])]=L;const M=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let L=0;L<M.length;L++)X.getCharCode(M[L])>0&&(k[ls][X.getCharCode(M[L])]=L);return k}const Lh=fE(S.createInt32Array(5,256));class il{constructor(s){this.text=s}encode(){const s=X.getCharCode(" "),i=X.getCharCode(`
`);let l=Qp.singletonList(cs.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,g=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case X.getCharCode("\r"):f=g===i?2:0;break;case X.getCharCode("."):f=g===s?3:0;break;case X.getCharCode(","):f=g===s?4:0;break;case X.getCharCode(":"):f=g===s?5:0;break;default:f=0}f>0?(l=il.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return Qp.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,i){const l=[];for(let u of s)this.updateStateForChar(u,i,l);return il.simplifyStates(l)}updateStateForChar(s,i,l){let u=this.text[i]&255,d=Lh[s.getMode()][u]>0,f=null;for(let g=0;g<=ls;g++){let y=Lh[g][u];if(y>0){if(f==null&&(f=s.endBinaryShift(i)),!d||g===s.getMode()||g===Er){const b=f.latchAndAppend(g,y);l.push(b)}if(!d&&Jp[s.getMode()][g]>=0){const b=f.shiftAndAppend(g,y);l.push(b)}}}if(s.getBinaryShiftByteCount()>0||Lh[s.getMode()][u]===0){let g=s.addBinaryShiftChar(i);l.push(g)}}static updateStateListForPair(s,i,l){const u=[];for(let d of s)this.updateStateForPair(d,i,l,u);return this.simplifyStates(u)}static updateStateForPair(s,i,l,u){let d=s.endBinaryShift(i);if(u.push(d.latchAndAppend(ls,l)),s.getMode()!==ls&&u.push(d.shiftAndAppend(ls,l)),l===3||l===4){let f=d.latchAndAppend(Er,16-l).latchAndAppend(Er,1);u.push(f)}if(s.getBinaryShiftByteCount()>0){let f=s.addBinaryShiftChar(i).addBinaryShiftChar(i+1);u.push(f)}}static simplifyStates(s){let i=[];for(const l of s){let u=!0;for(const d of i){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(i=i.filter(f=>f!==d))}u&&i.push(l)}return i}}class ot{constructor(){}static encodeBytes(s){return ot.encode(s,ot.DEFAULT_EC_PERCENT,ot.DEFAULT_AZTEC_LAYERS)}static encode(s,i,l){let u=new il(s).encode(),d=N.truncDivision(u.getSize()*i,100)+11,f=u.getSize()+d,g,y,b,A,M;if(l!==ot.DEFAULT_AZTEC_LAYERS){if(g=l<0,y=Math.abs(l),y>(g?ot.MAX_NB_BITS_COMPACT:ot.MAX_NB_BITS))throw new w(X.format("Illegal value %s for layers",l));b=ot.totalBitsInLayer(y,g),A=ot.WORD_SIZE[y];let ue=b-b%A;if(M=ot.stuffBits(u,A),M.getSize()+d>ue)throw new w("Data to large for user specified layer");if(g&&M.getSize()>A*64)throw new w("Data to large for user specified layer")}else{A=0,M=null;for(let ue=0;;ue++){if(ue>ot.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(g=ue<=3,y=g?ue+1:ue,b=ot.totalBitsInLayer(y,g),f>b)continue;(M==null||A!==ot.WORD_SIZE[y])&&(A=ot.WORD_SIZE[y],M=ot.stuffBits(u,A));let rt=b-b%A;if(!(g&&M.getSize()>A*64)&&M.getSize()+d<=rt)break}}let L=ot.generateCheckWords(M,b,A),z=M.getSize()/A,H=ot.generateModeMessage(g,y,z),W=(g?11:14)+y*4,Y=new Int32Array(W),ee;if(g){ee=W;for(let ue=0;ue<Y.length;ue++)Y[ue]=ue}else{ee=W+1+2*N.truncDivision(N.truncDivision(W,2)-1,15);let ue=N.truncDivision(W,2),rt=N.truncDivision(ee,2);for(let $e=0;$e<ue;$e++){let Kn=$e+N.truncDivision($e,15);Y[ue-$e-1]=rt-Kn-1,Y[ue+$e]=rt+Kn+1}}let fe=new te(ee);for(let ue=0,rt=0;ue<y;ue++){let $e=(y-ue)*4+(g?9:12);for(let Kn=0;Kn<$e;Kn++){let Ur=Kn*2;for(let Qn=0;Qn<2;Qn++)L.get(rt+Ur+Qn)&&fe.set(Y[ue*2+Qn],Y[ue*2+Kn]),L.get(rt+$e*2+Ur+Qn)&&fe.set(Y[ue*2+Kn],Y[W-1-ue*2-Qn]),L.get(rt+$e*4+Ur+Qn)&&fe.set(Y[W-1-ue*2-Qn],Y[W-1-ue*2-Kn]),L.get(rt+$e*6+Ur+Qn)&&fe.set(Y[W-1-ue*2-Kn],Y[ue*2+Qn])}rt+=$e*8}if(ot.drawModeMessage(fe,g,ee,H),g)ot.drawBullsEye(fe,N.truncDivision(ee,2),5);else{ot.drawBullsEye(fe,N.truncDivision(ee,2),7);for(let ue=0,rt=0;ue<N.truncDivision(W,2)-1;ue+=15,rt+=16)for(let $e=N.truncDivision(ee,2)&1;$e<ee;$e+=2)fe.set(N.truncDivision(ee,2)-rt,$e),fe.set(N.truncDivision(ee,2)+rt,$e),fe.set($e,N.truncDivision(ee,2)-rt),fe.set($e,N.truncDivision(ee,2)+rt)}let pe=new Kp;return pe.setCompact(g),pe.setSize(ee),pe.setLayers(y),pe.setCodeWords(z),pe.setMatrix(fe),pe}static drawBullsEye(s,i,l){for(let u=0;u<l;u+=2)for(let d=i-u;d<=i+u;d++)s.set(d,i-u),s.set(d,i+u),s.set(i-u,d),s.set(i+u,d);s.set(i-l,i-l),s.set(i-l+1,i-l),s.set(i-l,i-l+1),s.set(i+l,i-l),s.set(i+l,i-l+1),s.set(i+l,i+l-1)}static generateModeMessage(s,i,l){let u=new P;return s?(u.appendBits(i-1,2),u.appendBits(l-1,6),u=ot.generateCheckWords(u,28,4)):(u.appendBits(i-1,5),u.appendBits(l-1,11),u=ot.generateCheckWords(u,40,4)),u}static drawModeMessage(s,i,l,u){let d=N.truncDivision(l,2);if(i)for(let f=0;f<7;f++){let g=d-3+f;u.get(f)&&s.set(g,d-5),u.get(f+7)&&s.set(d+5,g),u.get(20-f)&&s.set(g,d+5),u.get(27-f)&&s.set(d-5,g)}else for(let f=0;f<10;f++){let g=d-5+f+N.truncDivision(f,5);u.get(f)&&s.set(g,d-7),u.get(f+10)&&s.set(d+7,g),u.get(29-f)&&s.set(g,d+7),u.get(39-f)&&s.set(d-7,g)}}static generateCheckWords(s,i,l){let u=s.getSize()/l,d=new Oh(ot.getGF(l)),f=N.truncDivision(i,l),g=ot.bitsToWords(s,l,f);d.encode(g,f-u);let y=i%l,b=new P;b.appendBits(0,y);for(const A of Array.from(g))b.appendBits(A,l);return b}static bitsToWords(s,i,l){let u=new Int32Array(l),d,f;for(d=0,f=s.getSize()/i;d<f;d++){let g=0;for(let y=0;y<i;y++)g|=s.get(d*i+y)?1<<i-y-1:0;u[d]=g}return u}static getGF(s){switch(s){case 4:return De.AZTEC_PARAM;case 6:return De.AZTEC_DATA_6;case 8:return De.AZTEC_DATA_8;case 10:return De.AZTEC_DATA_10;case 12:return De.AZTEC_DATA_12;default:throw new w("Unsupported word size "+s)}}static stuffBits(s,i){let l=new P,u=s.getSize(),d=(1<<i)-2;for(let f=0;f<u;f+=i){let g=0;for(let y=0;y<i;y++)(f+y>=u||s.get(f+y))&&(g|=1<<i-1-y);(g&d)===d?(l.appendBits(g&d,i),f--):g&d?l.appendBits(g,i):(l.appendBits(g|1,i),f--)}return l}static totalBitsInLayer(s,i){return((i?88:112)+16*s)*s}}ot.DEFAULT_EC_PERCENT=33,ot.DEFAULT_AZTEC_LAYERS=0,ot.MAX_NB_BITS=32,ot.MAX_NB_BITS_COMPACT=4,ot.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Bc{encode(s,i,l,u){return this.encodeWithHints(s,i,l,u,null)}encodeWithHints(s,i,l,u,d){let f=Mh.ISO_8859_1,g=ot.DEFAULT_EC_PERCENT,y=ot.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(an.CHARACTER_SET)&&(f=Xp.forName(d.get(an.CHARACTER_SET).toString())),d.has(an.ERROR_CORRECTION)&&(g=N.parseInt(d.get(an.ERROR_CORRECTION).toString())),d.has(an.AZTEC_LAYERS)&&(y=N.parseInt(d.get(an.AZTEC_LAYERS).toString()))),Bc.encodeLayers(s,i,l,u,f,g,y)}static encodeLayers(s,i,l,u,d,f,g){if(i!==Z.AZTEC)throw new w("Can only encode AZTEC, but got "+i);let y=ot.encode(X.getBytes(s,d),f,g);return Bc.renderResult(y,l,u)}static renderResult(s,i,l){let u=s.getMatrix();if(u==null)throw new sn;let d=u.getWidth(),f=u.getHeight(),g=Math.max(i,d),y=Math.max(l,f),b=Math.min(g/d,y/f),A=(g-d*b)/2,M=(y-f*b)/2,L=new te(g,y);for(let z=0,H=M;z<f;z++,H+=b)for(let W=0,Y=A;W<d;W++,Y+=b)u.get(W,z)&&L.setRegion(Y,H,b,b);return L}}n.AbstractExpandedDecoder=Ch,n.ArgumentException=v,n.ArithmeticException=Ce,n.AztecCode=Kp,n.AztecCodeReader=Ro,n.AztecCodeWriter=Bc,n.AztecDecoder=ct,n.AztecDetector=Qa,n.AztecDetectorResult=Wi,n.AztecEncoder=ot,n.AztecHighLevelEncoder=il,n.AztecPoint=Wt,n.BarcodeFormat=Z,n.Binarizer=j,n.BinaryBitmap=C,n.BitArray=P,n.BitMatrix=te,n.BitSource=Nh,n.BrowserAztecCodeReader=Tc,n.BrowserBarcodeReader=WS,n.BrowserCodeReader=ke,n.BrowserDatamatrixCodeReader=GS,n.BrowserMultiFormatReader=rE,n.BrowserPDF417Reader=sE,n.BrowserQRCodeReader=iE,n.BrowserQRCodeSvgWriter=Ki,n.CharacterSetECI=V,n.ChecksumException=I,n.Code128Reader=ye,n.Code39Reader=Ft,n.DataMatrixDecodedBitStreamParser=Ws,n.DataMatrixReader=$s,n.DecodeHintType=F,n.DecoderResult=st,n.DefaultGridSampler=Es,n.DetectorResult=Io,n.EAN13Reader=hn,n.EncodeHintType=an,n.Exception=m,n.FormatException=D,n.GenericGF=De,n.GenericGFPoly=Se,n.GlobalHistogramBinarizer=oe,n.GridSampler=jo,n.GridSamplerInstance=Br,n.HTMLCanvasElementLuminanceSource=we,n.HybridBinarizer=ce,n.ITFReader=nt,n.IllegalArgumentException=w,n.IllegalStateException=sn,n.InvertedLuminanceSource=ae,n.LuminanceSource=K,n.MathUtils=Be,n.MultiFormatOneDReader=Do,n.MultiFormatReader=qp,n.MultiFormatWriter=aE,n.NotFoundException=$,n.OneDReader=Bt,n.PDF417DecodedBitStreamParser=J,n.PDF417DecoderErrorCorrection=Vp,n.PDF417Reader=vn,n.PDF417ResultMetadata=Wp,n.PerspectiveTransform=Fn,n.PlanarYUVLuminanceSource=as,n.QRCodeByteMatrix=Pc,n.QRCodeDataMask=Cr,n.QRCodeDecodedBitStreamParser=Ut,n.QRCodeDecoderErrorCorrectionLevel=bt,n.QRCodeDecoderFormatInformation=In,n.QRCodeEncoder=At,n.QRCodeEncoderQRCode=Xi,n.QRCodeMaskUtil=Gt,n.QRCodeMatrixUtil=Fe,n.QRCodeMode=Le,n.QRCodeReader=Gs,n.QRCodeVersion=Me,n.QRCodeWriter=Lo,n.RGBLuminanceSource=kh,n.RSS14Reader=$t,n.RSSExpandedReader=le,n.ReaderException=Dc,n.ReedSolomonDecoder=dn,n.ReedSolomonEncoder=Oh,n.ReedSolomonException=Lt,n.Result=Q,n.ResultMetadataType=Re,n.ResultPoint=Oe,n.StringUtils=X,n.UnsupportedOperationException=re,n.VideoInputDevice=xe,n.WhiteRectangleDetector=Lr,n.WriterException=yt,n.ZXingArrays=S,n.ZXingCharset=Xp,n.ZXingInteger=N,n.ZXingStandardCharsets=Mh,n.ZXingStringBuilder=de,n.ZXingStringEncoding=se,n.ZXingSystem=T,n.createAbstractExpandedDecoder=Up,Object.defineProperty(n,"__esModule",{value:!0})})})(o1,o1.exports);var jt=o1.exports;const gk=a1(jt),mk=qx({__proto__:null,default:gk},[jt]);var Tx=function(){function e(t,n,r){if(this.formatMap=new Map([[Ie.QR_CODE,jt.BarcodeFormat.QR_CODE],[Ie.AZTEC,jt.BarcodeFormat.AZTEC],[Ie.CODABAR,jt.BarcodeFormat.CODABAR],[Ie.CODE_39,jt.BarcodeFormat.CODE_39],[Ie.CODE_93,jt.BarcodeFormat.CODE_93],[Ie.CODE_128,jt.BarcodeFormat.CODE_128],[Ie.DATA_MATRIX,jt.BarcodeFormat.DATA_MATRIX],[Ie.MAXICODE,jt.BarcodeFormat.MAXICODE],[Ie.ITF,jt.BarcodeFormat.ITF],[Ie.EAN_13,jt.BarcodeFormat.EAN_13],[Ie.EAN_8,jt.BarcodeFormat.EAN_8],[Ie.PDF_417,jt.BarcodeFormat.PDF_417],[Ie.RSS_14,jt.BarcodeFormat.RSS_14],[Ie.RSS_EXPANDED,jt.BarcodeFormat.RSS_EXPANDED],[Ie.UPC_A,jt.BarcodeFormat.UPC_A],[Ie.UPC_E,jt.BarcodeFormat.UPC_E],[Ie.UPC_EAN_EXTENSION,jt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!mk)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var o=this.createZXingFormats(t),a=new Map;a.set(jt.DecodeHintType.POSSIBLE_FORMATS,o),a.set(jt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,o){try{r(n.decode(t))}catch(a){o(a)}})},e.prototype.decode=function(t){var n=new jt.MultiFormatReader(this.verbose,this.hints),r=new jt.HTMLCanvasElementLuminanceSource(t),o=new jt.BinaryBitmap(new jt.HybridBinarizer(r)),a=n.decode(o);return{text:a.text,format:kS.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var a=o[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),xk=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})},yk=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(m){return function(v){return x([m,v])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],o=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Ix=function(){function e(t,n,r){if(this.formatMap=new Map([[Ie.QR_CODE,"qr_code"],[Ie.AZTEC,"aztec"],[Ie.CODABAR,"codabar"],[Ie.CODE_39,"code_39"],[Ie.CODE_93,"code_93"],[Ie.CODE_128,"code_128"],[Ie.DATA_MATRIX,"data_matrix"],[Ie.ITF,"itf"],[Ie.EAN_13,"ean_13"],[Ie.EAN_8,"ean_8"],[Ie.PDF_417,"pdf417"],[Ie.UPC_A,"upc_a"],[Ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return xk(this,void 0,void 0,function(){var n,r;return yk(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:kS.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,o=0,a=t;o<a.length;o++){var h=a[o],p=h.boundingBox.width*h.boundingBox.height;p>r&&(r=p,n=h)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var a=o[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),jx=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})},Rx=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(m){return function(v){return x([m,v])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],o=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},vk=function(){function e(t,n,r,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Ix.isSupported()?(this.primaryDecoder=new Ix(t,r,o),this.secondaryDecoder=new Tx(t,r,o)):this.primaryDecoder=new Tx(t,r,o)}return e.prototype.decodeAsync=function(t){return jx(this,void 0,void 0,function(){var n;return Rx(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return jx(this,void 0,void 0,function(){var n,r;return Rx(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,o.sent()];case 3:if(r=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var o=r[n];t+=o}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Bp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sd=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})},Ed=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(m){return function(v){return x([m,v])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],o=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},LS=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),wk=function(e){Bp(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var o={advanced:[r]};return this.track.applyConstraints(o)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(LS),bk=function(e){Bp(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(wk),Ck=function(e){Bp(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(LS),Sk=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new bk(this.track)},e.prototype.torchFeature=function(){return new Ck(this.track)},e}(),Ek=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,o=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,o),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,o){return Sd(this,void 0,void 0,function(){var a,h;return Ed(this,function(p){switch(p.label){case 0:return a=new e(t,n,o),r.aspectRatio?(h={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:p.sent(),p.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Sd(this,void 0,void 0,function(){return Ed(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var o=t.mediaStream.getVideoTracks(),a=o.length,h=0;t.mediaStream.getVideoTracks().forEach(function(p){t.mediaStream.removeTrack(p),p.stop(),++h,h>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new Sk(this.getFirstTrackOrFail())},e}(),_k=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Sd(this,void 0,void 0,function(){return Ed(this,function(o){return[2,Ek.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Sd(this,void 0,void 0,function(){var n,r;return Ed(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=o.sent(),[2,new e(r)]}})})},e}(),Ox=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})},kx=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(m){return function(v){return x([m,v])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],o=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Nk=function(){function e(){}return e.failIfNotSupported=function(){return Ox(this,void 0,void 0,function(){return kx(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Ox(this,void 0,void 0,function(){return kx(this,function(n){return[2,_k.create(t)]})})},e}(),Ak=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})},Tk=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(m){return function(v){return x([m,v])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],o=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Ik=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=la.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=la.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Ak(this,void 0,void 0,function(){var t,n,r,o,a,h,p;return Tk(this,function(x){switch(x.label){case 0:return t=function(m){for(var v=m.getVideoTracks(),w=0,C=v;w<C.length;w++){var I=C[w];I.enabled=!1,I.stop(),m.removeTrack(I)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=x.sent(),o=[],a=0,h=r;a<h.length;a++)p=h[a],p.kind==="videoinput"&&o.push({id:p.deviceId,label:p.label});return t(n),[2,o]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var h=[],p=0,x=a;p<x.length;p++){var m=x[p];m.kind==="video"&&h.push({id:m.id,label:m.label})}t(h)},o=MediaStreamTrack;o.getSources(r)})},e}(),qt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(qt||(qt={}));var jk=function(){function e(){this.state=qt.NOT_STARTED,this.onGoingTransactionNewState=qt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=qt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=qt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==qt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case qt.UNKNOWN:throw"Transition from unknown is not allowed";case qt.NOT_STARTED:this.failIfNewStateIs(t,[qt.PAUSED]);break;case qt.SCANNING:break;case qt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,o=n;r<o.length;r++){var a=o[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Rk=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===qt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==qt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===qt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===qt.PAUSED},e}(),Ok=function(){function e(){}return e.create=function(){return new Rk(new jk)},e}(),kk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ar=function(e){kk(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Xr),Mk=function(){function e(t,n){this.logger=n,this.fps=ar.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ar.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?PS.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!fs(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Mx=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new DS(this.verbose),this.qrcode=new vk(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Ok.create()}return e.prototype.start=function(t,n,r,o){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;o?h=o:h=this.verbose?this.logger.log:function(){};var p=Mk.create(n,this.logger);this.clearElement();var x=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=x,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:ar.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var w=this,C=this.stateManagerProxy.startTransition(qt.SCANNING);return new Promise(function(I,j){var T=m?p.videoConstraints:w.createVideoConstraints(t);if(!T){C.cancel(),j("videoConstraints should be defined");return}var R={};(!m||p.aspectRatio)&&(R.aspectRatio=p.aspectRatio);var _={onRenderSurfaceReady:function(S,N){w.setupUi(S,N,p),w.isScanning=!0,w.foreverScan(p,r,h)}};Nk.failIfNotSupported().then(function(S){S.create(T).then(function(N){return N.render(a.element,R,_).then(function(P){w.renderedCamera=P,C.execute(),I(null)}).catch(function(P){C.cancel(),j(P)})}).catch(function(N){C.cancel(),j(la.errorGettingUserMedia(N))})}).catch(function(S){C.cancel(),j(la.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(qt.PAUSED),this.showPausedState(),(fs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(qt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(qt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(ar.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),r(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(fs(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var p=h.width,x=h.height,m=document.getElementById(r.elementId),v=m.clientWidth?m.clientWidth:ar.DEFAULT_WIDTH,w=Math.max(m.clientHeight?m.clientHeight:x,ar.FILE_SCAN_MIN_HEIGHT),C=r.computeCanvasDrawConfig(p,x,v,w);if(n){var I=r.createCanvasElement(v,w,"qr-canvas-visible");I.style.display="inline-block",m.appendChild(I);var j=I.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=v,j.canvas.height=w,j.drawImage(h,0,0,p,x,C.x,C.y,C.width,C.height)}var T=ar.FILE_SCAN_HIDDEN_CANVAS_PADDING,R=Math.max(h.width,C.width),_=Math.max(h.height,C.height),S=R+2*T,N=_+2*T,P=r.createCanvasElement(S,N);m.appendChild(P);var O=P.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=S,O.canvas.height=N,O.drawImage(h,0,0,p,x,T,T,R,_);try{r.qrcode.decodeRobustlyAsync(P).then(function(F){o(Nx.createFromQrcodeResult(F))}).catch(a)}catch(F){a("QR code parse error, error = ".concat(F))}},h.onerror=a,h.onabort=a,h.onstalled=a,h.onsuspend=a,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Ik.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!PS.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Ie.QR_CODE,Ie.AZTEC,Ie.CODABAR,Ie.CODE_39,Ie.CODE_93,Ie.CODE_128,Ie.DATA_MATRIX,Ie.MAXICODE,Ie.ITF,Ie.EAN_13,Ie.EAN_8,Ie.PDF_417,Ie.RSS_14,Ie.RSS_EXPANDED,Ie.UPC_A,Ie.UPC_E,Ie.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],o=0,a=t.formatsToSupport;o<a.length;o++){var h=a[o];fk(h)?r.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(fs(t))return!0;if(!fs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(fs(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return fs(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var o=this,a=r.qrbox;this.validateQrboxConfig(a);var h=this.toQrdimensions(t,n,a),p=function(m){if(m<ar.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ar.MIN_QR_BOX_SIZE,"px.")},x=function(m){return m>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};p(h.width),p(h.height),h.width=x(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var o=fs(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(o);var a=this.toQrdimensions(t,n,o);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=r.isShadedBoxEnabled()&&a.height<=n,p={x:0,y:0,width:t,height:n},x=h?this.getShadedRegionBounds(t,n,a):p,m=this.createCanvasElement(x.width,x.height),v={willReadFrequently:!0},w=m.getContext("2d",v);w.canvas.width=x.width,w.canvas.height=x.height,this.element.append(m),h&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=w,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=la.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,Nx.createFromQrcodeResult(o)),r.possiblyUpdateShaders(!0),!0}).catch(function(o){r.possiblyUpdateShaders(!1);var a=la.codeParseError(o);return n(a,MS.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var o=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),h=a.videoWidth/a.clientWidth,p=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*h,m=this.qrRegion.height*p,v=this.qrRegion.x*h,w=this.qrRegion.y*p;this.context.drawImage(a,v,w,x,m,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,r)},o.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(I){!I&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,r).finally(function(){C()})):C()}).catch(function(I){o.logger.logError("Error happend while scanning context",I),C()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",o={user:!0,environment:!0},a="exact",h=function(j){if(j in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},p=Object.keys(t);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var m=t.facingMode;if(typeof m=="string"){if(h(m))return{facingMode:m}}else if(typeof m=="object")if(a in m){if(h(m["".concat(a)]))return{facingMode:{exact:m["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var v=typeof m;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(a in w)return{deviceId:{exact:w["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var C=typeof w;throw"Invalid type of 'deviceId' = ".concat(C)}}}var I=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(I)},e.prototype.computeCanvasDrawConfig=function(t,n,r,o){if(t<=r&&n<=o){var a=(r-t)/2,h=(o-n)/2;return{x:a,y:h,width:t,height:n}}else{var p=t,x=n;return t>r&&(n=r/t*n,t=r),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ar.BORDER_SHADER_MATCH_COLOR:ar.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var o=t,a=n,h=document.createElement("canvas");return h.style.width="".concat(o,"px"),h.style.height="".concat(a,"px"),h.style.display="none",h.id=fs(r)?"qr-canvas":r,h},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,o){if(!(n-o.width<1||r-o.height<1)){var a=document.createElement("div");a.style.position="absolute";var h=(n-o.width)/2,p=(r-o.height)/2;if(a.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(ar.SHADED_REGION_ELEMENT_ID),n-o.width<11||r-o.height<11)this.hasBorderShaders=!1;else{var x=5,m=40;this.insertShaderBorders(a,m,x,-x,null,0,!0),this.insertShaderBorders(a,m,x,-x,null,0,!1),this.insertShaderBorders(a,m,x,null,-x,0,!0),this.insertShaderBorders(a,m,x,null,-x,0,!1),this.insertShaderBorders(a,x,m+x,-x,null,-x,!0),this.insertShaderBorders(a,x,m+x,null,-x,-x,!0),this.insertShaderBorders(a,x,m+x,-x,null,-x,!1),this.insertShaderBorders(a,x,m+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,o,a,h,p){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=ar.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(r,"px"),o!==null&&(x.style.top="".concat(o,"px")),a!==null&&(x.style.bottom="".concat(a,"px")),p?x.style.left="".concat(h,"px"):x.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Fp="data:image/svg+xml;base64,",Dk=Fp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Pk=Fp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Dx=Fp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Lk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Px=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Bk=function(){function e(){this.data=Px.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Px.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Fk=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ax.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),o=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(o);var a=document.createElement("a");a.innerText=Ax.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Uk=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Dx,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Lk,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Dx,this.infoIcon.style.opacity="0.6")},e}(),zk=function(){function e(){var t=this;this.infoDiv=new Fk,this.infoIcon=new Uk(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),Vk=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})},Hk=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(m){return function(v){return x([m,v])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],o=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Lx=function(){function e(){}return e.hasPermissions=function(){return Vk(this,void 0,void 0,function(){var t,n,r,o;return Hk(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,r=t;n<r.length;n++)if(o=r[n],o.kind==="videoinput"&&o.label)return[2,!0];return[2,!1]}})})},e}(),Js=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Pi.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Pi.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Xr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Xr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,o=t;r<o.length;r++){var a=o[r];if(!Xr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e}(),fr=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),ks=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(fr.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),BS=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(h){h(a)})}return new(n||(n=Promise))(function(a,h){function p(v){try{m(r.next(v))}catch(w){h(w)}}function x(v){try{m(r.throw(v))}catch(w){h(w)}}function m(v){v.done?a(v.value):o(v.value).then(p,x)}m((r=r.apply(e,t||[])).next())})},FS=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(m){return function(v){return x([m,v])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(n=0)),n;)try{if(r=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],o=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Bx=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return BS(this,void 0,void 0,function(){var t,n;return FS(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?pt.torchOffButton():pt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?pt.torchOnFailedMessage():pt.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),Wk=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=ks.createElement("button",fr.TORCH_BUTTON_ID),this.torchController=new Bx(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=pt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var o=this;this.torchButton.addEventListener("click",function(a){return BS(r,void 0,void 0,function(){return FS(this,function(h){switch(h.label){case 0:return[4,o.torchController.flipState()];case 1:return h.sent(),o.torchController.isTorchEnabled()?(o.torchButton.classList.remove(fr.TORCH_BUTTON_CLASS_TORCH_OFF),o.torchButton.classList.add(fr.TORCH_BUTTON_CLASS_TORCH_ON)):(o.torchButton.classList.remove(fr.TORCH_BUTTON_CLASS_TORCH_ON),o.torchButton.classList.add(fr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Bx(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=pt.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,o){var a=new e(n,o);return a.render(t,r),a},e}(),$k=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var o=document.createElement("label");o.setAttribute("for",this.getFileScanInputId()),o.style.display="inline-block",this.fileBasedScanRegion.appendChild(o),this.fileSelectionButton=ks.createElement("button",fr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){o.click()}),o.append(this.fileSelectionButton),this.fileScanInput=ks.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",o.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var x=p.target;if(!(x.files&&x.files.length===0)){var m=x.files,v=m[0],w=v.name;a.setImageNameToButton(w),r(v)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(p){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var x=p.dataTransfer;if(x){var m=x.files;if(!m||m.length===0)return;for(var v=!1,w=0;w<m.length;++w){var C=m.item(w);if(C){var I=/image.*/;if(C.type.match(I)){v=!0;var j=C.name;a.setImageNameToButton(j),r(C),h.innerText=pt.dragAndDropMessage();break}}}v||(h.innerText=pt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=pt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),o=t.length,a=t.substring(o-8,o);t="".concat(r,"....").concat(a)}var h=pt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=pt.fileSelectionChooseImage()+" - "+pt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var o=new e(t,n,r);return o},e}(),Gk=function(){function e(t){this.selectElement=ks.createElement("select",fr.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var o=pt.selectCamera();n.innerText="".concat(o," (").concat(this.cameras.length,")  ")}for(var a=1,h=0,p=this.cameras;h<p.length;h++){var x=p[h],m=x.id,v=x.label==null?m:x.label;(!v||v==="")&&(v=[pt.anonymousCameraPrefix(),a++].join(" "));var w=document.createElement("option");w.value=m,w.innerText=v,this.options.push(w),this.selectElement.appendChild(w)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var o=r[n];if(o.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),Yk=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ks.createElement("input",fr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var o=this;this.rangeInput.addEventListener("input",function(){return o.onValueChange()}),this.rangeInput.addEventListener("change",function(){return o.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,o){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=o.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),lr;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(lr||(lr={}));function qk(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function Xk(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Kk=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Js(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new DS(this.verbose),this.persistedDataManager=new Bk,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,h){if(t)t(a,h);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(pt.lastMatch(a),lr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,h){n&&n(a,h)};var o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new Mx(this.getScanRegionId(),Xk(this.config,this.verbose))},e.prototype.pause=function(t){(fs(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,o){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),o(a)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Xr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Xr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Xr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Xr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Xr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Xr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Xr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Js.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var o=document.createElement("div"),a=this.getDashboardId();o.id=a,o.style.width="100%",t.appendChild(o),this.setupInitialDashboard(o)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new zk;r.renderInto(n);var o=document.createElement("div");o.id=this.getHeaderMessageContainerId(),o.style.display="none",o.style.textAlign="center",o.style.fontSize="14px",o.style.padding="2px 10px",o.style.margin="4px",o.style.borderTop="1px solid #f6f6f6",n.appendChild(o)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var o=this;o.showHideScanTypeSwapLink(!1),o.setHeaderMessage(pt.cameraPermissionRequesting());var a=function(){r||o.createPermissionButton(t,n)};Mx.getCameras().then(function(h){o.persistedDataManager.setHasPermission(!0),o.showHideScanTypeSwapLink(!0),o.resetHeaderMessage(),h&&h.length>0?(t.removeChild(n),o.renderCameraSelection(h)):(o.setHeaderMessage(pt.noCameraFound(),lr.STATUS_WARNING),a())}).catch(function(h){o.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),o.setHeaderMessage(h,lr.STATUS_WARNING),o.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,o=ks.createElement("button",this.getCameraPermissionButtonId());o.innerText=pt.cameraPermissionTitle(),o.addEventListener("click",function(){o.disabled=!0,r.createCameraListUi(t,n,o)}),n.appendChild(o)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Js.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Lx.hasPermissions().then(function(o){o?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(o){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Js.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var o=document.createElement("div");o.style.textAlign="center",r.appendChild(o),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,o),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Js.isFileScanType(this.currentScanType),r=this,o=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";Js.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(pt.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(h){r.resetHeaderMessage(),r.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){r.setHeaderMessage(h,lr.STATUS_WARNING),r.qrCodeErrorCallback(h,MS.createFrom(h))}))};this.fileSelectionUi=$k.create(t,n,o)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,o=document.getElementById(this.getDashboardSectionCameraScanRegionId());o.style.textAlign="center";var a=Yk.create(o,!1),h=function(T){var R=T.zoomFeature();if(R.isSupported()){a.setOnCameraZoomValueChangeCallback(function(S){R.apply(S)});var _=1;n.config.defaultZoomValueIfSupported&&(_=n.config.defaultZoomValueIfSupported),_=pk(_,R.min(),R.max()),a.setValues(R.min(),R.max(),_,R.step()),a.show()}},p=Gk.create(o,t),x=document.createElement("span"),m=ks.createElement("button",fr.CAMERA_START_BUTTON_ID);m.innerText=pt.scanButtonStartScanningText(),x.appendChild(m);var v=ks.createElement("button",fr.CAMERA_STOP_BUTTON_ID);v.innerText=pt.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,x.appendChild(v);var w,C=function(T){if(!T.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(T.torchFeature()):w=Wk.create(x,T.torchFeature(),{display:"none",marginLeft:"5px"},function(R){r.setHeaderMessage(R,lr.STATUS_WARNING)}),w.show()};o.appendChild(x);var I=function(T){T||(m.style.display="none"),m.innerText=pt.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,T&&(m.style.display="inline-block")};if(m.addEventListener("click",function(T){m.innerText=pt.scanButtonScanningStarting(),p.disable(),m.disabled=!0,m.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var R=p.getValue();r.persistedDataManager.setLastUsedCameraId(R),r.html5Qrcode.start(R,qk(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(_){v.disabled=!1,v.style.display="inline-block",I(!1);var S=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&C(S),n.config.showZoomSliderIfSupported===!0&&h(S)}).catch(function(_){r.showHideScanTypeSwapLink(!0),p.enable(),I(!0),r.setHeaderMessage(_,lr.STATUS_WARNING)})}),p.hasSingleItem()&&m.click(),v.addEventListener("click",function(T){if(!r.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,r.html5Qrcode.stop().then(function(R){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),p.enable(),m.disabled=!1,v.style.display="none",m.style.display="inline-block",w&&(w.reset(),w.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(R){v.disabled=!1,r.setHeaderMessage(R,lr.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var j=r.persistedDataManager.getLastUsedCameraId();p.hasValue(j)?(p.setValue(j),m.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=pt.textIfCameraScanSelected(),r=pt.textIfFileScanSelected(),o=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var h=ks.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=Js.isCameraScanType(this.currentScanType)?n:r,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Js.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=r,t.currentScanType=Pi.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=n,t.currentScanType=Pi.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(h),o.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Lx.hasPermissions().then(function(r){if(r){var o=document.getElementById(n.getCameraPermissionButtonId());if(!o)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";o.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=lr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case lr.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case lr.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case lr.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Dk,this.cameraScanImage.alt=pt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Pk,this.fileScanImage.alt=pt.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return fr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return fr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const Qk=({onScanResult:e,isOpen:t,onClose:n})=>{const[r,o]=E.useState(null),{toast:a}=Dr();E.useEffect(()=>{if(t&&!r){const p=setTimeout(()=>{if(!document.getElementById("qr-reader")){console.error("QR reader element not found");return}const m=new Kk("qr-reader",{fps:10,qrbox:{width:250,height:250}},!1);m.render(v=>{e(v),m.clear(),n(),a({title:"Scan Successful",description:`Barcode/QR code detected: ${v}`})},v=>{console.log("Scan error:",v)}),o(m)},100);return()=>clearTimeout(p)}return()=>{r&&(r.clear().catch(console.error),o(null))}},[t,r,e,n,a]);const h=()=>{r&&(r.clear().catch(console.error),o(null)),n()};return c.jsx(cn,{open:t,onOpenChange:h,children:c.jsxs(Jt,{className:"max-w-md",children:[c.jsx(en,{children:c.jsxs(tn,{className:"flex items-center gap-2",children:[c.jsx(Ru,{className:"h-5 w-5"}),"Scan Barcode/QR Code"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{id:"qr-reader",className:"w-full"}),c.jsxs(me,{variant:"outline",onClick:h,className:"w-full",children:[c.jsx(ho,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})},Zk=({isOpen:e,onClose:t,item:n,suppliers:r,onUpdate:o})=>{const[a,h]=E.useState(!1),{toast:p}=Dr();if(!n)return null;const x=async m=>{m.preventDefault(),h(!0);const v=m.target,w=new FormData(v),C=parseInt(w.get("quantityReceived")),I=parseFloat(w.get("unitPrice")),j=w.get("supplierId"),T=w.get("batchNumber"),R=w.get("expiryDate");w.get("notes");try{const _=n.current_stock+C,{error:S}=await Pe.from("inventory_items").update({current_stock:_,unit_price:I||n.unit_price,supplier_id:j||n.supplier_id,last_restocked:new Date().toISOString().split("T")[0]}).eq("id",n.id);if(S)throw S;if(n.track_batches&&T){const{error:N}=await Pe.from("inventory_batches").insert({inventory_item_id:n.id,batch_number:T,quantity_received:C,quantity_remaining:C,unit_cost:I||n.unit_price,supplier_id:j||n.supplier_id,expiry_date:R||null,received_date:new Date().toISOString().split("T")[0]});if(N)throw N}p({title:"Success",description:`Stock updated successfully. New quantity: ${_}`}),o(),t()}catch(_){console.error("Error updating stock:",_),p({title:"Error",description:"Failed to update stock",variant:"destructive"})}finally{h(!1)}};return c.jsx(cn,{open:e,onOpenChange:t,children:c.jsxs(Jt,{className:"max-w-2xl",children:[c.jsxs(en,{children:[c.jsxs(tn,{children:["Update Stock - ",n.name]}),c.jsxs(Pn,{children:["Current stock: ",n.current_stock," ",n.unit_of_measurement]})]}),c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"quantityReceived",children:"Quantity Received *"}),c.jsx(ge,{name:"quantityReceived",type:"number",min:"1",placeholder:"Enter quantity",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"unitPrice",children:"Unit Price"}),c.jsx(ge,{name:"unitPrice",type:"number",step:"0.01",defaultValue:n.unit_price||"",placeholder:"Enter unit price"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"supplierId",children:"Supplier"}),c.jsxs(Rt,{name:"supplierId",defaultValue:n.supplier_id||"",children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select supplier"})}),c.jsx(Et,{children:r.map(m=>c.jsx(_e,{value:m.id,children:m.name},m.id))})]})]}),n.track_batches&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"batchNumber",children:"Batch Number"}),c.jsx(ge,{name:"batchNumber",placeholder:"Enter batch number"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"expiryDate",children:"Expiry Date"}),c.jsx(ge,{name:"expiryDate",type:"date"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"notes",children:"Notes (Optional)"}),c.jsx(nn,{name:"notes",placeholder:"Add any notes about this stock update...",rows:3})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),c.jsx(me,{type:"submit",disabled:a,children:a?"Updating...":"Update Stock"})]})]})]})})},Jk=({isOpen:e,onClose:t,item:n,onUpdate:r})=>{const[o,a]=E.useState(!1),{toast:h}=Dr();if(!n)return null;const p=async x=>{x.preventDefault(),a(!0);const m=x.target,v=new FormData(m),w=parseInt(v.get("quantityIssued"));if(v.get("issuedTo"),v.get("usageType"),v.get("notes"),w>n.current_stock){h({title:"Error",description:`Cannot issue ${w} items. Only ${n.current_stock} available.`,variant:"destructive"}),a(!1);return}try{const C=n.current_stock-w,{error:I}=await Pe.from("inventory_items").update({current_stock:C}).eq("id",n.id);if(I)throw I;h({title:"Success",description:`${w} ${n.unit_of_measurement} issued successfully. Remaining: ${C}`}),r(),t()}catch(C){console.error("Error issuing stock:",C),h({title:"Error",description:"Failed to issue stock",variant:"destructive"})}finally{a(!1)}};return c.jsx(cn,{open:e,onOpenChange:t,children:c.jsxs(Jt,{className:"max-w-2xl",children:[c.jsxs(en,{children:[c.jsxs(tn,{children:["Stock Out - ",n.name]}),c.jsxs(Pn,{children:["Available stock: ",n.current_stock," ",n.unit_of_measurement]})]}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"quantityIssued",children:"Quantity to Issue *"}),c.jsx(ge,{name:"quantityIssued",type:"number",min:"1",max:n.current_stock,placeholder:"Enter quantity",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"usageType",children:"Usage Type *"}),c.jsxs(Rt,{name:"usageType",required:!0,children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select usage type"})}),c.jsxs(Et,{children:[c.jsx(_e,{value:"treatment",children:"Used for Treatment"}),c.jsx(_e,{value:"wasted",children:"Wasted"}),c.jsx(_e,{value:"expired",children:"Expired"}),c.jsx(_e,{value:"damaged",children:"Damaged"}),c.jsx(_e,{value:"other",children:"Other"})]})]})]}),c.jsxs("div",{className:"col-span-2 space-y-2",children:[c.jsx(ne,{htmlFor:"issuedTo",children:"Issued To / Used By"}),c.jsx(ge,{name:"issuedTo",placeholder:"Enter staff name or department"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"notes",children:"Notes (Optional)"}),c.jsx(nn,{name:"notes",placeholder:"Add any notes about this stock issue...",rows:3})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),c.jsx(me,{type:"submit",disabled:o,children:o?"Processing...":"Issue Stock"})]})]})]})})},eM=()=>{const[e,t]=E.useState(""),[n,r]=E.useState("all"),[o,a]=E.useState(!1),[h,p]=E.useState(!1),[x,m]=E.useState(!1),[v,w]=E.useState(!1),[C,I]=E.useState(!1),[j,T]=E.useState([]),[R,_]=E.useState([]),[S,N]=E.useState([]),[P,O]=E.useState(!0),{toast:F}=Dr(),[D,U]=E.useState(null),[V,re]=E.useState(""),[se,X]=E.useState(!1),[de,te]=E.useState(!1),[$,oe]=E.useState(!1);E.useEffect(()=>{ce()},[]);const ce=async()=>{try{const[G,Se,Ce]=await Promise.all([Pe.from("inventory_items").select(`
          *,
          inventory_categories(name),
          supplier:suppliers(name)
        `).order("name"),Pe.from("inventory_categories").select("*").order("name"),Pe.from("suppliers").select("*").order("name")]);G.data&&T(G.data),Se.data&&_(Se.data),Ce.data&&N(Ce.data)}catch(G){console.error("Error fetching inventory data:",G),F({title:"Error",description:"Failed to fetch inventory data",variant:"destructive"})}finally{O(!1)}},K=G=>{re(G);const Se=j.find(Ce=>Ce.barcode===G||Ce.qr_code===G);Se?(U(Se),w(!0),F({title:"Product Found",description:`${Se.name} - Update stock or batch details`})):(a(!0),F({title:"New Product",description:"Product not found. Add as new item."}))},ae=G=>{U(G),I(!0)},we=()=>R.filter(G=>G.parent_category_id===null),xe=G=>{const Se=R.find(Ce=>Ce.id===G);return Se?Se.name:"Unknown"},be=async G=>{try{const{error:Se}=await Pe.from("inventory_items").insert([{name:G.name,description:G.description,category_id:G.categoryId,current_stock:parseInt(G.currentStock),minimum_stock:parseInt(G.minimumStock),unit_of_measurement:G.unit,unit_price:parseFloat(G.unitPrice),supplier_id:G.supplierId,barcode:G.barcode||V,track_batches:G.trackBatches,alert_expiry_days:parseInt(G.alertExpiryDays)||30,location:G.location}]);if(Se)throw Se;F({title:"Success",description:"Item added successfully"}),a(!1),re(""),ce()}catch(Se){console.error("Error adding item:",Se),F({title:"Error",description:"Failed to add item",variant:"destructive"})}},ke=async G=>{try{const{error:Se}=await Pe.from("inventory_categories").insert([{name:G.name,description:G.description,parent_category_id:G.parentId==="none"?null:G.parentId}]);if(Se)throw Se;F({title:"Success",description:"Category added successfully"}),p(!1),ce()}catch(Se){console.error("Error adding category:",Se),F({title:"Error",description:"Failed to add category",variant:"destructive"})}},Q=G=>G.current_stock===0?c.jsx(xt,{className:"status-indicator status-out-of-stock",children:"Out of Stock"}):G.current_stock<=G.minimum_stock?c.jsx(xt,{className:"status-indicator status-low-stock",children:"Low Stock"}):c.jsx(xt,{className:"status-indicator status-in-stock",children:"In Stock"}),Ee=j.filter(G=>{var De,Lt;const Se=G.name.toLowerCase().includes(e.toLowerCase())||((De=G.description)==null?void 0:De.toLowerCase().includes(e.toLowerCase()))||((Lt=G.barcode)==null?void 0:Lt.toLowerCase().includes(e.toLowerCase())),Ce=n==="all"||G.category_id===n;return Se&&Ce}),Z=G=>{U(G),X(!0)},Ne=G=>{U(G),te(!0)},Re=G=>{U(G),oe(!0)},st=async()=>{if(D)try{const{error:G}=await Pe.from("inventory_items").delete().eq("id",D.id);if(G)throw G;F({title:"Deleted",description:"Item deleted successfully"}),oe(!1),U(null),ce()}catch{F({title:"Error",description:"Failed to delete item",variant:"destructive"})}};return P?c.jsx("div",{className:"p-6",children:"Loading..."}):c.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-dental-dark",children:"Inventory Management"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your dental clinic's inventory with barcode scanning"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(me,{variant:"outline",className:"bg-dental-accent hover:bg-dental-accent/80",onClick:()=>m(!0),children:[c.jsx(Ru,{className:"h-4 w-4 mr-2"}),"Scan Product"]}),c.jsxs(cn,{open:h,onOpenChange:p,children:[c.jsx(uc,{asChild:!0,children:c.jsxs(me,{variant:"outline",children:[c.jsx(GA,{className:"h-4 w-4 mr-2"}),"Add Category"]})}),c.jsxs(Jt,{children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Add New Category"}),c.jsx(Pn,{children:"Create a new inventory category"})]}),c.jsxs("form",{onSubmit:G=>{G.preventDefault();const Se=G.currentTarget,Ce=new FormData(Se);ke({name:Ce.get("name"),description:Ce.get("description"),parentId:Ce.get("parentId")})},className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"name",children:"Category Name *"}),c.jsx(ge,{name:"name",placeholder:"e.g., Orthodontics",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"parentId",children:"Parent Category"}),c.jsxs(Rt,{name:"parentId",children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select parent (optional)"})}),c.jsxs(Et,{children:[c.jsx(_e,{value:"none",children:"No Parent (Top-level category)"}),we().map(G=>c.jsx(_e,{value:G.id,children:G.name},G.id))]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"description",children:"Description"}),c.jsx(nn,{name:"description",placeholder:"Category description..."})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),c.jsx(me,{type:"submit",className:"bg-dental-primary hover:bg-dental-secondary",children:"Add Category"})]})]})]})]}),c.jsxs(cn,{open:o,onOpenChange:a,children:[c.jsx(uc,{asChild:!0,children:c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Add New Item"]})}),c.jsxs(Jt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Add New Inventory Item"}),c.jsx(Pn,{children:"Enter the details for the new inventory item"})]}),c.jsxs("form",{onSubmit:G=>{G.preventDefault();const Se=G.currentTarget,Ce=new FormData(Se);be({name:Ce.get("name"),description:Ce.get("description"),categoryId:Ce.get("categoryId"),currentStock:Ce.get("currentStock"),minimumStock:Ce.get("minimumStock"),unit:Ce.get("unit"),unitPrice:Ce.get("unitPrice"),supplierId:Ce.get("supplierId"),barcode:Ce.get("barcode"),trackBatches:Ce.get("trackBatches")==="on",alertExpiryDays:Ce.get("alertExpiryDays"),location:Ce.get("location")})},className:"grid grid-cols-2 gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"itemName",children:"Item Name *"}),c.jsx(ge,{name:"name",placeholder:"Enter item name",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"categoryId",children:"Category *"}),c.jsxs(Rt,{name:"categoryId",required:!0,children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select category"})}),c.jsx(Et,{children:R.map(G=>c.jsx(_e,{value:G.id,children:xe(G.id)},G.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"currentStock",children:"Current Stock *"}),c.jsx(ge,{name:"currentStock",type:"number",placeholder:"0",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"minimumStock",children:"Minimum Stock *"}),c.jsx(ge,{name:"minimumStock",type:"number",placeholder:"0",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"unit",children:"Unit of Measurement"}),c.jsx(ge,{name:"unit",placeholder:"e.g., boxes, pieces, tubes"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"unitPrice",children:"Unit Price (Rs. )"}),c.jsx(ge,{name:"unitPrice",type:"number",step:"0.01",placeholder:"0.00"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"supplierId",children:"Supplier"}),c.jsxs(Rt,{name:"supplierId",children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select supplier"})}),c.jsx(Et,{children:S.map(G=>c.jsx(_e,{value:G.id,children:G.name},G.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"location",children:"Storage Location"}),c.jsx(ge,{name:"location",placeholder:"e.g., Storage Room A"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"barcode",children:"Barcode/QR Code"}),c.jsx(ge,{name:"barcode",placeholder:"Item barcode or QR code",defaultValue:V})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"alertExpiryDays",children:"Expiry Alert Days"}),c.jsx(ge,{name:"alertExpiryDays",type:"number",placeholder:"30",defaultValue:"30"})]}),c.jsxs("div",{className:"col-span-2 space-y-2",children:[c.jsx(ne,{htmlFor:"description",children:"Description"}),c.jsx(nn,{name:"description",placeholder:"Optional item description"})]}),c.jsxs("div",{className:"col-span-2 flex items-center space-x-2",children:[c.jsx(ci,{name:"trackBatches"}),c.jsx(ne,{htmlFor:"trackBatches",children:"Enable batch tracking for this item"})]}),c.jsxs("div",{className:"col-span-2 flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),c.jsx(me,{type:"submit",className:"bg-dental-primary hover:bg-dental-secondary",children:"Add Item"})]})]})]})]})]})]}),c.jsx(Qe,{children:c.jsx(Ze,{className:"p-4",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(ge,{placeholder:"Search by name, description, or barcode...",value:e,onChange:G=>t(G.target.value),className:"pl-10"})]}),c.jsx("div",{className:"flex space-x-2",children:c.jsxs(Rt,{value:n,onValueChange:r,children:[c.jsxs(St,{className:"w-48",children:[c.jsx(ap,{className:"h-4 w-4 mr-2"}),c.jsx(Ot,{})]}),c.jsxs(Et,{children:[c.jsx(_e,{value:"all",children:"All Categories"}),R.map(G=>c.jsx(_e,{value:G.id,children:xe(G.id)},G.id))]})]})})]})})}),c.jsxs(vh,{defaultValue:"grid",className:"space-y-4",children:[c.jsxs(Ac,{children:[c.jsx(Ir,{value:"grid",children:"Grid View"}),c.jsx(Ir,{value:"table",children:"Table View"})]}),c.jsx(jr,{value:"grid",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ee.map(G=>{var Se;return c.jsxs(Qe,{className:"card-hover",children:[c.jsx(Sn,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(En,{className:"text-lg font-semibold line-clamp-2",children:G.name}),c.jsxs(_n,{className:"mt-1",children:[G.category_id?xe(G.category_id):"Uncategorized"," • ",((Se=G.supplier)==null?void 0:Se.name)||"No supplier"]})]}),Q(G)]})}),c.jsxs(Ze,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Current Stock"}),c.jsxs("p",{className:"font-semibold text-dental-dark",children:[G.current_stock," ",G.unit_of_measurement||"units"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Min. Stock"}),c.jsxs("p",{className:"font-semibold text-dental-dark",children:[G.minimum_stock," ",G.unit_of_measurement||"units"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Unit Price"}),c.jsxs("p",{className:"font-semibold text-dental-dark",children:["Rs. ",G.unit_price||"0.00"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Location"}),c.jsx("p",{className:"font-semibold text-dental-dark",children:G.location||"Not set"})]})]}),(G.barcode||G.qr_code)&&c.jsxs("div",{className:"flex items-center space-x-2 text-sm bg-gray-50 p-2 rounded",children:[c.jsx(Ru,{className:"h-4 w-4 text-gray-500"}),c.jsxs("span",{className:"text-gray-600",children:["Code: ",G.barcode||G.qr_code]})]}),G.track_batches&&c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(es,{className:"h-4 w-4 text-dental-primary"}),c.jsx("span",{className:"text-dental-primary",children:"Batch tracking enabled"})]}),c.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>Z(G),children:[c.jsx(tc,{className:"h-4 w-4 mr-1"}),"View"]}),c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>Ne(G),children:[c.jsx(ji,{className:"h-4 w-4 mr-1"}),"Edit"]}),c.jsx(me,{variant:"outline",size:"sm",className:"text-amber-600 hover:text-amber-700",onClick:()=>ae(G),children:c.jsx(xm,{className:"h-4 w-4"})}),c.jsx(me,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>Re(G),children:c.jsx(nc,{className:"h-4 w-4"})})]})]})]},G.id)})})}),c.jsx(jr,{value:"table",children:c.jsx(Qe,{children:c.jsx(Ze,{className:"p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Item Name"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Category"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Stock"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Min. Stock"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Unit Price"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Status"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Code"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y",children:Ee.map(G=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"p-4",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-dental-dark",children:G.name}),c.jsx("p",{className:"text-sm text-gray-600",children:G.description})]})}),c.jsx("td",{className:"p-4 text-gray-900",children:G.category_id?xe(G.category_id):"Uncategorized"}),c.jsxs("td",{className:"p-4",children:[c.jsx("span",{className:"font-medium",children:G.current_stock})," ",G.unit_of_measurement||"units"]}),c.jsxs("td",{className:"p-4",children:[c.jsx("span",{className:"font-medium",children:G.minimum_stock})," ",G.unit_of_measurement||"units"]}),c.jsxs("td",{className:"p-4 font-medium",children:["Rs. ",G.unit_price||"0.00"]}),c.jsx("td",{className:"p-4",children:Q(G)}),c.jsx("td",{className:"p-4 text-gray-900",children:G.barcode||G.qr_code||"N/A"}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(me,{variant:"ghost",size:"sm",onClick:()=>Z(G),children:c.jsx(tc,{className:"h-4 w-4"})}),c.jsx(me,{variant:"ghost",size:"sm",onClick:()=>Ne(G),children:c.jsx(ji,{className:"h-4 w-4"})}),c.jsx(me,{variant:"ghost",size:"sm",className:"text-amber-600",onClick:()=>ae(G),children:c.jsx(xm,{className:"h-4 w-4"})}),c.jsx(me,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>Re(G),children:c.jsx(nc,{className:"h-4 w-4"})})]})})]},G.id))})]})})})})})]}),Ee.length===0&&c.jsx(Qe,{className:"text-center py-12",children:c.jsxs(Ze,{children:[c.jsx(es,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No items found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:e||n!=="all"?"Try adjusting your filters or search terms":"Get started by scanning a product or adding your first inventory item"}),!e&&n==="all"&&c.jsxs("div",{className:"flex justify-center space-x-2",children:[c.jsxs(me,{variant:"outline",onClick:()=>m(!0),children:[c.jsx(Ru,{className:"h-4 w-4 mr-2"}),"Scan Product"]}),c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",onClick:()=>a(!0),children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Add First Item"]})]})]})}),c.jsx(Qk,{isOpen:x,onClose:()=>m(!1),onScanResult:K}),D&&c.jsx(Zk,{isOpen:v,onClose:()=>{w(!1),U(null)},item:D,suppliers:S,onUpdate:ce}),c.jsx(Jk,{isOpen:C,onClose:()=>{I(!1),U(null)},item:D,onUpdate:ce}),c.jsx(cn,{open:se,onOpenChange:X,children:c.jsxs(Jt,{children:[c.jsx(en,{children:c.jsx(tn,{children:"View Item"})}),D&&c.jsxs("div",{children:[c.jsxs("p",{children:[c.jsx("b",{children:"Name:"})," ",D.name]}),c.jsxs("p",{children:[c.jsx("b",{children:"Description:"})," ",D.description]}),c.jsxs("p",{children:[c.jsx("b",{children:"Category:"})," ",D.category_id?xe(D.category_id):"Uncategorized"]}),c.jsxs("p",{children:[c.jsx("b",{children:"Stock:"})," ",D.current_stock]}),c.jsxs("p",{children:[c.jsx("b",{children:"Min. Stock:"})," ",D.minimum_stock]}),c.jsxs("p",{children:[c.jsx("b",{children:"Unit Price:"})," Rs. ",D.unit_price]}),c.jsxs("p",{children:[c.jsx("b",{children:"Location:"})," ",D.location]}),c.jsxs("p",{children:[c.jsx("b",{children:"Barcode:"})," ",D.barcode]})]})]})}),c.jsx(cn,{open:de,onOpenChange:te,children:c.jsxs(Jt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Edit Item"}),c.jsx(Pn,{children:"Edit the details for this inventory item."})]}),D&&c.jsxs("form",{onSubmit:async G=>{G.preventDefault();const Se=G.currentTarget,Ce=new FormData(Se);try{const{error:De}=await Pe.from("inventory_items").update({name:Ce.get("name"),description:Ce.get("description"),category_id:Ce.get("categoryId"),current_stock:parseInt(Ce.get("currentStock")),minimum_stock:parseInt(Ce.get("minimumStock")),unit_of_measurement:Ce.get("unit"),unit_price:parseFloat(Ce.get("unitPrice")),supplier_id:Ce.get("supplierId"),barcode:Ce.get("barcode"),track_batches:Ce.get("trackBatches")==="on",alert_expiry_days:parseInt(Ce.get("alertExpiryDays"))||30,location:Ce.get("location")}).eq("id",D.id);if(De)throw De;F({title:"Success",description:"Item updated successfully"}),te(!1),U(null),ce()}catch{F({title:"Error",description:"Failed to update item",variant:"destructive"})}},className:"grid grid-cols-2 gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"itemName",children:"Item Name *"}),c.jsx(ge,{name:"name",defaultValue:D.name||"",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"categoryId",children:"Category *"}),c.jsxs(Rt,{name:"categoryId",defaultValue:D.category_id||"",required:!0,children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select category"})}),c.jsx(Et,{children:R.map(G=>c.jsx(_e,{value:G.id,children:xe(G.id)},G.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"currentStock",children:"Current Stock *"}),c.jsx(ge,{name:"currentStock",type:"number",defaultValue:D.current_stock||0,required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"minimumStock",children:"Minimum Stock *"}),c.jsx(ge,{name:"minimumStock",type:"number",defaultValue:D.minimum_stock||0,required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"unit",children:"Unit of Measurement"}),c.jsx(ge,{name:"unit",defaultValue:D.unit_of_measurement||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"unitPrice",children:"Unit Price (Rs. )"}),c.jsx(ge,{name:"unitPrice",type:"number",step:"0.01",defaultValue:D.unit_price||0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"supplierId",children:"Supplier"}),c.jsxs(Rt,{name:"supplierId",defaultValue:D.supplier_id||"",children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select supplier"})}),c.jsx(Et,{children:S.map(G=>c.jsx(_e,{value:G.id,children:G.name},G.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"location",children:"Storage Location"}),c.jsx(ge,{name:"location",defaultValue:D.location||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"barcode",children:"Barcode/SKU"}),c.jsx(ge,{name:"barcode",defaultValue:D.barcode||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"alertExpiryDays",children:"Expiry Alert Days"}),c.jsx(ge,{name:"alertExpiryDays",type:"number",defaultValue:D.alert_expiry_days||30})]}),c.jsxs("div",{className:"col-span-2 space-y-2",children:[c.jsx(ne,{htmlFor:"description",children:"Description"}),c.jsx(nn,{name:"description",defaultValue:D.description||""})]}),c.jsxs("div",{className:"col-span-2 flex items-center space-x-2",children:[c.jsx(ci,{name:"trackBatches",defaultChecked:!!D.track_batches}),c.jsx(ne,{htmlFor:"trackBatches",children:"Enable batch tracking for this item"})]}),c.jsxs("div",{className:"col-span-2 flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:()=>te(!1),children:"Cancel"}),c.jsx(me,{type:"submit",className:"bg-dental-primary hover:bg-dental-secondary",children:"Save Changes"})]})]})]})}),c.jsx(cn,{open:$,onOpenChange:oe,children:c.jsxs(Jt,{children:[c.jsx(en,{children:c.jsx(tn,{children:"Delete Item"})}),c.jsxs("div",{children:["Are you sure you want to delete ",c.jsx("b",{children:D==null?void 0:D.name}),"?"]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx(me,{variant:"outline",onClick:()=>oe(!1),children:"Cancel"}),c.jsx(me,{variant:"destructive",onClick:st,children:"Delete"})]})]})})]})};function Fx({initial:e,onSubmit:t,onCancel:n}){return c.jsxs("form",{onSubmit:r=>{var p,x,m,v,w,C,I,j,T,R,_,S;r.preventDefault();const o=r.currentTarget,a=new FormData(o),h={name:((p=a.get("name"))==null?void 0:p.toString().trim())||"",contact_person:((x=a.get("contact_person"))==null?void 0:x.toString().trim())||null,email:((m=a.get("email"))==null?void 0:m.toString().trim())||null,phone:((v=a.get("phone"))==null?void 0:v.toString().trim())||null,address:((w=a.get("address"))==null?void 0:w.toString().trim())||null,city:((C=a.get("city"))==null?void 0:C.toString().trim())||null,state:((I=a.get("state"))==null?void 0:I.toString().trim())||null,postal_code:((j=a.get("postal_code"))==null?void 0:j.toString().trim())||null,country:((T=a.get("country"))==null?void 0:T.toString().trim())||"USA",website:((R=a.get("website"))==null?void 0:R.toString().trim())||null,notes:((_=a.get("notes"))==null?void 0:_.toString().trim())||null,status:((S=a.get("status"))==null?void 0:S.toString())||"active"};!h.name||!h.email||!h.status||t(h)},className:"grid grid-cols-2 gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"name",children:"Company Name *"}),c.jsx(ge,{name:"name",defaultValue:(e==null?void 0:e.name)||"",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"contact_person",children:"Contact Person"}),c.jsx(ge,{name:"contact_person",defaultValue:(e==null?void 0:e.contact_person)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"email",children:"Email *"}),c.jsx(ge,{name:"email",type:"email",defaultValue:(e==null?void 0:e.email)||"",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),c.jsx(ge,{name:"phone",defaultValue:(e==null?void 0:e.phone)||""})]}),c.jsxs("div",{className:"col-span-2 space-y-2",children:[c.jsx(ne,{htmlFor:"address",children:"Address"}),c.jsx(nn,{name:"address",defaultValue:(e==null?void 0:e.address)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"city",children:"City"}),c.jsx(ge,{name:"city",defaultValue:(e==null?void 0:e.city)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"state",children:"State"}),c.jsx(ge,{name:"state",defaultValue:(e==null?void 0:e.state)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"postal_code",children:"Postal Code"}),c.jsx(ge,{name:"postal_code",defaultValue:(e==null?void 0:e.postal_code)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"country",children:"Country"}),c.jsx(ge,{name:"country",defaultValue:(e==null?void 0:e.country)||"USA"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"website",children:"Website"}),c.jsx(ge,{name:"website",defaultValue:(e==null?void 0:e.website)||""})]}),c.jsxs("div",{className:"col-span-2 space-y-2",children:[c.jsx(ne,{htmlFor:"notes",children:"Notes"}),c.jsx(nn,{name:"notes",defaultValue:(e==null?void 0:e.notes)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"status",children:"Status *"}),c.jsxs("select",{name:"status",defaultValue:(e==null?void 0:e.status)||"active",required:!0,className:"w-full border rounded px-2 py-1",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})]}),c.jsxs("div",{className:"col-span-2 flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),c.jsx(me,{type:"submit",className:"bg-dental-primary hover:bg-dental-secondary",children:"Save"})]})]})}const tM=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(!1),[o,a]=E.useState([]),[h,p]=E.useState(!0),{toast:x}=Dr(),[m,v]=E.useState(null),[w,C]=E.useState(!1);E.useEffect(()=>{I()},[]);const I=async()=>{p(!0);const{data:S,error:N}=await Pe.from("suppliers").select("*").order("name");N?x({title:"Error",description:"Failed to fetch suppliers",variant:"destructive"}):a(S||[]),p(!1)},j=async S=>{try{const{error:N}=await Pe.from("suppliers").insert([S]);if(N)throw N;x({title:"Success",description:"Supplier added successfully"}),r(!1),I()}catch{x({title:"Error",description:"Failed to add supplier",variant:"destructive"})}},T=async S=>{if(m)try{const{error:N}=await Pe.from("suppliers").update(S).eq("id",m.id);if(N)throw N;x({title:"Success",description:"Supplier updated successfully"}),C(!1),v(null),I()}catch{x({title:"Error",description:"Failed to update supplier",variant:"destructive"})}},R=S=>{switch(S){case"active":return c.jsx(xt,{className:"bg-green-100 text-green-800",children:"Active"});case"pending":return c.jsx(xt,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"inactive":return c.jsx(xt,{className:"bg-gray-100 text-gray-800",children:"Inactive"});default:return c.jsx(xt,{variant:"secondary",children:S})}},_=o.filter(S=>{var N,P,O,F,D,U,V,re,se,X;return S.name.toLowerCase().includes(e.toLowerCase())||((N=S.contact_person)==null?void 0:N.toLowerCase().includes(e.toLowerCase()))||((P=S.email)==null?void 0:P.toLowerCase().includes(e.toLowerCase()))||((O=S.phone)==null?void 0:O.toLowerCase().includes(e.toLowerCase()))||((F=S.address)==null?void 0:F.toLowerCase().includes(e.toLowerCase()))||((D=S.city)==null?void 0:D.toLowerCase().includes(e.toLowerCase()))||((U=S.state)==null?void 0:U.toLowerCase().includes(e.toLowerCase()))||((V=S.postal_code)==null?void 0:V.toLowerCase().includes(e.toLowerCase()))||((re=S.country)==null?void 0:re.toLowerCase().includes(e.toLowerCase()))||((se=S.website)==null?void 0:se.toLowerCase().includes(e.toLowerCase()))||((X=S.notes)==null?void 0:X.toLowerCase().includes(e.toLowerCase()))});return c.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-dental-dark",children:"Supplier Management"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your dental supply vendors and relationships"})]}),c.jsxs(cn,{open:n,onOpenChange:r,children:[c.jsx(uc,{asChild:!0,children:c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Add New Supplier"]})}),c.jsxs(Jt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Add New Supplier"}),c.jsx(Pn,{children:"Enter the details for the new supplier."})]}),c.jsx(Fx,{onSubmit:j,onCancel:()=>r(!1)})]})]})]}),c.jsx(Qe,{children:c.jsx(Ze,{className:"p-4",children:c.jsxs("div",{className:"relative",children:[c.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(ge,{placeholder:"Search suppliers by name, category, or contact person...",value:e,onChange:S=>t(S.target.value),className:"pl-10"})]})})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(Qe,{children:c.jsx(Ze,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:c.jsx(Ou,{className:"h-5 w-5 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Active Suppliers"}),c.jsx("p",{className:"text-xl font-bold text-dental-dark",children:"3"})]})]})})}),c.jsx(Qe,{children:c.jsx(Ze,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg",children:c.jsx(yo,{className:"h-5 w-5 text-yellow-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Pending Reviews"}),c.jsx("p",{className:"text-xl font-bold text-dental-dark",children:"1"})]})]})})}),c.jsx(Qe,{children:c.jsx(Ze,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:c.jsx(es,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),c.jsx("p",{className:"text-xl font-bold text-dental-dark",children:"128"})]})]})})}),c.jsx(Qe,{children:c.jsx(Ze,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:c.jsx(Ou,{className:"h-5 w-5 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Rating"}),c.jsx("p",{className:"text-xl font-bold text-dental-dark",children:"4.5"})]})]})})})]}),c.jsxs(vh,{defaultValue:"cards",className:"space-y-4",children:[c.jsxs(Ac,{children:[c.jsx(Ir,{value:"cards",children:"Card View"}),c.jsx(Ir,{value:"table",children:"Table View"})]}),c.jsx(jr,{value:"cards",children:c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.map(S=>c.jsxs(Qe,{className:"card-hover",children:[c.jsx(Sn,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(En,{className:"text-xl font-semibold text-dental-dark",children:S.name}),c.jsx(_n,{className:"mt-1",children:S.contact_person||"-"})]}),R(S.status)]})}),c.jsxs(Ze,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(HA,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"text-gray-900",children:S.email||"-"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx($A,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"text-gray-900",children:S.phone||"-"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(Vw,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"text-gray-900 line-clamp-2",children:S.address||"-"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"City:"}),c.jsx("span",{className:"text-gray-900",children:S.city||"-"}),c.jsx("span",{className:"text-gray-600",children:"State:"}),c.jsx("span",{className:"text-gray-900",children:S.state||"-"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Postal Code:"}),c.jsx("span",{className:"text-gray-900",children:S.postal_code||"-"}),c.jsx("span",{className:"text-gray-600",children:"Country:"}),c.jsx("span",{className:"text-gray-900",children:S.country||"-"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Website:"}),c.jsx("span",{className:"text-gray-900",children:S.website||"-"})]}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Notes: ",c.jsx("span",{className:"text-gray-900",children:S.notes||"-"})]})]}),c.jsxs("div",{className:"flex space-x-2 pt-2",children:[c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{v(S),C(!0)},children:[c.jsx(ji,{className:"h-4 w-4 mr-1"}),"Edit"]}),c.jsx(me,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:c.jsx(nc,{className:"h-4 w-4"})})]})]})]},S.id))})}),c.jsx(jr,{value:"table",children:c.jsx(Qe,{children:c.jsx(Ze,{className:"p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Supplier"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Contact"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Email"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Phone"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Address"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"City"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"State"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Postal Code"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Country"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Website"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Status"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y",children:_.map(S=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"p-4 font-medium text-dental-dark",children:S.name}),c.jsx("td",{className:"p-4",children:S.contact_person||"-"}),c.jsx("td",{className:"p-4",children:S.email||"-"}),c.jsx("td",{className:"p-4",children:S.phone||"-"}),c.jsx("td",{className:"p-4",children:S.address||"-"}),c.jsx("td",{className:"p-4",children:S.city||"-"}),c.jsx("td",{className:"p-4",children:S.state||"-"}),c.jsx("td",{className:"p-4",children:S.postal_code||"-"}),c.jsx("td",{className:"p-4",children:S.country||"-"}),c.jsx("td",{className:"p-4",children:S.website||"-"}),c.jsx("td",{className:"p-4",children:R(S.status)}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(me,{variant:"ghost",size:"sm",onClick:()=>{v(S),C(!0)},children:c.jsx(ji,{className:"h-4 w-4"})}),c.jsx(me,{variant:"ghost",size:"sm",className:"text-red-600",children:c.jsx(nc,{className:"h-4 w-4"})})]})})]},S.id))})]})})})})})]}),_.length===0&&c.jsx(Qe,{className:"text-center py-12",children:c.jsxs(Ze,{children:[c.jsx(Ou,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No suppliers found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:e?"Try adjusting your search terms":"Get started by adding your first supplier"}),!e&&c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",onClick:()=>r(!0),children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Add First Supplier"]})]})}),c.jsx(cn,{open:w,onOpenChange:C,children:c.jsxs(Jt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Edit Supplier"}),c.jsx(Pn,{children:"Update the details for this supplier."})]}),m&&c.jsx(Fx,{initial:m,onSubmit:T,onCancel:()=>{C(!1),v(null)}})]})})]})},nM=()=>{const[e,t]=E.useState("last_30_days");E.useState("inventory");const n=[{id:1,name:"Low Stock Items Report",description:"Items below minimum stock levels",count:5,lastGenerated:"2024-07-08",type:"critical"},{id:2,name:"Expiring Items Report",description:"Items expiring in next 30 days",count:3,lastGenerated:"2024-07-08",type:"warning"},{id:3,name:"Out of Stock Report",description:"Items currently out of stock",count:1,lastGenerated:"2024-07-07",type:"critical"},{id:4,name:"Stock Valuation Report",description:"Total inventory value by category",count:null,lastGenerated:"2024-07-05",type:"info"}],r=[{category:"PPE & Safety",itemsUsed:245,totalValue:3150.75,change:12.5,trend:"up"},{category:"Restorative Materials",itemsUsed:89,totalValue:4250.3,change:-5.2,trend:"down"},{category:"Anesthetics",itemsUsed:156,totalValue:875.6,change:8.9,trend:"up"},{category:"Instruments",itemsUsed:67,totalValue:2100.45,change:3.1,trend:"up"}],o=[{supplier:"MedSupply Co.",totalOrders:12,totalAmount:15750,lastOrder:"2024-07-05",status:"active"},{supplier:"DentaCorp",totalOrders:8,totalAmount:12400.5,lastOrder:"2024-06-28",status:"active"},{supplier:"AnestheCare Ltd.",totalOrders:6,totalAmount:5250.75,lastOrder:"2024-07-02",status:"active"},{supplier:"Precision Tools",totalOrders:4,totalAmount:3800.25,lastOrder:"2024-06-15",status:"pending"}],a=[{month:"Jan",consumption:12500,orders:8,value:15600},{month:"Feb",consumption:11800,orders:6,value:14200},{month:"Mar",consumption:13200,orders:9,value:16800},{month:"Apr",consumption:12900,orders:7,value:15900},{month:"May",consumption:14100,orders:10,value:18200},{month:"Jun",consumption:13500,orders:8,value:17100},{month:"Jul",consumption:15200,orders:11,value:19500}],h=p=>{switch(p){case"critical":return c.jsx(xt,{className:"bg-red-100 text-red-800",children:"Critical"});case"warning":return c.jsx(xt,{className:"bg-yellow-100 text-yellow-800",children:"Warning"});case"info":return c.jsx(xt,{className:"bg-blue-100 text-blue-800",children:"Info"});default:return c.jsx(xt,{variant:"secondary",children:p})}};return c.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-dental-dark",children:"Reports & Analytics"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Analyze your inventory performance and trends"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs(Rt,{value:e,onValueChange:t,children:[c.jsxs(St,{className:"w-48",children:[c.jsx(yo,{className:"h-4 w-4 mr-2"}),c.jsx(Ot,{})]}),c.jsxs(Et,{children:[c.jsx(_e,{value:"last_7_days",children:"Last 7 Days"}),c.jsx(_e,{value:"last_30_days",children:"Last 30 Days"}),c.jsx(_e,{value:"last_90_days",children:"Last 90 Days"}),c.jsx(_e,{value:"last_year",children:"Last Year"})]})]}),c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",children:[c.jsx(mm,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx(Qe,{children:c.jsx(Ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Inventory Value"}),c.jsx("p",{className:"text-2xl font-bold text-dental-dark",children:"$47,520"}),c.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[c.jsx(ku,{className:"h-3 w-3 mr-1"}),"+5.2% from last month"]})]}),c.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:c.jsx(zw,{className:"h-6 w-6 text-blue-600"})})]})})}),c.jsx(Qe,{children:c.jsx(Ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Items Consumed"}),c.jsx("p",{className:"text-2xl font-bold text-dental-dark",children:"557"}),c.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[c.jsx(ku,{className:"h-3 w-3 mr-1"}),"+12.3% from last month"]})]}),c.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:c.jsx(es,{className:"h-6 w-6 text-green-600"})})]})})}),c.jsx(Qe,{children:c.jsx(Ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Purchase Orders"}),c.jsx("p",{className:"text-2xl font-bold text-dental-dark",children:"30"}),c.jsxs("p",{className:"text-sm text-red-600 flex items-center mt-1",children:[c.jsx(ym,{className:"h-3 w-3 mr-1"}),"-8.1% from last month"]})]}),c.jsx("div",{className:"bg-purple-50 p-3 rounded-lg",children:c.jsx(bs,{className:"h-6 w-6 text-purple-600"})})]})})}),c.jsx(Qe,{children:c.jsx(Ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Alert Items"}),c.jsx("p",{className:"text-2xl font-bold text-dental-dark",children:"8"}),c.jsxs("p",{className:"text-sm text-yellow-600 flex items-center mt-1",children:[c.jsx(Ri,{className:"h-3 w-3 mr-1"}),"5 low stock, 3 expiring"]})]}),c.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:c.jsx(Ri,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),c.jsxs(vh,{defaultValue:"stock",className:"space-y-6",children:[c.jsxs(Ac,{className:"grid w-full grid-cols-4",children:[c.jsx(Ir,{value:"stock",children:"Stock Reports"}),c.jsx(Ir,{value:"usage",children:"Usage Analytics"}),c.jsx(Ir,{value:"purchasing",children:"Purchase Reports"}),c.jsx(Ir,{value:"trends",children:"Trends"})]}),c.jsx(jr,{value:"stock",className:"space-y-6",children:c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.map(p=>c.jsxs(Qe,{className:"card-hover",children:[c.jsx(Sn,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(En,{className:"text-lg font-semibold",children:p.name}),c.jsx(_n,{className:"mt-1",children:p.description})]}),h(p.type)]})}),c.jsxs(Ze,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[p.count&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Items:"}),c.jsx("span",{className:"font-semibold text-dental-dark",children:p.count})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(yo,{className:"h-4 w-4"}),c.jsxs("span",{children:["Last generated: ",p.lastGenerated]})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",children:[c.jsx(bs,{className:"h-4 w-4 mr-1"}),"View Report"]}),c.jsx(me,{variant:"outline",size:"sm",children:c.jsx(mm,{className:"h-4 w-4"})})]})]})]},p.id))})}),c.jsx(jr,{value:"usage",className:"space-y-6",children:c.jsxs(Qe,{children:[c.jsxs(Sn,{children:[c.jsx(En,{children:"Usage by Category"}),c.jsx(_n,{children:"Consumption patterns for the selected period"})]}),c.jsx(Ze,{children:c.jsx("div",{className:"space-y-6",children:r.map((p,x)=>c.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"font-semibold text-dental-dark",children:p.category}),c.jsxs("div",{className:"flex items-center space-x-2",children:[p.trend==="up"?c.jsx(ku,{className:"h-4 w-4 text-green-600"}):c.jsx(ym,{className:"h-4 w-4 text-red-600"}),c.jsxs("span",{className:`text-sm font-medium ${p.trend==="up"?"text-green-600":"text-red-600"}`,children:[p.change>0?"+":"",p.change,"%"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Items Used:"}),c.jsx("span",{className:"font-medium text-dental-dark ml-2",children:p.itemsUsed})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Total Value:"}),c.jsxs("span",{className:"font-medium text-dental-dark ml-2",children:["$",p.totalValue.toFixed(2)]})]})]}),c.jsx(kl,{value:75,className:"mt-3 h-2"})]})},x))})})]})}),c.jsx(jr,{value:"purchasing",className:"space-y-6",children:c.jsxs(Qe,{children:[c.jsxs(Sn,{children:[c.jsx(En,{children:"Purchase Summary by Supplier"}),c.jsx(_n,{children:"Purchase order summary for the selected period"})]}),c.jsx(Ze,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Supplier"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Orders"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Total Amount"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Last Order"}),c.jsx("th",{className:"text-left p-4 font-semibold text-gray-900",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y",children:o.map((p,x)=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"p-4 font-medium text-dental-dark",children:p.supplier}),c.jsx("td",{className:"p-4",children:p.totalOrders}),c.jsxs("td",{className:"p-4 font-medium",children:["$",p.totalAmount.toFixed(2)]}),c.jsx("td",{className:"p-4 text-gray-600",children:p.lastOrder}),c.jsx("td",{className:"p-4",children:c.jsx(xt,{className:p.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:p.status})})]},x))})]})})})]})}),c.jsx(jr,{value:"trends",className:"space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Qe,{children:[c.jsxs(Sn,{children:[c.jsx(En,{children:"Monthly Consumption Trend"}),c.jsx(_n,{children:"Total inventory consumption over time"})]}),c.jsx(Ze,{children:c.jsx("div",{className:"space-y-4",children:a.map((p,x)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600 w-12",children:p.month}),c.jsx("div",{className:"flex-1 mx-4",children:c.jsx(kl,{value:p.consumption/2e4*100,className:"h-3"})}),c.jsxs("span",{className:"text-sm font-semibold text-dental-dark w-20 text-right",children:["$",p.consumption.toLocaleString()]})]},x))})})]}),c.jsxs(Qe,{children:[c.jsxs(Sn,{children:[c.jsx(En,{children:"Purchase Order Trends"}),c.jsx(_n,{children:"Monthly purchase order frequency"})]}),c.jsx(Ze,{children:c.jsx("div",{className:"space-y-4",children:a.map((p,x)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600 w-12",children:p.month}),c.jsx("div",{className:"flex-1 mx-4",children:c.jsx(kl,{value:p.orders/15*100,className:"h-3"})}),c.jsxs("span",{className:"text-sm font-semibold text-dental-dark w-20 text-right",children:[p.orders," orders"]})]},x))})})]})]})})]})]})},rM=()=>{const[e,t]=E.useState({lowStock:!0,expiring:!0,newOrders:!1,systemUpdates:!0}),[n,r]=E.useState({clinicName:"",autoReorder:!1,lowStockThreshold:10,expiryWarningDays:30,currency:"LKR"}),[o,a]=E.useState([]),[h,p]=E.useState(!1),[x,m]=E.useState({name:"",description:""}),[v,w]=E.useState(!0),{toast:C}=Dr(),[I,j]=E.useState(null);E.useEffect(()=>{T(),_()},[]);const T=async()=>{const{data:P,error:O}=await Pe.from("system_configuration").select("*").limit(1).single();!O&&P&&(r({clinicName:P.clinic_name,autoReorder:P.auto_reorder,lowStockThreshold:P.low_stock_threshold,expiryWarningDays:P.expiry_warning_days,currency:P.currency}),j(P.id))},R=async()=>{const P={clinic_name:n.clinicName,auto_reorder:n.autoReorder,low_stock_threshold:n.lowStockThreshold,expiry_warning_days:n.expiryWarningDays,currency:n.currency};I&&(P.id=I);const{error:O}=await Pe.from("system_configuration").upsert(P);O?(console.error("Supabase upsert error:",O),C({title:"Error",description:"Failed to save system settings.",variant:"destructive"})):C({title:"Success",description:"System settings saved."})},_=async()=>{try{w(!0);const{data:P,error:O}=await Pe.from("inventory_categories").select("*").is("parent_category_id",null).order("name");if(O)throw O;a(P||[])}catch(P){console.error("Error fetching parent categories:",P),C({title:"Error",description:"Failed to fetch parent categories",variant:"destructive"})}finally{w(!1)}},S=async()=>{if(x.name.trim())try{const{error:P}=await Pe.from("inventory_categories").insert([{name:x.name.trim(),description:x.description.trim()||null,parent_category_id:null}]);if(P)throw P;C({title:"Success",description:"Parent category added successfully"}),m({name:"",description:""}),p(!1),_()}catch(P){console.error("Error adding parent category:",P),C({title:"Error",description:"Failed to add parent category",variant:"destructive"})}},N=async P=>{try{const{data:O,error:F}=await Pe.from("inventory_categories").select("id").eq("parent_category_id",P);if(F)throw F;if(O&&O.length>0){C({title:"Cannot Delete",description:"This category has sub-categories. Please delete sub-categories first.",variant:"destructive"});return}const{data:D,error:U}=await Pe.from("inventory_items").select("id").eq("category_id",P);if(U)throw U;if(D&&D.length>0){C({title:"Cannot Delete",description:"This category has items assigned to it. Please reassign items first.",variant:"destructive"});return}const{error:V}=await Pe.from("inventory_categories").delete().eq("id",P);if(V)throw V;C({title:"Success",description:"Parent category deleted successfully"}),_()}catch(O){console.error("Error deleting parent category:",O),C({title:"Error",description:"Failed to delete parent category",variant:"destructive"})}};return c.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[c.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-dental-dark",children:"Settings"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Configure your inventory management system"})]})}),c.jsxs(vh,{defaultValue:"general",className:"space-y-6",children:[c.jsxs(Ac,{className:"grid w-full grid-cols-3",children:[c.jsx(Ir,{value:"general",children:"General"}),c.jsx(Ir,{value:"notifications",children:"Notifications"}),c.jsx(Ir,{value:"categories",children:"Categories"})]}),c.jsx(jr,{value:"general",className:"space-y-6",children:c.jsxs(Qe,{children:[c.jsxs(Sn,{children:[c.jsx(En,{children:"System Configuration"}),c.jsx(_n,{children:"Configure general system settings and preferences"})]}),c.jsxs(Ze,{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"clinicName",children:"Clinic Name"}),c.jsx(ge,{id:"clinicName",value:n.clinicName,onChange:P=>r(O=>({...O,clinicName:P.target.value}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"currency",children:"Default Currency"}),c.jsxs(Rt,{value:n.currency,onValueChange:P=>r(O=>({...O,currency:P})),children:[c.jsx(St,{children:c.jsx(Ot,{})}),c.jsx(Et,{children:c.jsx(_e,{value:"LKR",children:"LKR (₨)"})})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ne,{children:"Auto-Reorder"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Automatically create purchase orders for low stock items"})]}),c.jsx(ci,{checked:n.autoReorder,onCheckedChange:P=>r(O=>({...O,autoReorder:P}))})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"lowStockThreshold",children:"Low Stock Threshold (%)"}),c.jsx(ge,{id:"lowStockThreshold",type:"number",value:n.lowStockThreshold,onChange:P=>r(O=>({...O,lowStockThreshold:parseInt(P.target.value)}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"expiryWarning",children:"Expiry Warning (Days)"}),c.jsx(ge,{id:"expiryWarning",type:"number",value:n.expiryWarningDays,onChange:P=>r(O=>({...O,expiryWarningDays:parseInt(P.target.value)}))})]})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(me,{className:"bg-dental-primary hover:bg-dental-secondary",onClick:R,children:"Save Changes"})})]})]})}),c.jsx(jr,{value:"notifications",className:"space-y-6",children:c.jsxs(Qe,{children:[c.jsxs(Sn,{children:[c.jsx(En,{children:"Notification Settings"}),c.jsx(_n,{children:"Configure when and how you receive notifications"})]}),c.jsxs(Ze,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ne,{children:"Low Stock Alerts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when items fall below minimum stock levels"})]}),c.jsx(ci,{checked:e.lowStock,onCheckedChange:P=>t(O=>({...O,lowStock:P}))})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ne,{children:"Expiring Items"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Get notified about items nearing expiration"})]}),c.jsx(ci,{checked:e.expiring,onCheckedChange:P=>t(O=>({...O,expiring:P}))})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ne,{children:"New Orders"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when new purchase orders are created"})]}),c.jsx(ci,{checked:e.newOrders,onCheckedChange:P=>t(O=>({...O,newOrders:P}))})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ne,{children:"System Updates"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Get notified about system updates and maintenance"})]}),c.jsx(ci,{checked:e.systemUpdates,onCheckedChange:P=>t(O=>({...O,systemUpdates:P}))})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(me,{className:"bg-dental-primary hover:bg-dental-secondary",children:"Save Preferences"})})]})]})}),c.jsx(jr,{value:"categories",className:"space-y-6",children:c.jsxs(Qe,{children:[c.jsx(Sn,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(En,{children:"Parent Category Management"}),c.jsx(_n,{children:"Organize your inventory items by categories"})]}),c.jsxs(cn,{open:h,onOpenChange:p,children:[c.jsx(uc,{asChild:!0,children:c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Add Category"]})}),c.jsxs(Jt,{children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Add New Category"}),c.jsx(Pn,{children:"Add a new parent category to organize your inventory items."})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"categoryName",children:"Category Name *"}),c.jsx(ge,{id:"categoryName",value:x.name,onChange:P=>m({...x,name:P.target.value}),placeholder:"Enter parent category name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"categoryDescription",children:"Description (Optional)"}),c.jsx(nn,{id:"categoryDescription",value:x.description,onChange:P=>m({...x,description:P.target.value}),placeholder:"Enter category description"})]})]}),c.jsxs(CC,{children:[c.jsx(me,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),c.jsx(me,{onClick:S,children:"Add Category"})]})]})]})]})}),c.jsx(Ze,{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v?c.jsx("p",{children:"Loading categories..."}):o.length===0?c.jsx("p",{children:"No parent categories found. Add one to get started!"}):o.map(P=>c.jsx(Qe,{className:"card-hover",children:c.jsxs(Ze,{className:"p-4",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("div",{className:"flex space-x-1",children:[c.jsx(me,{variant:"ghost",size:"sm",children:c.jsx(ld,{className:"h-4 w-4"})}),c.jsx(me,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>N(P.id),children:c.jsx(nc,{className:"h-4 w-4"})})]})}),c.jsx("h3",{className:"font-semibold text-dental-dark mb-1",children:P.name}),c.jsx("p",{className:"text-sm text-gray-600",children:P.description||"No description"})]})},P.id))})})]})})]})]})},sM=({suppliers:e,inventoryItems:t,categories:n,onSuccess:r,isOpen:o,onOpenChange:a})=>{const[h,p]=E.useState({supplier_id:"",requested_by:"",expected_delivery_date:"",payment_terms:"",shipping_method:"",delivery_address:"",authorized_by:"",notes:""}),[x,m]=E.useState([{id:"1",inventory_item_id:"",item_code:"",item_description:"",category:"",quantity:1,unit_of_measure:"units",unit_price:0,total_price:0,remarks:""}]),[v,w]=E.useState(!1),[C,I]=E.useState({}),{toast:j}=Dr(),T=()=>{const D={};return h.supplier_id||(D.supplier_id="Supplier is required"),h.requested_by||(D.requested_by="Requested by is required"),h.payment_terms||(D.payment_terms="Payment terms are required"),h.shipping_method||(D.shipping_method="Shipping method is required"),h.delivery_address||(D.delivery_address="Delivery address is required"),x.forEach((U,V)=>{U.inventory_item_id||(D[`item_${V}_inventory`]="Inventory item is required"),(!U.quantity||U.quantity<=0)&&(D[`item_${V}_quantity`]="Quantity must be greater than 0"),(!U.unit_price||U.unit_price<=0)&&(D[`item_${V}_price`]="Unit price must be greater than 0")}),I(D),Object.keys(D).length===0},R=()=>h.supplier_id&&h.requested_by&&h.payment_terms&&h.shipping_method&&h.delivery_address&&x.every(D=>D.inventory_item_id&&D.quantity>0&&D.unit_price>0),_=()=>{const D={id:Date.now().toString(),inventory_item_id:"",item_code:"",item_description:"",category:"",quantity:1,unit_of_measure:"units",unit_price:0,total_price:0,remarks:""};m([...x,D])},S=D=>{x.length>1&&m(x.filter(U=>U.id!==D))},N=(D,U,V)=>{m(x.map(re=>{if(re.id===D){const se={...re,[U]:V};if((U==="quantity"||U==="unit_price")&&(se.total_price=se.quantity*se.unit_price),U==="inventory_item_id"&&V){const X=t.find(de=>de.id===V);X&&(se.item_code=X.sku||"",se.item_description=X.name,se.category=X.category_id||"",se.unit_of_measure=X.unit_of_measurement,se.unit_price=X.unit_price,se.total_price=se.quantity*X.unit_price)}return U==="category"&&(se.inventory_item_id="",se.item_code="",se.item_description="",se.unit_price=0,se.total_price=0),se}return re}))},P=D=>D?t.filter(U=>U.category_id===D):t,O=()=>x.reduce((D,U)=>D+U.total_price,0),F=async D=>{if(D.preventDefault(),console.log("Form submission started"),console.log("Form data:",h),console.log("Order items:",x),console.log("Suppliers count:",e.length),console.log("Inventory items count:",t.length),!T()){console.log("Form validation failed:",C),j({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}w(!0);try{console.log("Generating PO number...");const{data:U,error:V}=await Pe.rpc("generate_po_number");if(V)throw console.error("PO number generation error:",V),V;const re=U||`PO${Date.now().toString().slice(-6)}`;console.log("Generated PO number:",re);const se={po_number:re,supplier_id:h.supplier_id,requested_by:h.requested_by,expected_delivery_date:h.expected_delivery_date||null,payment_terms:h.payment_terms,shipping_method:h.shipping_method,delivery_address:h.delivery_address,authorized_by:h.authorized_by||null,notes:h.notes,total_amount:O(),status:"pending"};console.log("Creating purchase order with payload:",se);const{data:X,error:de}=await Pe.from("purchase_orders").insert([se]).select().single();if(de)throw console.error("Purchase order creation error:",de),de;console.log("Purchase order created:",X);const te=x.map(oe=>({purchase_order_id:X.id,inventory_item_id:oe.inventory_item_id||null,item_code:oe.item_code,item_description:oe.item_description,category:oe.category,quantity:oe.quantity,unit_of_measure:oe.unit_of_measure,unit_price:oe.unit_price,remarks:oe.remarks}));console.log("Creating purchase order items:",te);const{error:$}=await Pe.from("purchase_order_items").insert(te);if($)throw console.error("Purchase order items creation error:",$),$;console.log("Purchase order items created successfully"),j({title:"Success",description:`Purchase order ${re} created successfully`}),r(),a(!1),p({supplier_id:"",requested_by:"",expected_delivery_date:"",payment_terms:"",shipping_method:"",delivery_address:"",authorized_by:"",notes:""}),m([{id:"1",inventory_item_id:"",item_code:"",item_description:"",category:"",quantity:1,unit_of_measure:"units",unit_price:0,total_price:0,remarks:""}]),I({})}catch(U){console.error("Error creating purchase order:",U),j({title:"Error",description:"Failed to create purchase order. Please try again.",variant:"destructive"})}finally{w(!1)}};return c.jsx(cn,{open:o,onOpenChange:a,children:c.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Create Purchase Order"}),c.jsx(Pn,{children:"Fill in the details below to create a new purchase order"})]}),c.jsxs("form",{onSubmit:F,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"supplier_id",children:"Supplier *"}),c.jsxs(Rt,{value:h.supplier_id,onValueChange:D=>p(U=>({...U,supplier_id:D})),children:[c.jsx(St,{className:C.supplier_id?"border-red-500":"",children:c.jsx(Ot,{placeholder:"Select supplier"})}),c.jsx(Et,{children:e.map(D=>c.jsx(_e,{value:D.id,children:D.name},D.id))})]}),C.supplier_id&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-sm",children:[c.jsx(Ks,{className:"h-3 w-3"}),C.supplier_id]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"requested_by",children:"Requested By *"}),c.jsx(ge,{id:"requested_by",value:h.requested_by,onChange:D=>p(U=>({...U,requested_by:D.target.value})),placeholder:"Name of requester",className:C.requested_by?"border-red-500":""}),C.requested_by&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-sm",children:[c.jsx(Ks,{className:"h-3 w-3"}),C.requested_by]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"expected_delivery_date",children:"Expected Delivery Date"}),c.jsx(ge,{type:"date",id:"expected_delivery_date",value:h.expected_delivery_date,onChange:D=>p(U=>({...U,expected_delivery_date:D.target.value}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"payment_terms",children:"Payment Terms *"}),c.jsxs(Rt,{value:h.payment_terms,onValueChange:D=>p(U=>({...U,payment_terms:D})),children:[c.jsx(St,{className:C.payment_terms?"border-red-500":"",children:c.jsx(Ot,{placeholder:"Select payment terms"})}),c.jsxs(Et,{children:[c.jsx(_e,{value:"Net 30",children:"Net 30"}),c.jsx(_e,{value:"Net 60",children:"Net 60"}),c.jsx(_e,{value:"Net 90",children:"Net 90"}),c.jsx(_e,{value:"COD",children:"COD"}),c.jsx(_e,{value:"Advance",children:"Advance"})]})]}),C.payment_terms&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-sm",children:[c.jsx(Ks,{className:"h-3 w-3"}),C.payment_terms]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"shipping_method",children:"Shipping Method *"}),c.jsxs(Rt,{value:h.shipping_method,onValueChange:D=>p(U=>({...U,shipping_method:D})),children:[c.jsx(St,{className:C.shipping_method?"border-red-500":"",children:c.jsx(Ot,{placeholder:"Select shipping method"})}),c.jsxs(Et,{children:[c.jsx(_e,{value:"Standard",children:"Standard"}),c.jsx(_e,{value:"Express",children:"Express"}),c.jsx(_e,{value:"Overnight",children:"Overnight"}),c.jsx(_e,{value:"Pickup",children:"Pickup"})]})]}),C.shipping_method&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-sm",children:[c.jsx(Ks,{className:"h-3 w-3"}),C.shipping_method]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"authorized_by",children:"Authorized By"}),c.jsx(ge,{id:"authorized_by",value:h.authorized_by,onChange:D=>p(U=>({...U,authorized_by:D.target.value})),placeholder:"Manager/Doctor approval"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"delivery_address",children:"Delivery Address *"}),c.jsx(nn,{id:"delivery_address",value:h.delivery_address,onChange:D=>p(U=>({...U,delivery_address:D.target.value})),placeholder:"Complete delivery address",className:C.delivery_address?"border-red-500":""}),C.delivery_address&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-sm",children:[c.jsx(Ks,{className:"h-3 w-3"}),C.delivery_address]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Order Items"}),c.jsxs(me,{type:"button",onClick:_,variant:"outline",size:"sm",children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),c.jsx("div",{className:"space-y-4",children:x.map((D,U)=>c.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h4",{className:"font-medium",children:["Item ",U+1]}),x.length>1&&c.jsx(me,{type:"button",onClick:()=>S(D.id),variant:"outline",size:"sm",children:c.jsx(Hw,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Inventory Item *"}),c.jsxs(Rt,{value:D.inventory_item_id,onValueChange:V=>N(D.id,"inventory_item_id",V),children:[c.jsx(St,{className:C[`item_${U}_inventory`]?"border-red-500":"",children:c.jsx(Ot,{placeholder:P(D.category).length===0?"No items available":"Select item"})}),c.jsx(Et,{children:P(D.category).length===0?c.jsx("div",{className:"px-2 py-1.5 text-sm text-gray-500",children:D.category?"No items available in this category":"Please select a category first"}):P(D.category).map(V=>c.jsxs(_e,{value:V.id,children:[V.name," ",V.sku?`(${V.sku})`:""," - $",V.unit_price]},V.id))})]}),C[`item_${U}_inventory`]&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-sm",children:[c.jsx(Ks,{className:"h-3 w-3"}),C[`item_${U}_inventory`]]}),D.category&&c.jsxs("div",{className:"text-xs text-gray-500",children:[P(D.category).length," items available in this category"]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Item Code"}),c.jsx(ge,{value:D.item_code,onChange:V=>N(D.id,"item_code",V.target.value),placeholder:"Item code"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Category"}),c.jsxs(Rt,{value:D.category,onValueChange:V=>N(D.id,"category",V),children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select category first"})}),c.jsx(Et,{children:n.map(V=>c.jsx(_e,{value:V.id,children:V.name},V.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Quantity *"}),c.jsx(ge,{type:"number",min:"1",value:D.quantity,onChange:V=>N(D.id,"quantity",parseInt(V.target.value)||1),className:C[`item_${U}_quantity`]?"border-red-500":""}),C[`item_${U}_quantity`]&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-sm",children:[c.jsx(Ks,{className:"h-3 w-3"}),C[`item_${U}_quantity`]]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Unit of Measure"}),c.jsxs(Rt,{value:D.unit_of_measure,onValueChange:V=>N(D.id,"unit_of_measure",V),children:[c.jsx(St,{children:c.jsx(Ot,{})}),c.jsxs(Et,{children:[c.jsx(_e,{value:"units",children:"Units"}),c.jsx(_e,{value:"box",children:"Box"}),c.jsx(_e,{value:"bottle",children:"Bottle"}),c.jsx(_e,{value:"piece",children:"Piece"}),c.jsx(_e,{value:"pack",children:"Pack"}),c.jsx(_e,{value:"set",children:"Set"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Unit Price *"}),c.jsx(ge,{type:"number",step:"0.01",min:"0",value:D.unit_price,onChange:V=>N(D.id,"unit_price",parseFloat(V.target.value)||0),className:C[`item_${U}_price`]?"border-red-500":""}),C[`item_${U}_price`]&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-sm",children:[c.jsx(Ks,{className:"h-3 w-3"}),C[`item_${U}_price`]]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Total Price"}),c.jsx(ge,{type:"number",step:"0.01",value:D.total_price.toFixed(2),readOnly:!0,className:"bg-gray-50"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Item Description"}),c.jsx(ge,{value:D.item_description,onChange:V=>N(D.id,"item_description",V.target.value),placeholder:"Detailed item description"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Remarks"}),c.jsx(nn,{value:D.remarks,onChange:V=>N(D.id,"remarks",V.target.value),placeholder:"Special instructions or remarks"})]})]},D.id))}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:c.jsxs("div",{className:"text-lg font-semibold text-right",children:["Total Amount: $",O().toFixed(2)]})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"notes",children:"Notes/Comments"}),c.jsx(nn,{id:"notes",value:h.notes,onChange:D=>p(U=>({...U,notes:D.target.value})),placeholder:"Additional notes or comments"})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:v,children:"Cancel"}),c.jsx(me,{type:"submit",className:"bg-dental-primary hover:bg-dental-secondary",disabled:!R()||v,children:v?"Creating...":"Create Purchase Order"})]})]})]})})},iM=()=>{const[e,t]=E.useState(""),[n,r]=E.useState("all"),[o,a]=E.useState(!1),[h,p]=E.useState([]),[x,m]=E.useState([]),[v,w]=E.useState([]),[C,I]=E.useState([]),[j,T]=E.useState(!0),{toast:R}=Dr();E.useEffect(()=>{_()},[]);const _=async()=>{var O,F,D,U;try{console.log("Fetching data for PurchaseOrders...");const[V,re,se,X]=await Promise.all([Pe.from("purchase_orders").select(`
          *,
          suppliers(name),
          purchase_order_items(*)
        `).order("created_at",{ascending:!1}),Pe.from("suppliers").select("*").order("name"),Pe.from("inventory_items").select("*").order("name"),Pe.from("inventory_categories").select("*").order("name")]);console.log("Purchase orders response:",V),console.log("Suppliers response:",re),console.log("Inventory items response:",se),console.log("Categories response:",X),V.data&&p(V.data),re.data&&m(re.data),se.data&&w(se.data),X.data&&I(X.data),console.log("Data loaded successfully:"),console.log("- Purchase orders:",((O=V.data)==null?void 0:O.length)||0),console.log("- Suppliers:",((F=re.data)==null?void 0:F.length)||0),console.log("- Inventory items:",((D=se.data)==null?void 0:D.length)||0),console.log("- Categories:",((U=X.data)==null?void 0:U.length)||0)}catch(V){console.error("Error fetching purchase orders:",V),R({title:"Error",description:"Failed to fetch purchase orders",variant:"destructive"})}finally{T(!1)}},S=O=>{const F={pending:{color:"bg-yellow-100 text-yellow-800",icon:Uw},approved:{color:"bg-blue-100 text-blue-800",icon:op},ordered:{color:"bg-purple-100 text-purple-800",icon:es},received:{color:"bg-green-100 text-green-800",icon:Ww},cancelled:{color:"bg-red-100 text-red-800",icon:VA}},D=F[O]||F.pending,U=D.icon;return c.jsxs(xt,{className:`${D.color} flex items-center gap-1`,children:[c.jsx(U,{className:"h-3 w-3"}),O.charAt(0).toUpperCase()+O.slice(1)]})},N=async(O,F)=>{try{const{error:D}=await Pe.from("purchase_orders").update({status:F}).eq("id",O);if(D)throw D;R({title:"Success",description:`Purchase order status updated to ${F}`}),_()}catch(D){console.error("Error updating PO status:",D),R({title:"Error",description:"Failed to update purchase order status",variant:"destructive"})}},P=h.filter(O=>{var U,V,re;const F=O.po_number.toLowerCase().includes(e.toLowerCase())||((V=(U=O.suppliers)==null?void 0:U.name)==null?void 0:V.toLowerCase().includes(e.toLowerCase()))||((re=O.requested_by)==null?void 0:re.toLowerCase().includes(e.toLowerCase())),D=n==="all"||O.status===n;return F&&D});return j?c.jsx("div",{className:"p-6",children:"Loading..."}):c.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-dental-dark",children:"Purchase Orders"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage purchase orders and procurement workflow"})]}),c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",onClick:()=>a(!0),children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Create Purchase Order"]})]}),c.jsx(Qe,{children:c.jsx(Ze,{className:"p-4",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(ge,{placeholder:"Search by PO number, supplier, or requested by...",value:e,onChange:O=>t(O.target.value),className:"pl-10"})]}),c.jsxs(Rt,{value:n,onValueChange:r,children:[c.jsxs(St,{className:"w-48",children:[c.jsx(ap,{className:"h-4 w-4 mr-2"}),c.jsx(Ot,{})]}),c.jsxs(Et,{children:[c.jsx(_e,{value:"all",children:"All Status"}),c.jsx(_e,{value:"pending",children:"Pending"}),c.jsx(_e,{value:"approved",children:"Approved"}),c.jsx(_e,{value:"ordered",children:"Ordered"}),c.jsx(_e,{value:"received",children:"Received"}),c.jsx(_e,{value:"cancelled",children:"Cancelled"})]})]})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(O=>{var F,D;return c.jsxs(Qe,{className:"card-hover",children:[c.jsx(Sn,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(En,{className:"text-lg font-semibold",children:O.po_number}),c.jsxs(_n,{className:"mt-1",children:[((F=O.suppliers)==null?void 0:F.name)||"No supplier"," • ",new Date(O.order_date).toLocaleDateString()]})]}),S(O.status)]})}),c.jsxs(Ze,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Order Date:"}),c.jsx("span",{className:"font-medium",children:new Date(O.order_date).toLocaleDateString()})]}),O.requested_by&&c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[c.jsx($w,{className:"h-3 w-3"}),"Requested By:"]}),c.jsx("span",{className:"font-medium",children:O.requested_by})]}),O.expected_delivery_date&&c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[c.jsx(yo,{className:"h-3 w-3"}),"Expected:"]}),c.jsx("span",{className:"font-medium",children:new Date(O.expected_delivery_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[c.jsx(zw,{className:"h-3 w-3"}),"Total Amount:"]}),c.jsxs("span",{className:"font-medium",children:["$",O.total_amount||"0.00"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[c.jsx(es,{className:"h-3 w-3"}),"Items:"]}),c.jsx("span",{className:"font-medium",children:((D=O.purchase_order_items)==null?void 0:D.length)||0})]}),O.payment_terms&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Payment Terms:"}),c.jsx("span",{className:"font-medium text-xs",children:O.payment_terms})]}),O.delivery_address&&c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[c.jsx(Vw,{className:"h-3 w-3"}),"Delivery:"]}),c.jsx("span",{className:"font-medium text-xs text-right max-w-[120px]",children:O.delivery_address})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",children:[c.jsx(tc,{className:"h-4 w-4 mr-1"}),"View"]}),c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",children:[c.jsx(ji,{className:"h-4 w-4 mr-1"}),"Edit"]}),c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",children:[c.jsx(bs,{className:"h-4 w-4 mr-1"}),"Print"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[O.status==="pending"&&c.jsxs(c.Fragment,{children:[c.jsx(me,{size:"sm",variant:"outline",onClick:()=>N(O.id,"approved"),className:"flex-1 text-blue-600 border-blue-200",children:"Approve"}),c.jsx(me,{size:"sm",variant:"outline",onClick:()=>N(O.id,"cancelled"),className:"flex-1 text-red-600 border-red-200",children:"Cancel"})]}),O.status==="approved"&&c.jsx(me,{size:"sm",onClick:()=>N(O.id,"ordered"),className:"flex-1 bg-purple-600 hover:bg-purple-700",children:"Mark as Ordered"}),O.status==="ordered"&&c.jsx(me,{size:"sm",onClick:()=>N(O.id,"received"),className:"flex-1 bg-green-600 hover:bg-green-700",children:"Mark as Received"})]})]})]},O.id)})}),P.length===0&&c.jsx(Qe,{className:"text-center py-12",children:c.jsxs(Ze,{children:[c.jsx(bs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No purchase orders found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:e||n!=="all"?"Try adjusting your filters or search terms":"Get started by creating your first purchase order"}),!e&&n==="all"&&c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",onClick:()=>a(!0),children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Create First Purchase Order"]})]})}),c.jsx(sM,{suppliers:x,inventoryItems:v,categories:C,onSuccess:_,isOpen:o,onOpenChange:a})]})},oM=({suppliers:e,purchaseOrders:t,onSuccess:n,isOpen:r,onOpenChange:o})=>{const[a,h]=E.useState({purchase_order_id:"",supplier_id:"",receipt_date:new Date().toISOString().split("T")[0],received_by:"",notes:""}),[p,x]=E.useState([]),[m,v]=E.useState(null),[w,C]=E.useState({invoice:null,deliveryNote:null,qcReport:null}),{toast:I}=Dr();E.useEffect(()=>{(async()=>{if(a.purchase_order_id)try{const{data:F}=await Pe.from("purchase_orders").select(`
              *,
              purchase_order_items(
                *,
                inventory_items(name)
              )
            `).eq("id",a.purchase_order_id).single();if(F){v(F),h(U=>({...U,supplier_id:F.supplier_id}));const D=F.purchase_order_items.map((U,V)=>{var re;return{id:`${V+1}`,inventory_item_id:U.inventory_item_id||"",item_name:((re=U.inventory_items)==null?void 0:re.name)||U.item_description||"Unknown Item",quantity_ordered:U.quantity,quantity_received:U.quantity,unit_of_measure:U.unit_of_measure||"units",batch_number:"",lot_number:"",manufacture_date:"",expiry_date:"",condition:"good",storage_location:"",remarks:"",has_discrepancy:!1}});x(D)}}catch(F){console.error("Error loading PO items:",F)}else x([]),v(null)})()},[a.purchase_order_id]);const j=(O,F,D)=>{x(U=>U.map(V=>{if(V.id===O){const re={...V,[F]:D};return F==="quantity_received"&&(re.has_discrepancy=D!==V.quantity_ordered),re}return V}))},T=()=>p.filter(O=>O.has_discrepancy).length,R=(O,F)=>{const D={name:F.name,size:F.size,type:F.type,file:F};C(U=>({...U,[O]:D}))},_=O=>{C(F=>({...F,[O]:null}))},S=O=>{if(O===0)return"0 Bytes";const F=1024,D=["Bytes","KB","MB","GB"],U=Math.floor(Math.log(O)/Math.log(F));return parseFloat((O/Math.pow(F,U)).toFixed(2))+" "+D[U]},N=async(O,F)=>{try{const D=O.name.split(".").pop(),U=`stock-receipts/${Date.now()}-${F}.${D}`,{error:V}=await Pe.storage.from("documents").upload(U,O);if(V)throw V;const{data:{publicUrl:re}}=Pe.storage.from("documents").getPublicUrl(U);return re}catch(D){return console.error("Error uploading file:",D),null}},P=async O=>{O.preventDefault();try{const F=[],D={};w.invoice&&F.push(N(w.invoice.file,"invoice").then(te=>{D.invoice=te})),w.deliveryNote&&F.push(N(w.deliveryNote.file,"delivery-note").then(te=>{D.deliveryNote=te})),w.qcReport&&F.push(N(w.qcReport.file,"qc-report").then(te=>{D.qcReport=te})),await Promise.all(F);const{data:U}=await Pe.rpc("generate_receipt_number"),V=U||`REC${Date.now().toString().slice(-6)}`,{data:re,error:se}=await Pe.from("stock_receipts").insert([{receipt_number:V,purchase_order_id:a.purchase_order_id||null,supplier_id:a.supplier_id,receipt_date:a.receipt_date,received_by:a.received_by||null,notes:a.notes,invoice_uploaded:!!w.invoice,delivery_note_uploaded:!!w.deliveryNote,qc_report_uploaded:!!w.qcReport,invoice_url:D.invoice||null,delivery_note_url:D.deliveryNote||null,qc_report_url:D.qcReport||null}]).select().single();if(se)throw se;const X=p.map(te=>({stock_receipt_id:re.id,inventory_item_id:te.inventory_item_id||null,quantity:te.quantity_received,quantity_ordered:te.quantity_ordered,unit_of_measure:te.unit_of_measure,batch_number:te.batch_number||null,lot_number:te.lot_number||null,manufacture_date:te.manufacture_date||null,expiry_date:te.expiry_date||null,condition:te.condition,storage_location:te.storage_location||null,remarks:te.remarks||null,has_discrepancy:te.has_discrepancy})),{error:de}=await Pe.from("stock_receipt_items").insert(X);if(de)throw de;if(a.purchase_order_id){const te=T()>0;await Pe.from("purchase_orders").update({status:"received"}).eq("id",a.purchase_order_id)}I({title:"Success",description:`Stock receipt ${V} created successfully${T()>0?" with discrepancies noted":""}`}),n(),o(!1),h({purchase_order_id:"",supplier_id:"",receipt_date:new Date().toISOString().split("T")[0],received_by:"",notes:""}),x([]),C({invoice:null,deliveryNote:null,qcReport:null});for(const te of p)if(te.inventory_item_id&&typeof te.quantity_received=="number"){const{data:$,error:oe}=await Pe.from("inventory_items").select("current_stock, minimum_stock, maximum_stock, supplier_id, unit_price, name").eq("id",te.inventory_item_id).single();if(!oe&&$){const ce=($.current_stock||0)+te.quantity_received;await Pe.from("inventory_items").update({current_stock:ce}).eq("id",te.inventory_item_id);const{data:K,error:ae}=await Pe.from("system_configuration").select("auto_reorder, low_stock_threshold").limit(1).single();if(!ae&&K&&K.auto_reorder&&ce<=$.minimum_stock){const{data:we,error:xe}=await Pe.from("purchase_order_items").select("id, purchase_order_id").eq("inventory_item_id",te.inventory_item_id);let be=!1;if(!xe&&we&&we.length>0)for(const ke of we){const{data:Q,error:Ee}=await Pe.from("purchase_orders").select("status").eq("id",ke.purchase_order_id).single();if(!Ee&&Q&&Q.status!=="received"&&Q.status!=="cancelled"){be=!0;break}}if(!be){let ke=0;if($.maximum_stock&&$.maximum_stock>ce?ke=$.maximum_stock-ce:ke=($.minimum_stock||1)*2,ke>0&&$.supplier_id){const{data:Q}=await Pe.rpc("generate_po_number"),Ee=Q||`PO${Date.now().toString().slice(-6)}`,{data:Z,error:Ne}=await Pe.from("purchase_orders").insert([{po_number:Ee,supplier_id:$.supplier_id,total_amount:ke*($.unit_price||0),status:"pending",notes:`Auto-reorder for ${$.name}`}]).select().single();!Ne&&Z&&(await Pe.from("purchase_order_items").insert([{purchase_order_id:Z.id,inventory_item_id:te.inventory_item_id,quantity:ke,unit_price:$.unit_price||0}]),I({title:"Auto Purchase Order Created",description:`A purchase order (${Ee}) was automatically created for ${$.name}.`,variant:"default"}))}}}}}}catch(F){console.error("Error creating stock receipt:",F),I({title:"Error",description:"Failed to create stock receipt",variant:"destructive"})}};return c.jsx(cn,{open:r,onOpenChange:o,children:c.jsxs(Jt,{className:"max-w-7xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Receive Stock"}),c.jsx(Pn,{children:"Record received inventory items with detailed tracking"})]}),c.jsxs("form",{onSubmit:P,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"purchase_order_id",children:"Linked PO Number"}),c.jsxs(Rt,{value:a.purchase_order_id,onValueChange:O=>h(F=>({...F,purchase_order_id:O})),children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select PO (optional)"})}),c.jsx(Et,{children:t.map(O=>c.jsx(_e,{value:O.id,children:O.po_number},O.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"supplier_id",children:"Supplier *"}),c.jsxs(Rt,{value:a.supplier_id,onValueChange:O=>h(F=>({...F,supplier_id:O})),required:!0,children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select supplier"})}),c.jsx(Et,{children:e.map(O=>c.jsx(_e,{value:O.id,children:O.name},O.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"receipt_date",children:"Receipt Date *"}),c.jsx(ge,{id:"receipt_date",type:"date",value:a.receipt_date,onChange:O=>h(F=>({...F,receipt_date:O.target.value})),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"received_by",children:"Received By"}),c.jsx(ge,{id:"received_by",value:a.received_by,onChange:O=>h(F=>({...F,received_by:O.target.value})),placeholder:"Staff name"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Documentation"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"file",accept:".pdf, .doc, .docx, .jpg, .jpeg, .png",onChange:O=>{O.target.files&&O.target.files[0]&&R("invoice",O.target.files[0])},className:"hidden",id:"invoice-upload"}),c.jsxs("label",{htmlFor:"invoice-upload",className:"flex items-center gap-2 cursor-pointer",children:[c.jsx(Mu,{className:"h-4 w-4"}),"Invoice"]}),w.invoice&&c.jsxs(xt,{variant:"success",className:"flex items-center gap-1",children:[c.jsx(bs,{className:"h-3 w-3"}),w.invoice.name," (",S(w.invoice.size),")",c.jsx(ho,{className:"h-3 w-3 cursor-pointer hover:text-red-500",onClick:()=>_("invoice")})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"file",accept:".pdf, .doc, .docx, .jpg, .jpeg, .png",onChange:O=>{O.target.files&&O.target.files[0]&&R("deliveryNote",O.target.files[0])},className:"hidden",id:"delivery-note-upload"}),c.jsxs("label",{htmlFor:"delivery-note-upload",className:"flex items-center gap-2 cursor-pointer",children:[c.jsx(Mu,{className:"h-4 w-4"}),"Delivery Note"]}),w.deliveryNote&&c.jsxs(xt,{variant:"success",className:"flex items-center gap-1",children:[c.jsx(bs,{className:"h-3 w-3"}),w.deliveryNote.name," (",S(w.deliveryNote.size),")",c.jsx(ho,{className:"h-3 w-3 cursor-pointer hover:text-red-500",onClick:()=>_("deliveryNote")})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"file",accept:".pdf, .doc, .docx, .jpg, .jpeg, .png",onChange:O=>{O.target.files&&O.target.files[0]&&R("qcReport",O.target.files[0])},className:"hidden",id:"qc-report-upload"}),c.jsxs("label",{htmlFor:"qc-report-upload",className:"flex items-center gap-2 cursor-pointer",children:[c.jsx(Mu,{className:"h-4 w-4"}),"QC Report"]}),w.qcReport&&c.jsxs(xt,{variant:"success",className:"flex items-center gap-1",children:[c.jsx(bs,{className:"h-3 w-3"}),w.qcReport.name," (",S(w.qcReport.size),")",c.jsx(ho,{className:"h-3 w-3 cursor-pointer hover:text-red-500",onClick:()=>_("qcReport")})]})]})]})]}),p.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Received Items"}),T()>0&&c.jsxs(xt,{variant:"destructive",className:"flex items-center gap-1",children:[c.jsx(Ri,{className:"h-3 w-3"}),T()," Discrepancies"]})]}),c.jsx("div",{className:"space-y-4",children:p.map((O,F)=>c.jsxs("div",{className:`border rounded-lg p-4 space-y-4 ${O.has_discrepancy?"border-red-300 bg-red-50":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-medium",children:O.item_name}),O.has_discrepancy&&c.jsx(xt,{variant:"destructive",children:"Discrepancy"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Quantity Ordered"}),c.jsx(ge,{type:"number",value:O.quantity_ordered,readOnly:!0,className:"bg-gray-50"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Quantity Received *"}),c.jsx(ge,{type:"number",min:"0",value:O.quantity_received,onChange:D=>j(O.id,"quantity_received",parseInt(D.target.value)||0),className:O.has_discrepancy?"border-red-300":"",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Unit of Measure"}),c.jsx(ge,{value:O.unit_of_measure,onChange:D=>j(O.id,"unit_of_measure",D.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Condition"}),c.jsxs(Rt,{value:O.condition,onValueChange:D=>j(O.id,"condition",D),children:[c.jsx(St,{children:c.jsx(Ot,{})}),c.jsxs(Et,{children:[c.jsx(_e,{value:"good",children:"Good"}),c.jsx(_e,{value:"damaged",children:"Damaged"}),c.jsx(_e,{value:"expired",children:"Expired"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Batch Number"}),c.jsx(ge,{value:O.batch_number,onChange:D=>j(O.id,"batch_number",D.target.value),placeholder:"Batch number"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Lot Number"}),c.jsx(ge,{value:O.lot_number,onChange:D=>j(O.id,"lot_number",D.target.value),placeholder:"Lot number"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Manufacture Date"}),c.jsx(ge,{type:"date",value:O.manufacture_date,onChange:D=>j(O.id,"manufacture_date",D.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Expiry Date"}),c.jsx(ge,{type:"date",value:O.expiry_date,onChange:D=>j(O.id,"expiry_date",D.target.value)})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Storage Location"}),c.jsx(ge,{value:O.storage_location,onChange:D=>j(O.id,"storage_location",D.target.value),placeholder:"e.g., Room 1 Cabinet A"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Remarks"}),c.jsx(nn,{value:O.remarks,onChange:D=>j(O.id,"remarks",D.target.value),placeholder:"Special notes or observations"})]})]})]},O.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"notes",children:"Notes/Comments"}),c.jsx(nn,{id:"notes",value:a.notes,onChange:O=>h(F=>({...F,notes:O.target.value})),placeholder:"General notes about the receipt"})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),c.jsx(me,{type:"submit",className:"bg-dental-primary hover:bg-dental-secondary",children:"Create Stock Receipt"})]})]})]})})},aM=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(!1),[o,a]=E.useState([]),[h,p]=E.useState([]),[x,m]=E.useState([]),[v,w]=E.useState(!0),{toast:C}=Dr();E.useEffect(()=>{I()},[]);const I=async()=>{try{const[_,S,N]=await Promise.all([Pe.from("stock_receipts").select(`
          *,
          suppliers(name),
          purchase_orders(po_number),
          stock_receipt_items(*)
        `).order("created_at",{ascending:!1}),Pe.from("purchase_orders").select("*").eq("status","pending").order("po_number"),Pe.from("suppliers").select("*").order("name")]);_.data&&a(_.data),S.data&&p(S.data),N.data&&m(N.data)}catch(_){console.error("Error fetching stock receipts:",_),C({title:"Error",description:"Failed to fetch stock receipts",variant:"destructive"})}finally{w(!1)}},j=_=>{var S;return((S=_.stock_receipt_items)==null?void 0:S.filter(N=>N.has_discrepancy).length)||0},T=_=>{const S=[];return _.invoice_uploaded&&S.push("Invoice"),_.delivery_note_uploaded&&S.push("Delivery Note"),_.qc_report_uploaded&&S.push("QC Report"),S},R=o.filter(_=>{var N,P,O,F;return _.receipt_number.toLowerCase().includes(e.toLowerCase())||((P=(N=_.suppliers)==null?void 0:N.name)==null?void 0:P.toLowerCase().includes(e.toLowerCase()))||((F=(O=_.purchase_orders)==null?void 0:O.po_number)==null?void 0:F.toLowerCase().includes(e.toLowerCase()))});return v?c.jsx("div",{className:"p-6",children:"Loading..."}):c.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-dental-dark",children:"Stock Receiving"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Receive inventory items with batch tracking and discrepancy management"})]}),c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",onClick:()=>r(!0),children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Receive Stock"]})]}),c.jsx(Qe,{children:c.jsx(Ze,{className:"p-4",children:c.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(ge,{placeholder:"Search by receipt number, supplier, or PO...",value:e,onChange:_=>t(_.target.value),className:"pl-10"})]})})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(_=>{var S,N;return c.jsxs(Qe,{className:"card-hover",children:[c.jsx(Sn,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(En,{className:"text-lg font-semibold",children:_.receipt_number}),c.jsxs(_n,{className:"mt-1",children:[((S=_.suppliers)==null?void 0:S.name)||"No supplier"," • ",new Date(_.receipt_date).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs(xt,{className:"bg-green-100 text-green-800",children:[c.jsx(op,{className:"h-3 w-3 mr-1"}),"Received"]}),j(_)>0&&c.jsxs(xt,{variant:"destructive",className:"text-xs",children:[c.jsx(Ri,{className:"h-2 w-2 mr-1"}),j(_)," Issues"]})]})]})}),c.jsxs(Ze,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[c.jsx(yo,{className:"h-3 w-3"}),"Receipt Date:"]}),c.jsx("span",{className:"font-medium",children:new Date(_.receipt_date).toLocaleDateString()})]}),_.purchase_orders&&c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[c.jsx(bs,{className:"h-3 w-3"}),"PO Number:"]}),c.jsx("span",{className:"font-medium",children:_.purchase_orders.po_number})]}),_.received_by&&c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[c.jsx($w,{className:"h-3 w-3"}),"Received By:"]}),c.jsx("span",{className:"font-medium text-xs",children:_.received_by})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[c.jsx(es,{className:"h-3 w-3"}),"Items Received:"]}),c.jsx("span",{className:"font-medium",children:((N=_.stock_receipt_items)==null?void 0:N.length)||0})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Documentation:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:T(_).length>0?T(_).map(P=>c.jsxs(xt,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-200",children:[c.jsx(Mu,{className:"h-2 w-2 mr-1"}),P]},P)):c.jsx(xt,{variant:"outline",className:"text-xs text-gray-500",children:"No documents uploaded"})})]}),c.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",children:[c.jsx(tc,{className:"h-4 w-4 mr-1"}),"View"]}),c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",children:[c.jsx(ji,{className:"h-4 w-4 mr-1"}),"Edit"]}),c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",children:[c.jsx(es,{className:"h-4 w-4 mr-1"}),"Items"]})]}),_.notes&&c.jsxs("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:[c.jsx("strong",{children:"Notes:"})," ",_.notes]})]})]},_.id)})}),R.length===0&&c.jsx(Qe,{className:"text-center py-12",children:c.jsxs(Ze,{children:[c.jsx(Ww,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No stock receipts found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:e?"Try adjusting your search terms":"Get started by receiving your first stock delivery"}),!e&&c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",onClick:()=>r(!0),children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Receive First Stock"]})]})}),c.jsx(oM,{suppliers:x,purchaseOrders:h,onSuccess:I,isOpen:n,onOpenChange:r})]})},lM=()=>{const[e,t]=E.useState(""),[n,r]=E.useState("all"),[o,a]=E.useState(!1),[h,p]=E.useState(!1),[x,m]=E.useState([]),[v,w]=E.useState(null),[C,I]=E.useState(!0),{toast:j}=Dr(),[T,R]=E.useState(!1),[_,S]=E.useState(null),[N,P]=E.useState(!1),[O,F]=E.useState(null),[D,U]=E.useState(!1),[V,re]=E.useState(null),[se,X]=E.useState(!1),[de,te]=E.useState(null);E.useEffect(()=>{$()},[]);const $=async()=>{try{const{data:Q,error:Ee}=await Pe.from("equipment_assets").select(`
          *,
          equipment_maintenance(*)
        `).order("created_at",{ascending:!1});if(Ee)throw Ee;m(Q||[])}catch(Q){console.error("Error fetching equipment:",Q),j({title:"Error",description:"Failed to fetch equipment data",variant:"destructive"})}finally{I(!1)}},oe=async Q=>{try{const Ee=`AST${Date.now().toString().slice(-6)}`,{error:Z}=await Pe.from("equipment_assets").insert([{asset_number:Ee,name:Q.name,category:Q.category,brand:Q.brand,model:Q.model,serial_number:Q.serialNumber,purchase_date:Q.purchaseDate,purchase_price:Q.purchasePrice,warranty_start_date:Q.warrantyStart,warranty_end_date:Q.warrantyEnd,location:Q.location,notes:Q.notes}]);if(Z)throw Z;j({title:"Success",description:"Equipment added successfully"}),a(!1),$()}catch(Ee){console.error("Error adding equipment:",Ee),j({title:"Error",description:"Failed to add equipment",variant:"destructive"})}},ce=async Q=>{try{const{error:Ee}=await Pe.from("equipment_assets").update(Q).eq("id",O.id);if(Ee)throw Ee;j({title:"Success",description:"Equipment updated successfully"}),P(!1),F(null),$()}catch(Ee){console.error("Error updating equipment:",Ee),j({title:"Error",description:"Failed to update equipment",variant:"destructive"})}},K=async Q=>{try{const{error:Ee}=await Pe.from("equipment_maintenance").insert([{equipment_id:v,maintenance_type:Q.maintenanceType,description:Q.description,maintenance_date:Q.maintenanceDate,performed_by:Q.performedBy,cost:Q.cost,next_maintenance_date:Q.nextMaintenanceDate,notes:Q.notes}]);if(Ee)throw Ee;j({title:"Success",description:"Maintenance record added successfully"}),p(!1),w(null),$()}catch(Ee){console.error("Error adding maintenance:",Ee),j({title:"Error",description:"Failed to add maintenance record",variant:"destructive"})}},ae=async Q=>{try{if(!V)return;const{error:Ee}=await Pe.from("equipment_maintenance").update({maintenance_date:Q.maintenanceDate,maintenance_type:Q.maintenanceType,description:Q.description,performed_by:Q.performedBy,cost:Q.cost===""?null:Number(Q.cost),next_maintenance_date:Q.nextMaintenanceDate,notes:Q.notes}).eq("id",V.id);if(Ee)throw Ee;j({title:"Success",description:"Maintenance record updated."}),U(!1),re(null),$()}catch(Ee){console.error("Error updating maintenance:",Ee),j({title:"Error",description:"Failed to update maintenance record",variant:"destructive"})}},we=async()=>{try{if(!de)return;const{error:Q}=await Pe.from("equipment_maintenance").delete().eq("id",de.id);if(Q)throw Q;j({title:"Deleted",description:"Maintenance record deleted."}),X(!1),te(null),$()}catch(Q){console.error("Error deleting maintenance:",Q),j({title:"Error",description:"Failed to delete maintenance record",variant:"destructive"})}},xe=Q=>{const Ee={active:{color:"bg-green-100 text-green-800",icon:op},maintenance:{color:"bg-yellow-100 text-yellow-800",icon:vm},retired:{color:"bg-gray-100 text-gray-800",icon:Bw},disposed:{color:"bg-red-100 text-red-800",icon:Ri}},Z=Ee[Q]||Ee.active,Ne=Z.icon;return c.jsxs(xt,{className:`${Z.color} flex items-center gap-1`,children:[c.jsx(Ne,{className:"h-3 w-3"}),Q.charAt(0).toUpperCase()+Q.slice(1)]})},be=Q=>{if(!Q)return!1;const Ee=new Date,Ne=new Date(Q).getTime()-Ee.getTime(),Re=Math.ceil(Ne/(1e3*60*60*24));return Re<=30&&Re>0},ke=x.filter(Q=>{var Ne;const Ee=Q.name.toLowerCase().includes(e.toLowerCase())||((Ne=Q.brand)==null?void 0:Ne.toLowerCase().includes(e.toLowerCase()))||Q.asset_number.toLowerCase().includes(e.toLowerCase()),Z=n==="all"||Q.status===n;return Ee&&Z});return C?c.jsx("div",{className:"p-6",children:"Loading..."}):c.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-dental-dark",children:"Equipment & Assets"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Track dental equipment, maintenance, and warranties"})]}),c.jsxs(cn,{open:o,onOpenChange:a,children:[c.jsx(uc,{asChild:!0,children:c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Add Equipment"]})}),c.jsxs(Jt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Add New Equipment"}),c.jsx(Pn,{children:"Register new dental equipment or asset"})]}),c.jsxs("form",{onSubmit:Q=>{Q.preventDefault();const Ee=Q.currentTarget,Z=new FormData(Ee);oe({name:Z.get("name"),category:Z.get("category"),brand:Z.get("brand"),model:Z.get("model"),serialNumber:Z.get("serialNumber"),purchaseDate:Z.get("purchaseDate"),purchasePrice:Z.get("purchasePrice"),warrantyStart:Z.get("warrantyStart"),warrantyEnd:Z.get("warrantyEnd"),location:Z.get("location"),notes:Z.get("notes")})},className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"name",children:"Equipment Name *"}),c.jsx(ge,{name:"name",placeholder:"e.g., Digital X-Ray Machine",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"category",children:"Category *"}),c.jsxs(Rt,{name:"category",required:!0,children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select category"})}),c.jsxs(Et,{children:[c.jsx(_e,{value:"Imaging",children:"Imaging Equipment"}),c.jsx(_e,{value:"Dental Chair",children:"Dental Chairs"}),c.jsx(_e,{value:"Sterilization",children:"Sterilization"}),c.jsx(_e,{value:"Laboratory",children:"Laboratory Equipment"}),c.jsx(_e,{value:"Computer",children:"Computer/Software"}),c.jsx(_e,{value:"Other",children:"Other"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"brand",children:"Brand"}),c.jsx(ge,{name:"brand",placeholder:"Equipment brand"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"model",children:"Model"}),c.jsx(ge,{name:"model",placeholder:"Model number"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"serialNumber",children:"Serial Number"}),c.jsx(ge,{name:"serialNumber",placeholder:"Serial number"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"purchaseDate",children:"Purchase Date"}),c.jsx(ge,{name:"purchaseDate",type:"date"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"purchasePrice",children:"Purchase Price (Rs.)"}),c.jsx(ge,{name:"purchasePrice",type:"number",step:"0.01",placeholder:"0.00"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"location",children:"Location"}),c.jsx(ge,{name:"location",placeholder:"e.g., Room 101"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"warrantyStart",children:"Warranty Start"}),c.jsx(ge,{name:"warrantyStart",type:"date"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"warrantyEnd",children:"Warranty End"}),c.jsx(ge,{name:"warrantyEnd",type:"date"})]}),c.jsxs("div",{className:"col-span-2 space-y-2",children:[c.jsx(ne,{htmlFor:"notes",children:"Notes"}),c.jsx(nn,{name:"notes",placeholder:"Additional notes..."})]}),c.jsxs("div",{className:"col-span-2 flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),c.jsx(me,{type:"submit",className:"bg-dental-primary hover:bg-dental-secondary",children:"Add Equipment"})]})]})]})]})]}),c.jsx(Qe,{children:c.jsx(Ze,{className:"p-4",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(ge,{placeholder:"Search by name, brand, or asset number...",value:e,onChange:Q=>t(Q.target.value),className:"pl-10"})]}),c.jsxs(Rt,{value:n,onValueChange:r,children:[c.jsxs(St,{className:"w-48",children:[c.jsx(ap,{className:"h-4 w-4 mr-2"}),c.jsx(Ot,{})]}),c.jsxs(Et,{children:[c.jsx(_e,{value:"all",children:"All Status"}),c.jsx(_e,{value:"active",children:"Active"}),c.jsx(_e,{value:"maintenance",children:"Maintenance"}),c.jsx(_e,{value:"retired",children:"Retired"}),c.jsx(_e,{value:"disposed",children:"Disposed"})]})]})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ke.map(Q=>c.jsxs(Qe,{className:"card-hover",children:[c.jsx(Sn,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(En,{className:"text-lg font-semibold line-clamp-2",children:Q.name}),c.jsxs(_n,{className:"mt-1",children:[Q.asset_number," • ",Q.category]})]}),xe(Q.status)]})}),c.jsxs(Ze,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-3 text-sm",children:[Q.brand&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Brand:"}),c.jsx("span",{className:"font-medium",children:Q.brand})]}),Q.model&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Model:"}),c.jsx("span",{className:"font-medium",children:Q.model})]}),Q.location&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Location:"}),c.jsx("span",{className:"font-medium",children:Q.location})]}),Q.purchase_price&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Value:"}),c.jsxs("span",{className:"font-medium",children:["Rs. ",Q.purchase_price]})]})]}),Q.warranty_end_date&&c.jsx("div",{className:`p-2 rounded text-xs ${be(Q.warranty_end_date)?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-gray-50 text-gray-600"}`,children:c.jsxs("div",{className:"flex items-center",children:[be(Q.warranty_end_date)&&c.jsx(Ri,{className:"h-3 w-3 mr-1"}),"Warranty expires: ",new Date(Q.warranty_end_date).toLocaleDateString()]})}),(()=>{const Ee=Q.equipment_maintenance||[];if(!Ee.length)return null;const Z=Ee.reduce((Re,st)=>Re.maintenance_date>st.maintenance_date?Re:st),Ne=Ee.filter(Re=>Re.next_maintenance_date).sort((Re,st)=>Re.next_maintenance_date.localeCompare(st.next_maintenance_date))[0];return c.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[c.jsxs("div",{children:["Last Maintenance: ",c.jsx("span",{className:"font-medium",children:Z.maintenance_date})]}),Ne&&c.jsxs("div",{children:["Next Scheduled: ",c.jsx("span",{className:"font-medium",children:Ne.next_maintenance_date})]}),c.jsxs("div",{children:["Total Records: ",c.jsx("span",{className:"font-medium",children:Ee.length})]})]})})(),c.jsxs("div",{className:"flex items-center space-x-1 pt-2",children:[c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{S(Q),R(!0)},children:[c.jsx(tc,{className:"h-4 w-4 mr-1"}),"View"]}),c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{F(Q),P(!0)},children:[c.jsx(ji,{className:"h-4 w-4 mr-1"}),"Edit"]}),c.jsxs(me,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{w(Q.id),p(!0)},children:[c.jsx(vm,{className:"h-4 w-4 mr-1"}),"Maintain"]})]})]})]},Q.id))}),c.jsx(cn,{open:h,onOpenChange:p,children:c.jsxs(Jt,{className:"max-w-2xl",children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Add Maintenance Record"}),c.jsx(Pn,{children:"Record maintenance activity for this equipment"})]}),c.jsxs("form",{onSubmit:Q=>{Q.preventDefault();const Ee=Q.currentTarget,Z=new FormData(Ee);K({maintenanceType:Z.get("maintenanceType"),description:Z.get("description"),maintenanceDate:Z.get("maintenanceDate"),performedBy:Z.get("performedBy"),cost:Z.get("cost"),nextMaintenanceDate:Z.get("nextMaintenanceDate"),notes:Z.get("notes")})},className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"maintenanceType",children:"Maintenance Type *"}),c.jsxs(Rt,{name:"maintenanceType",required:!0,children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select type"})}),c.jsxs(Et,{children:[c.jsx(_e,{value:"preventive",children:"Preventive"}),c.jsx(_e,{value:"corrective",children:"Corrective"}),c.jsx(_e,{value:"emergency",children:"Emergency"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"maintenanceDate",children:"Maintenance Date *"}),c.jsx(ge,{name:"maintenanceDate",type:"date",required:!0,defaultValue:new Date().toISOString().split("T")[0]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"description",children:"Description *"}),c.jsx(nn,{name:"description",placeholder:"Describe the maintenance work performed...",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"performedBy",children:"Performed By"}),c.jsx(ge,{name:"performedBy",placeholder:"Technician name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"cost",children:"Cost (Rs.)"}),c.jsx(ge,{name:"cost",type:"number",step:"0.01",placeholder:"0.00"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"nextMaintenanceDate",children:"Next Maintenance Date"}),c.jsx(ge,{name:"nextMaintenanceDate",type:"date"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"notes",children:"Additional Notes"}),c.jsx(nn,{name:"notes",placeholder:"Additional maintenance notes..."})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),c.jsx(me,{type:"submit",className:"bg-dental-primary hover:bg-dental-secondary",children:"Add Record"})]})]})]})}),c.jsx(cn,{open:T,onOpenChange:R,children:c.jsxs(Jt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Equipment Details"}),c.jsx(Pn,{children:"View all details for this equipment or asset"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Name"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded",children:(_==null?void 0:_.name)||"-"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Category"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded",children:(_==null?void 0:_.category)||"-"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Brand"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded",children:(_==null?void 0:_.brand)||"-"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Model"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded",children:(_==null?void 0:_.model)||"-"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Serial Number"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded",children:(_==null?void 0:_.serial_number)||"-"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Purchase Date"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded",children:(_==null?void 0:_.purchase_date)||"-"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Purchase Price"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded",children:_!=null&&_.purchase_price?`Rs. ${_.purchase_price}`:"-"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Location"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded",children:(_==null?void 0:_.location)||"-"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Warranty Start"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded",children:(_==null?void 0:_.warranty_start_date)||"-"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Warranty End"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded",children:(_==null?void 0:_.warranty_end_date)||"-"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{children:"Status"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded",children:(_==null?void 0:_.status)||"-"})]}),c.jsxs("div",{className:"col-span-2 space-y-2",children:[c.jsx(ne,{children:"Notes"}),c.jsx("div",{className:"p-2 bg-gray-50 rounded min-h-[40px]",children:(_==null?void 0:_.notes)||"-"})]})]}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Maintenance History"}),Array.isArray(_==null?void 0:_.equipment_maintenance)&&_.equipment_maintenance.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-xs border",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100",children:[c.jsx("th",{className:"px-2 py-1 border",children:"Date"}),c.jsx("th",{className:"px-2 py-1 border",children:"Type"}),c.jsx("th",{className:"px-2 py-1 border",children:"Description"}),c.jsx("th",{className:"px-2 py-1 border",children:"Performed By"}),c.jsx("th",{className:"px-2 py-1 border",children:"Cost"}),c.jsx("th",{className:"px-2 py-1 border",children:"Next"}),c.jsx("th",{className:"px-2 py-1 border",children:"Notes"}),c.jsx("th",{className:"px-2 py-1 border",children:"Actions"})]})}),c.jsx("tbody",{children:_.equipment_maintenance.map(Q=>c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"px-2 py-1 border",children:Q.maintenance_date}),c.jsx("td",{className:"px-2 py-1 border",children:Q.maintenance_type}),c.jsx("td",{className:"px-2 py-1 border max-w-[120px] truncate",children:Q.description}),c.jsx("td",{className:"px-2 py-1 border",children:Q.performed_by}),c.jsx("td",{className:"px-2 py-1 border",children:Q.cost?`Rs. ${Q.cost}`:"-"}),c.jsx("td",{className:"px-2 py-1 border",children:Q.next_maintenance_date||"-"}),c.jsx("td",{className:"px-2 py-1 border max-w-[120px] truncate",children:Q.notes}),c.jsxs("td",{className:"px-2 py-1 border",children:[c.jsx(me,{size:"icon",variant:"ghost",onClick:()=>{re(Q),U(!0)},title:"Edit",children:c.jsx(ji,{className:"h-4 w-4"})}),c.jsx(me,{size:"icon",variant:"ghost",className:"ml-1",onClick:()=>{te(Q),X(!0)},title:"Delete",children:c.jsx(Hw,{className:"h-4 w-4 text-red-600"})})]})]},Q.id))})]})}):c.jsx("div",{className:"text-gray-500",children:"No maintenance records found."})]}),c.jsx("div",{className:"flex justify-end mt-4",children:c.jsx(me,{type:"button",variant:"outline",onClick:()=>R(!1),children:"Close"})})]})}),c.jsx(cn,{open:N,onOpenChange:P,children:c.jsxs(Jt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Edit Equipment"}),c.jsx(Pn,{children:"Update equipment or asset details"})]}),c.jsxs("form",{onSubmit:Q=>{Q.preventDefault();const Ee=Q.currentTarget,Z=new FormData(Ee);ce({name:Z.get("name"),category:Z.get("category"),brand:Z.get("brand"),model:Z.get("model"),serialNumber:Z.get("serialNumber"),purchaseDate:Z.get("purchaseDate"),purchasePrice:Z.get("purchasePrice"),warrantyStart:Z.get("warrantyStart"),warrantyEnd:Z.get("warrantyEnd"),location:Z.get("location"),notes:Z.get("notes"),status:Z.get("status")})},className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"name",children:"Equipment Name *"}),c.jsx(ge,{name:"name",defaultValue:(O==null?void 0:O.name)||"",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"category",children:"Category *"}),c.jsxs(Rt,{name:"category",defaultValue:(O==null?void 0:O.category)||"",required:!0,children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select category"})}),c.jsxs(Et,{children:[c.jsx(_e,{value:"Imaging",children:"Imaging Equipment"}),c.jsx(_e,{value:"Dental Chair",children:"Dental Chairs"}),c.jsx(_e,{value:"Sterilization",children:"Sterilization"}),c.jsx(_e,{value:"Laboratory",children:"Laboratory Equipment"}),c.jsx(_e,{value:"Computer",children:"Computer/Software"}),c.jsx(_e,{value:"Other",children:"Other"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"brand",children:"Brand"}),c.jsx(ge,{name:"brand",defaultValue:(O==null?void 0:O.brand)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"model",children:"Model"}),c.jsx(ge,{name:"model",defaultValue:(O==null?void 0:O.model)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"serialNumber",children:"Serial Number"}),c.jsx(ge,{name:"serialNumber",defaultValue:(O==null?void 0:O.serial_number)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"purchaseDate",children:"Purchase Date"}),c.jsx(ge,{name:"purchaseDate",type:"date",defaultValue:(O==null?void 0:O.purchase_date)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"purchasePrice",children:"Purchase Price (Rs.)"}),c.jsx(ge,{name:"purchasePrice",type:"number",step:"0.01",defaultValue:(O==null?void 0:O.purchase_price)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"location",children:"Location"}),c.jsx(ge,{name:"location",defaultValue:(O==null?void 0:O.location)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"warrantyStart",children:"Warranty Start"}),c.jsx(ge,{name:"warrantyStart",type:"date",defaultValue:(O==null?void 0:O.warranty_start_date)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"warrantyEnd",children:"Warranty End"}),c.jsx(ge,{name:"warrantyEnd",type:"date",defaultValue:(O==null?void 0:O.warranty_end_date)||""})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ne,{htmlFor:"status",children:"Status *"}),c.jsxs(Rt,{name:"status",defaultValue:(O==null?void 0:O.status)||"active",required:!0,children:[c.jsx(St,{children:c.jsx(Ot,{placeholder:"Select status"})}),c.jsxs(Et,{children:[c.jsx(_e,{value:"active",children:"Active"}),c.jsx(_e,{value:"maintenance",children:"Maintenance"}),c.jsx(_e,{value:"retired",children:"Retired"}),c.jsx(_e,{value:"disposed",children:"Disposed"})]})]})]}),c.jsxs("div",{className:"col-span-2 space-y-2",children:[c.jsx(ne,{htmlFor:"notes",children:"Notes"}),c.jsx(nn,{name:"notes",defaultValue:(O==null?void 0:O.notes)||""})]}),c.jsxs("div",{className:"col-span-2 flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:()=>P(!1),children:"Cancel"}),c.jsx(me,{type:"submit",className:"bg-dental-primary hover:bg-dental-secondary",children:"Save Changes"})]})]})]})}),c.jsx(cn,{open:D,onOpenChange:U,children:c.jsxs(Jt,{className:"max-w-lg",children:[c.jsx(en,{children:c.jsx(tn,{children:"Edit Maintenance Record"})}),c.jsxs("form",{className:"space-y-2",onSubmit:Q=>{Q.preventDefault();const Ee=Q.currentTarget,Z=new FormData(Ee);ae({maintenanceDate:Z.get("maintenanceDate"),maintenanceType:Z.get("maintenanceType"),description:Z.get("description"),performedBy:Z.get("performedBy"),cost:Z.get("cost"),nextMaintenanceDate:Z.get("nextMaintenanceDate"),notes:Z.get("notes")})},children:[c.jsx(ge,{name:"maintenanceDate",type:"date",defaultValue:(V==null?void 0:V.maintenance_date)||""}),c.jsx(ge,{name:"maintenanceType",defaultValue:(V==null?void 0:V.maintenance_type)||""}),c.jsx(nn,{name:"description",defaultValue:(V==null?void 0:V.description)||""}),c.jsx(ge,{name:"performedBy",defaultValue:(V==null?void 0:V.performed_by)||""}),c.jsx(ge,{name:"cost",type:"number",step:"0.01",defaultValue:(V==null?void 0:V.cost)||""}),c.jsx(ge,{name:"nextMaintenanceDate",type:"date",defaultValue:(V==null?void 0:V.next_maintenance_date)||""}),c.jsx(nn,{name:"notes",defaultValue:(V==null?void 0:V.notes)||""}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(me,{type:"button",variant:"outline",onClick:()=>U(!1),children:"Cancel"}),c.jsx(me,{type:"submit",className:"bg-dental-primary",children:"Save"})]})]})]})}),c.jsx(cn,{open:se,onOpenChange:X,children:c.jsxs(Jt,{className:"max-w-md",children:[c.jsxs(en,{children:[c.jsx(tn,{children:"Delete Maintenance Record"}),c.jsx(Pn,{children:"Are you sure you want to delete this maintenance record?"})]}),c.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[c.jsx(me,{type:"button",variant:"outline",onClick:()=>X(!1),children:"Cancel"}),c.jsx(me,{type:"button",className:"bg-red-600 hover:bg-red-700 text-white",onClick:we,children:"Delete"})]})]})}),ke.length===0&&c.jsx(Qe,{className:"text-center py-12",children:c.jsxs(Ze,{children:[c.jsx(ld,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No equipment found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:e||n!=="all"?"Try adjusting your filters or search terms":"Get started by adding your first equipment"}),!e&&n==="all"&&c.jsxs(me,{className:"bg-dental-primary hover:bg-dental-secondary",onClick:()=>a(!0),children:[c.jsx(yr,{className:"h-4 w-4 mr-2"}),"Add First Equipment"]})]})})]})},cM=()=>{const e=Ao();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},uM=new eI,dM=()=>c.jsx(nI,{client:uM,children:c.jsxs(k2,{children:[c.jsx(T3,{}),c.jsx(r4,{}),c.jsx(ZI,{children:c.jsx(Pb,{children:c.jsxs("div",{className:"min-h-screen flex w-full bg-dental-light",children:[c.jsx(Bj,{}),c.jsx("main",{className:"flex-1 overflow-auto",children:c.jsxs(WI,{children:[c.jsx(ds,{path:"/",element:c.jsx(hO,{})}),c.jsx(ds,{path:"/inventory",element:c.jsx(eM,{})}),c.jsx(ds,{path:"/purchase-orders",element:c.jsx(iM,{})}),c.jsx(ds,{path:"/stock-receiving",element:c.jsx(aM,{})}),c.jsx(ds,{path:"/equipment",element:c.jsx(lM,{})}),c.jsx(ds,{path:"/suppliers",element:c.jsx(tM,{})}),c.jsx(ds,{path:"/reports",element:c.jsx(nM,{})}),c.jsx(ds,{path:"/settings",element:c.jsx(rM,{})}),c.jsx(ds,{path:"*",element:c.jsx(cM,{})})]})})]})})})]})});cw(document.getElementById("root")).render(c.jsx(dM,{}));
